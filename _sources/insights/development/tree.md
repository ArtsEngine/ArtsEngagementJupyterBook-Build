# Developmental Role Topic Tree

This tree map shows the distribution of topics among the responses to the question, ***“What role did the arts play in your development as a person, friend, colleague, and student during college?”***. It contains 10 topics, and 812 responses. The topics identified are located at the ends of the braches, also called leaf nodes, and the branching nodes are topic clusters, or parent nodes. The numbers are the total prevalence (0-100%) of the topic or cluster as a percentage all the documents/responses.

```{admonition} **Click on any node on the tree below for more information.** 
Each node contains descriptions of each topic, key words for interpreting the topic, and representative responses that were used to interpret each topic's identity and description.
```

<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Roboto|Raleway:600,400,200' rel='stylesheet' type='text/css'>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    
<script>
   var stm_data = {"children":[{"name":["Social Identity"],"summary":["This node of responses focuses on the impact of the arts in college on Social Connections and on Identity. \n\nThere were multiple impacts in the category of Social Connections.  Supporting friends in their artistic endeavors is a way to both maintain relationships through mutual interests in the arts as well as to share and take pride in friends’ creative endeavors and accomplishments. Having these relationships supported through arts attendance helped students maintain balance in their academic lives. \n\nThe primary effect on Identity was the arts’ contribution to students’ personal and professional lives, the way they view themselves, or their pursuit of their life-long goals. In some cases, the arts come to play an integral role."],"children":[{"name":["Social Connections"],"summary":["To be included in this node, responses typically included the word “friend,” and described either attending arts events with friends, supporting friends engaged themselves in arts events or activities, or gaining or maintaining friendships (social bonds) through mutual interests centered around the arts."],"children":[{"name":["Strengthened Social Bonds"],"summary":["Typical responses in this impact area include expressions of the importance of attending arts events with friends or supporting friends in their arts activities as a way for friendships to become closer.  There was also the observation of being closer to friends who were involved in the arts, or that those friends were valuable to their broader college experiences or in developing new perspectives. \n\nThis differs from the reported Supported Friends section in that these reported impacts focus on becoming “closer” to existing friends through the arts rather than the personal enjoyment or enrichment that supporting friends in their arts interests engenders.  This section also speaks to developing a greater respect or appreciation of their friends’ skills, commitment and creativity through the shared interest in their arts participation."],"size":[1800],"topic_no":[6],"thoughts":["Increased my appreciation for the arts and made me understand a bit more what the interesting points of other careers/experiences are-- prior to the few classes I took, while I was respectful of those who were doing arts related majors, I never really undrstood why. Having taken these classes, I can definitely appreciate it now.","Attending art events was something I did with my friends, and brought us closer together.","Supporting friends in productions by attending, writing reflections on art performances attended for class","Furthered my creative expression through writing - allowed me to express more easily who I am/my personality, which was satisfying on a personal level. Increased my appreciation for individuals with similar interest in arts. which led to me choosing certan friends over others as the ones to spend time with. Focused my studies on writing as a student as opposed to on another subject.","I went to friends' performances and they were very happy for my attendance. The arts also kept me open-minded","Well, it helped me get closer to my friends when I attended events that they were involved in or event I went with them to.","learning graphic design in how it relates to branding\r\nrealization that operas are personally boring and i don't enjoy attending classical concerts or operas","Went to performances with friends, and watched some friends perform","Kept me true to myself. Reminded me there is more than my own major. Kept me in touch with the fact that you don't have to be good at math to be smart, even though I've spent four years (or perhaps my entire formal education) being taught that.","Helps me grow as a person through creative writing. Attending different performances show me the variety of cultures and perspectives around the world.","Attended events with friends, gained a greater understanding of the world and cultures through art","brought me closer to people around me","It allowed me to show my support for friends who were involved in the arts. If I went to their events, I was able to congratulate them and share in that experience with them.","It was a very social experience to attend art events. Gave us something of substance to discuss.","I attended events to support my friends"],"thought_proportions":[0.3005,0.2872,0.2872,0.2796,0.2596,0.259,0.2542,0.2423,0.2378,0.2265,0.2241,0.223,0.2221,0.203,0.2001],"prob":["express, attend, event, perform, experi, well-round, definit"],"frex":["express, attend, event, experi, well-round, gain, sure"],"lift":["attend, express, relat, sure, write, big, concert"],"score":["big, attend, event, express, perform, experi, write"],"proportion":["0.08"]},{"name":["Supported Friends"],"summary":["This set of reported impacts described the opportunities for and  importance of supporting friends involved in the arts through attendance at arts activities. This support provided enjoyment through the arts, as well as appreciation for the opportunity to support their friends in something that was important to them. \n\nThis node differs from Strengthened Social Bonds in that these reported impacts focus on the more personal enjoyment of the shared activities and the rewards that come from both being a good friend and exploring your friends’ interests."],"size":[1800],"topic_no":[9],"thoughts":["Joining the Gargoyle made me many good friends. I also enjoyed going to shows with friends - especially those friends were in.","It was good to have a group activity that wasn't class. The semester I did not do choir something was missing. Some of my best friends were made through the arts.","visitings friends shows, museums, classes. all good things.","Many of my friends participate or hold leadership position in arts organizations. I support them as a friend and appreciate what they do. It was nice to be there and celebrate someone else's accomplishments.","I was able to show my support for many friends and colleagues by attending shows, performances, exhibits, etc.","The biggest role is personal appreciation for the arts and appreciation for beauty. As a friend, I have attende many arts events simply to support my friends that are involved","I have been supportive of my friends who do things in the arts (performances). It's been a way for me to keep in touch with my friends and show my support for them.","I felt like I gained a deeper appreciation for art and could go to events with friends and appreciate it together","They were a social activity that I attended with friends, or I'd attend shows that friends were participating in","Arts was somewhere I could turn to, as science was so rigid. I felt I could express myself more freely through the arts, and in a way, it was cathartic. It also in turn, showed me a little bit more of who I am inside, especially when I volunteered at the ospital by playing piano. At first, I was terrified of making mistakes, but slowly and surely, I came to turn those mistakes into something beautiful, and being able to express myself to the audience without necessarily using words.","I supported my best friend in her theatre endeavors over the past ten years.","became a better friend by supporting friends' participation in the arts","I realized the things that I appreciate more and hence try to replicate effects/images in my own way and style.  Then using that, I produce something similar and then present to my friends and peers.","Attending events or going to the museums has been a good low cost activity to do with friends","I have used the arts to make things for my friends and family throughout college because I think it is more personal. Also, I have gone to events that friends were participants of to show them my support.","It helped me to get to know my friends and fellow students better. It also helped me appreciate the interests of others and the general beauty of the arts and what us humans are able to accomplish.","I got to know some of my closest college friends through the arts activities that we both participated in.","Went to performances with friends, and watched some friends perform","i have been to many performances to support my friends who were involved","met many friends through shared participation","They helped me to be a good friend since I could support my friends in the arts.","Enjoyment of music brought me and my friends together more","Supporting friends in productions by attending, writing reflections on art performances attended for class","Attending art events was something I did with my friends, and brought us closer together.","Arts-related activities were often a social experience for me with friends.","The arts were a source of enjoyment and something I could do with friends.","taught me to appreciate the beauty of things more","The arts have made me more appreciative of the beauty in simple things","I have been able to support many of my friends who are highly involved in the arts, which has been good for these relationships.","I was endlessly impressed by watching my friends in their arts performances and by seeing their pieces on display. I learned more about them by watching and listening as one person in a crowd than I did in many of our one-on-one interactions together.","It really gave me a greater appreciation and understanding for expression and performance. It's something I really enjoy and take interest in now.","Arts often gave me something to relate to when meeting new people and even with people who I've known. Arts were often the center of many social outings with friends. Many forms of art also helped me better understand the world around me and appreciate th beauty in day-to-day things.","I felt that my involvement in the arts was greatly decreased once i got to college, and therefore played a much less significant role in my development as a person, friends, colleague, and student.  I do feel that the arts i did participate in helped me prsonally by acting as an emotional release/therapy which in turn, made me a better friend, student and colleague.","The arts created a convenient shared experience with fellow students and friends, as well as a highly enjoyable atmosphere to meet new people with similar tastes.","My participation in a student orchestra allowed me an outlet for creative expression and development; something which I did not come by as often in my regular classes.","I enjoyed supporting friends who were involved. It helped me learn about new things that I could possibly do myself.","watched my friends - think they appreciated it - strengthened friendship/ made me appreciate the work they put into it","I attended events to support my friends","The arts have mostly allowed me to develop a greater appreciation for those friends, colleagues who are involved in the arts.","I have attended many arts events to support my friends and I definitely think that it has helped me to develop as a friend. I also was able to meet new friends through the arts participants that I know. I also think that attendance of arts events has mademe a more intelligent/worldly person and therefore more successful as a person and as a student.","art has been used as a vehicle for creative expression and empowerment in many of the workshops I have participated in and lead.","Encouraged creativity and even allowed greater connection between friends by participating in arts together.","It shaped me as a person, friend, colleague and student.  I am much more effervescent, and I have let go of some of the inhibitions I carried with me throughout my pre-college life.  The arts endowed me with greater confidence, which in turn allowed me tobe more extroverted.","It has contributed to personal enjoyment and fulfillment...which I am sure has contributed to my roles as a friend, colleague and student. Especially with literature, it has allowed me to be a more empathetic and open.","It allowed me to show my support for friends who were involved in the arts. If I went to their events, I was able to congratulate them and share in that experience with them.","Not much in all honesty. It was truly just for enjoyment purposes or to support friends that were involved in the arts.","The arts were the medium through which I was able to become a friend and a successful student during college.  Most of my closest friends became that way through because we shared similar interests in the arts and other humanities. Without the arts, I dont think I would have been able to make the kind of lasting connections that I have now.","My gf is in the art school, but before that I did not fully appreciate the arts. I didn't know how many areas the arts encompassed.","The arts allow me to both enjoy myself (attendance) and express myself (singing in choir).","They played a lot! I think that art helped me to develop my personal sense of style and creativity, and it was a good medium to help me collaborate/work with other friends to create something together. Plus, it was an enjoyable environment for people to gt to know each other in."],"thought_proportions":[0.4868,0.4633,0.463,0.4336,0.4277,0.4178,0.405,0.4037,0.4037,0.3817,0.3775,0.3638,0.3556,0.3541,0.3466,0.3456,0.3432,0.3419,0.3412,0.3372,0.3356,0.3332,0.3278,0.3278,0.3276,0.3261,0.3255,0.3245,0.3192,0.319,0.3177,0.3149,0.3142,0.3136,0.3118,0.3083,0.3063,0.3049,0.3044,0.301,0.2992,0.2952,0.2932,0.2909,0.2886,0.2881,0.2838,0.2809,0.2795,0.2794],"prob":["friend, appreci, thing, student, realli, enjoy, someth"],"frex":["friend, appreci, support, class, good, colleagu, activ"],"lift":["appreci, good, accomplish, best, colleagu, creat, endeavor"],"score":["friend, appreci, support, nice, student, colleagu, someth"],"proportion":["0.15"]}],"topic_no":[6,9],"thoughts":["I'm not sure, but I met some of my friends at different art events, and cemented old friendships at some of the same events.","Not a big one","A very big one.","Not a big one","It did not, I probably only attended 5 arts events over my 4 years here.","The arts have been an avenue of creative expression for me, and have kept me balanced.","It allowed me to gain an appreciation for art forms around the world.","more well-rounded, open-minded, relateable","It let me have talking points and it helped me relate to a wider variety of people.","It was a very social experience to attend art events. Gave us something of substance to discuss.","Attending arts events helped me expand my network and allowed me another outlet to bond with friends. They were also opportunities to experience something new and exciting.","They have really shaped my experiences here.  I wish I had more experiences outside the arts because I am so shaped and driven by them.","I became more well-rounded due to my experiences","Increased my appreciation for the arts and made me understand a bit more what the interesting points of other careers/experiences are-- prior to the few classes I took, while I was respectful of those who were doing arts related majors, I never really undrstood why. Having taken these classes, I can definitely appreciate it now.","Kept me true to myself. Reminded me there is more than my own major. Kept me in touch with the fact that you don't have to be good at math to be smart, even though I've spent four years (or perhaps my entire formal education) being taught that.","brought me closer to people around me","Attended events with friends, gained a greater understanding of the world and cultures through art","Definitely made me appreciate those that perform.","Attending art events was something I did with my friends, and brought us closer together.","Supporting friends in productions by attending, writing reflections on art performances attended for class","Attending performances was a good way to relieve stress, and a good way to meet people and become friends while talking about arts. Creative writing gave me a chance to express myself and make me feel like I was doing something valuable at times when I fet like life was rather repetitive, just a cycle of going to class, doing assignments, chatting with friends, and then going to bed.","Not a large role, I only went to a jazz concert because my class required it.","Attended friends' plays and concerts","Made me appreciate the talent around campus, was a fun way to get together with friends and attend different events","I was not very involved in the arts. I mainly just attended events, but they were enjoyable. They helped me appreciate the arts more because the arts are taken for granted.","secondary role but I enjoyed attending artistic events","I went to friends' performances and they were very happy for my attendance. The arts also kept me open-minded","As a person, I'm more well-rounded, like I mentioned earlier. As a friend, I think I'm much more supportive and can express that support by attending friends' performances, appreciating the time they've taken to practice and prepare, and the like. As a stdent, I've learned more about culture.","i really enjoyed the arts events that I did attend although I wish I would have had time to make it a bigger priority.","learning graphic design in how it relates to branding\r\nrealization that operas are personally boring and i don't enjoy attending classical concerts or operas","It allowed me to show my support for friends who were involved in the arts. If I went to their events, I was able to congratulate them and share in that experience with them.","Furthered my creative expression through writing - allowed me to express more easily who I am/my personality, which was satisfying on a personal level. Increased my appreciation for individuals with similar interest in arts. which led to me choosing certan friends over others as the ones to spend time with. Focused my studies on writing as a student as opposed to on another subject.","Well, it helped me get closer to my friends when I attended events that they were involved in or event I went with them to.","I was able to support friends of mine who have a passion for self-expression and performance by attending their operas, story and poetry slams, and concerts while building an artistic backdrop for myself.","The arts allow me to both enjoy myself (attendance) and express myself (singing in choir).","It's given me a more well-rounded perspective, allowed me to support my friends that participate in the arts, and generally enhanced my educational experience.","The arts contributed to my performance and achievement as a student because it gave me a creative outlook and interesting things to write about and speak about in class.","Went to performances with friends, and watched some friends perform"],"thought_proportions":[0.3962,0.3764,0.3764,0.3764,0.3508,0.3093,0.3268,0.3411,0.3759,0.393,0.3362,0.3697,0.3265,0.5782,0.4459,0.4129,0.4084,0.4118,0.6149,0.6149,0.3545,0.3701,0.4098,0.361,0.4136,0.3823,0.4572,0.4492,0.4531,0.4423,0.5107,0.4843,0.4373,0.4111,0.4612,0.4326,0.421,0.5842],"thought_variances":[0.0006,0.0017,0.0017,0.0017,0.0019,0.0061,0.0082,0.0094,0.0115,0.013,0.0152,0.0154,0.0183,0.0227,0.0296,0.0331,0.0398,0.0405,0.0406,0.0406,0.0444,0.0458,0.0484,0.0512,0.0561,0.059,0.062,0.0656,0.066,0.0662,0.0665,0.0749,0.0806,0.0892,0.0978,0.0979,0.0981,0.0996]},{"name":["Identity"],"summary":["Responses in the area of Identity have been split into three nodes – those responses that describe how engaging with the arts changed the way they view themselves (Became Part of Identity), impacted specific skills and abilities (Played a Developmental Role), or had little or no effect on their development in college (Didn’t Play a  Role).  \n\nFor those responses where students indicated that the arts led to changes in their identity, behavior, or abilities (Became Part of Identity), these changes are reported as overwhelmingly positive, and typically the response includes more than one area of reported change. \n\nIn Played a Developmental Role, students reported areas they personally developed with more specific descriptive skills or attributes, rather than or in addition to  comments about their more overarching identity, behavior or life changes.  These areas included things like critical thinking, psychological and social well-being, discipline, respect, open-mindedness, cultural awareness, communication, confidence and expression.\n\nIn the responses indicating the arts Didn’t Play a Role in their development in college, there was either no connection made between the arts and their development, or there was an indication that there might have been a role if there had been time for participation.  These latter responses also sometimes indicated regret at not having been involved in the arts more in college, sometimes linked to concerns that increased participation in college arts might have distracted from career preparation and job success."],"children":[{"name":["Became Part of Identity"],"summary":["Responses in this node speak to how experience in college with the arts led to increased self-awareness, improvements in abilities and skills, and better connections and friendships.  Respondents also indicated an increased role for the arts in their life and activities."],"size":[1800],"topic_no":[3],"thoughts":["I became much more interested in the arts during college. Before, it was just a hobby, but now it's a profession and a lifestyle.","I was a program assistant for two years in charge of running a weekly free craft night.  Having this leadership experience shaped me into a better communicator (with friends, colleges, and supervisors) as well as a better leader. This has helped me througout college in my relationships and my academics.","The arts helped me grow as a person and a student. I developed much better time management skills as well as effective organization skills. I also became better at communicating and handling conflict between others. Additionally, my involvement in the art led to some of my closest friendships during college.","I was a supportive friend to all my friends involved in the arts. And they too, were supportive. I learned a lot from these friends, as I feel they learned from me. I feel completely different about the arts than before entering college; I just wasn't invlved with the arts or interested in attending shows/exhibits before college. Now, that is often a staple of my weekend.","The arts were the medium through which I was able to become a friend and a successful student during college.  Most of my closest friends became that way through because we shared similar interests in the arts and other humanities. Without the arts, I dont think I would have been able to make the kind of lasting connections that I have now.","I feel like I did most of the same things and acted the same ways as I did in high school, but in a more defined way due to living in a city that accommodates better to it with wider opportunities. I also feel regret for not doing more of it.","Helped me develop patience, creativity in my approaches to problems, ability to articulate ideas about aesthetic qualities, ability to be in conflict with a friend without it being destructive to our friendship, and a greater sense of my personal responsiility in group endeavors.","it played more of a role for me in high school, I genuinely appreciate the arts but found that during college I diverted my attention elsewhere due to the need to acquire a job after college","I found my true self. I became a better friend.","I have been able to support many of my friends who are highly involved in the arts, which has been good for these relationships.","I don't feel the arts helped me develop in college, I was not very involved."],"thought_proportions":[0.3519,0.3257,0.2743,0.2502,0.2377,0.2358,0.2231,0.2222,0.2156,0.2104,0.203],"prob":["better, colleg, abl, involv, interest, feel, becam"],"frex":["better, colleg, school, becam, abl, high, involv"],"lift":["high, abil, act, approach, better, kind, school"],"score":["better, colleg, approach, abl, involv, school, becam"],"proportion":["0.09"]},{"name":["Played a Developmental Role"],"summary":["A large number of student respondents not only said the arts played some role in their identity development, but also listed the kinds of things they gained in that development.  Critical thinking, psychological and social well-being, discipline, respect, open-mindedness, cultural awareness, communication, confidence and expression were among these gains that contributed to their evolving identity in college."],"size":[1800],"topic_no":[1],"thoughts":["The arts have improved my critical thinking skills, as I have said before. The arts allow me to be more astute to my surroundings, and to critically analyze certain aspects of society that I may have otherwise overlooked. It does not allow me to be brainwshed into one way of thinking, and it taught me to analyze the details of certain societal situations so I can develop my own opinions.","I found the arts to play an enormous role in my psychological and social wellbeing. Art is what has made me who I am today.","A huge role. I am surrounded by art every single day, so there is no way that it could not affect my development through college.","The same role it played while growing up. It taught me discipline, respect, and opened my mind to so  many different cultures and beliefs that I wouldn't have otherwise received.","The arts definitely enabled me to have interesting conversations with my friends and to talk about issues and things that the art brought out in us that we would not normally talk or think about otherwise.","played a large role, it's very important to do something outside of class and school in order to keep you going each year.","Jounraling played a huge role in increasing my understanding of myself and social/academic/ethical conflicts","Played a positive role in making new friends","They taught me to think and feel.","I think it helped me to develop courage, and think more critically about how art can be used as a device of expression.","It kept me grounded and allowed me to de-stress.  Music has always been a huge part of my life, and I think it played a bigger role in college - I found some groups that I really liked and was able to form friendships with people who liked the same type o music I do.","I played classical piano for 14 years, and it definitely shaped me into the person I am today. I can say that I work harder, am more determined, and have developed resiliency through playing piano.","Kept me true to myself. Reminded me there is more than my own major. Kept me in touch with the fact that you don't have to be good at math to be smart, even though I've spent four years (or perhaps my entire formal education) being taught that.","It played most roles in my life in all of these categories.","Helped me meet people, improved creativity, critical thinking.","They just gave me an outlet to express myself, like through scrapbooking, I don't think they actually helped me develop though."],"thought_proportions":[0.632351026919017,0.346682831012679,0.318130278722277,0.299665828654589,0.280147454709398,0.254410160457172,0.253206171073867,0.245596843365897,0.240037019147816,0.221380156593305,0.218906846526997,0.214531557649197,0.213111291012432,0.208938368434858,0.208584879705486,0.20053329023997],"prob":["think, role, allow, much, play, dont, didnt"],"frex":["think, role, much, play, dont, didnt, improv"],"lift":["critic, found, overal, play, situat, taught, think"],"score":["role, play, think, much, small, allow, dont"],"proportion":["0.07"]},{"name":["Didn't Play a Role"],"summary":["Responses in this node typically indicate that students could make little or no connection between their arts engagement in college and their development. This could have been a simple statement (without indication of their level of participation in the arts), or could indicate that their limited participation may have been a reason there was no particular impact. There were also statements of regret around their limited college arts participation, with the reported reasons being insufficient time or a perceived choice between arts involvement and a school/career focus."],"size":[1800],"topic_no":[10],"thoughts":["Not a huge role because I didn't do that much","did not play as much of a role as I would have wished due to time constraints.","i can't think of a role it played","didn't play a role","They have not played a large role.","Arts didn't play a role in my college","The arts played a very small role in my development. I like to talk about art with people, but that's about it.","It didn't really play a role.","it played more of a role for me in high school, I genuinely appreciate the arts but found that during college I diverted my attention elsewhere due to the need to acquire a job after college","Same as my previous answer-- I don't really think it played all that an important role in this area.","Not much during college. During middle school and high school, it played a huge role in it- being a concertmaster of my orchestra for many years, going to Europe in an orchestra, etc.","Since I was not involved much in art, it did not play a major role in my development.","Did not play a role","In my opinion, no noticeable role.","Small role.","A very small role, if any.","Not a huge role","I don't think it really affected my development as a person","not much as a development role","It did not play a major role","As a science oriented student, the arts did not play a large role in my development; however, attending events for pure enjoyment allowed me to develop a newfound appreciation for the arts.","I don't really think it played a big role in my development as a person, friend, colleague or student","none, i didnt do much art in college","They played a very minimal role.  I was mostly just a spectator in the arts.  They were a source of enjoyment much more than a source of development.","It allowed me to broaden my views."],"thought_proportions":[0.402697389767452,0.401116766637024,0.332830618672466,0.332830618473242,0.332830618255178,0.312589680652939,0.306745648110146,0.294722126465843,0.286634211423024,0.26204772561399,0.26193686934836,0.254363507457555,0.251232502667484,0.25122242756626,0.25122242756626,0.25122242756626,0.251222418845168,0.239343255570215,0.230377218408845,0.220849556376455,0.219467775719353,0.218494898461195,0.21178932168165,0.206349346733786,0.203908985782315],"prob":["think, role, allow, much, play, dont, didnt"],"frex":["think, role, much, play, dont, didnt, improv"],"lift":["critic, found, overal, play, situat, taught, think"],"score":["role, play, think, much, small, allow, dont"],"proportion":["0.02"]}],"topic_no":[1,3,10],"thoughts":["I grew as a creative person. I became much better at being imaginative and thinking outside the box in other situations, especially academically.","I played the cello growing up but stopped after high school.  I think it helped me to be more well-rounded going into college."],"thought_proportions":[0.3601,0.3505],"thought_variances":[0.0007,0.0391]}],"topic_no":[6,9,1,3,10],"thoughts":["Increasing appreciation for other views, expanding idea of employment through various means-even if I don't see myself doing them.","It allowed me to connect better with the world around me, to see the world around me in many different ways.  Ultimately, I think that it allowed me to empathize better, to communicate using a wide variety of mediums, and to challenge my mind in ways thatdon't follow a set algorithm or path.","I think it kept me from living in the Dude, and kept me from being as stressed/anxious as I was in high school.","I'm a much more well-rounded person now.","I think that my occasional involvement with the arts helped me develop as a more well-rounded, flexible person.","Allowed to to express myself in a visual language.","Definitely helped me to mature and improved my work ethic","Attending performances makes me feel more cultured and connected with the community of Ann Arbor.","I think having experience in not only art but many other areas just makes you a more well rounded and interesting individual.","It made me a better person, more expressive.","I think it has overall made me a more well-rounded and accepting person, and someone who is now more receptive to new and different things.","It gave me connection and let me gain an overall experiance which i hope has made me a better person","They helped expose me to things that I didn't have exposure to","it was very personal, i didn't have friends taking lessons with me. i did it for myself.","They definitely increased by ability to be all of the above. I improved in my patience, motivation, drive, sense of responsibility, and many more positive aspects of my character. Becoming a better person as a result of my involvement is something I defintely have the arts to thank.","Well which one?","I became more well-rounded due to my experiences","It has made me a more innovative, expressive, and creative person.  Because I can think in a visual way I am a better student, but because art is so subjective I think I've become a less-effective friend. Definitely more interesting though.","It helped me to gain a better understanding of social issues, as art is a good and effective way to express oneself.  It helped me to relate to people that I usually would not have been able to form a relationship with.","allowed me to creatively express myself","A major role","It allows me to express myself","Allowing me to express the unspeakable.","They helped me become more cultured as well as allowed me to support my friends in the arts","Through my jobs, internships, and work experience","Not much of one.","The arts kept me sane, connected me with others, and made me a more productive student able to juggle deadlines and complicated tasks.","Appreciation of what others can do","adds another dimension to who i am","More well-rounded.","Some majored in the Arts","They completely shaped who I am, my frame of thinking, and who my friends are.","I was more creative and expressive and I also became a better communicator as a result.","I just learned how to express myself via written word much better.","Enjoyment and stress relief","They were a nice break from reality"],"thought_proportions":[0.4315,0.464,0.5425,0.4872,0.4204,0.4587,0.427,0.4138,0.4405,0.4235,0.4345,0.4759,0.4358,0.4358,0.5396,0.4208,0.5641,0.5386,0.4725,0.4773,0.5109,0.5109,0.5109,0.4203,0.4243,0.5128,0.4431,0.4142,0.4727,0.4727,0.4727,0.4775,0.4767,0.5371,0.433,0.433],"thought_variances":[0.0256,0.0292,0.0313,0.0417,0.0422,0.0462,0.0501,0.0504,0.058,0.0596,0.062,0.0634,0.0647,0.0647,0.0653,0.0655,0.0657,0.0698,0.0706,0.0706,0.0764,0.0764,0.0764,0.0804,0.0884,0.0912,0.0951,0.096,0.0964,0.0964,0.0964,0.0966,0.0975,0.0997,0.0997,0.0997]},{"name":["Different Perspectives"],"summary":["This node of responses focuses on the impact of the arts in college on gaining new perspectives, skills, cultural appreciations, and social connections, as they related to understanding others.  Often, engagement in the arts contribute to an expanded world-view.  Students also saw the importance of their arts engagement in developing appropriate work/life balance, or making them a more well-rounded and cultured individual."],"children":[{"name":["New Social Connections and Skills"],"summary":["There are two sub-node topics derived from these responses, with an emphasis on new perspectives, social connections, skills or abilities – directly attributable to the respondents’ arts engagement in college. \n\nReports of the development of specific new skills and abilities through engagement in the arts comprise the Gained Skills section of this node. \n\nCreated New Social Bonds  responses indicate that engagement in the arts has facilitated new and diverse connections to people as either friends or as artists."],"children":[{"name":["Gained Skills"],"summary":["Among the major areas of skill development reported as linked to arts participation were time management, communication, confidence, leadership skills, organization, work ethic, creativity, analytical thinking and technical arts skills."],"size":[1800],"topic_no":[2],"thoughts":["It gave me time management skills to include all the practice time and competition time etc. , communication skills to discuss with my partner all the various aspects of our dancing relationship.","Helped build my confidence, make friends, build relationships, developed my leadership skills, organization, and time management.","it allowed me to develop time management skills. I learned to get work done on time and plan out how i was going to do homework to work around my band commitments.","The arts helped me develop a strong work ethic, creativity, and time management skills.","Arts has served as a source of relaxation during my time in college.  Through relaxation it has helped in my development as a person as well as encouraged me to spend time with my friends.","It has made me want to try out some of the arts in the future and admire all the talent that's around me.","A great place to meet new friends and become more social\r\nit also helped with time management skills because dance practices take a large chunk of time \r\nbut it also developed me artistically and gave me a another chance to develop my dance skills","The arts brought me closer to a diverse group of students as we worked toward a common goal.  The intense hours of practice also helped me develop my time management skills.","I learned to develop a leadership role in college, so I learned how to manage a group of 12 friends into a productive a cappella group.","Helped me organize myself, think analytically, and develop leadership skills.","It provided me with skills that I will apply to my career, such as organization, communication skills and creativity.","Saw the same people everyday, generally. Got to know them really well and develop some really good relationships. We pushed each other, but also appreciated the work that each other had to do. I definitely grew as a person and as a friend through these reationships.\r\nI developed as a colleague through my role as the business staff manager for the MMB. I worked with peers and administration daily, and got to know the inner workings of the band and how to best communicate with people.\r\nAs a student, I learnd how to manage my time very well. Between working, practicing, and classes/homework, I really had to learn how to effectively manage my time.","It had a huge role in keeping me motivated to reach my goals and this was translated on how I wanted to interact with friends around me. For instance, my photography included at times my friends and whenever I wanted an opinion of a photograph with someon, I asked my friends on what they thought of the photo. I later interacted with faculty in the college about each others art pursuits and it was really constructive to learn of different perspectives on art.","The largest contribution the arts has made in my development is that it has kept me open minded and always willing to try new things, and to encourage my peers to do the same.","My photography is my main source of friends and social interaction.  It has taught me project and time management skills and helped me succeed in other areas.","It helped build and solidify friendships, it helped me work through problems and personal issues, and it helped build leadership, event planning, business skills, and social skills that I couldn't have imagined.","Helped me to become more organized and gain time management skills","They played a very minimal role.  I was mostly just a spectator in the arts.  They were a source of enjoyment much more than a source of development.","Art has always been a wonderful outlet for me to express myself.  Whenever I feel anxious, I can just play my troubles away on the piano, or paint them away on a canvas.  I love trying new forms of art as well.  This year I have been experimenting with ne mediums. The wonderful thing about art is there is always something new to try!","Being more comfortable with myself in dancing, finding others who liked the same music I did.","Leadership involvement in an arts organization made me a lot better at leading discussions and solving problems through group work.","The arts helped me mature and develop in all of those roles. It made me more aware of myself and my emotions, and exactly what I want to say within my musical expressions.","Music has been a central theme of my friendships. Dancing has always been there for me and I have danced my way to a being a healthier person","I had to work well in groups and work hard to improve as a musician.","Not much! Just as a source of entertainment.  I did enroll in photography and gamelon, though! Which have been fun.","Being heavily involved in an a cappella group requires a large amount of commitment.  This helped me be a better student by improving my time management skills.  Also, I think that for me it has been crucial to find for myself creative space.  Since collee, I have began arranging music, developed an interest in photography, and took a printmaking class - none of which I did before college.","Doing art and music with other people helped to develop diverse communities.","development in viewing the global community","Time management","Music keeps me calm","Time management was a big development.  Being more outgoing and networking.","helped greatly, indulged in the arts mostly with friends, so developed relationships that way","Almost all of my friends are music majors. That sense of community helped me to grow and work effectively during my time at college.","Helped me find what I enjoy the most and how I like to spend my time.","Helped me practice time management and meet new people","Helped me to time manage and be more outgoing","I think my daily exposure to the arts (esp. musical performances and practice) have provided an outlet to absorb the material I learned each day. In other words, music provided an outlet to synthesize the material I learned day to day by calming the mind nd, in one sense, keeping my mind flexible enough to allow myself to see connections that I otherwise wouldn't see if I just kept doing academic work.","not much, too little time for art","I've made many great friends through orchestra. It's a great point of connection with my peers and future colleagues at work.","Most of my friends are artists to varying degrees, so living within a community of artists has quite an influence on your development as a person.","I'm a more well-rounded person with a diverse skill set that will serve me well professionally.","helped me to understand what was important/priorities, giving yourself a creative outlet to maintain balance, balance fun and responsibility, time management","Dance has connected me to many amazing people who I would not have known without it.  Leading my student orgs has taught me how to manage groups of people and effectively manage time, money, and conflicts.  I love being involved in dance because it bringspeople together, and I am very glad that I got to play a role in that during my time here.","I'm happier human being mostly because I'm confident.","The arts allowed me to express myself in an unconventional way.  The arts were an opportunity to share some of the enjoyment in my life with friends, in the hope that they will find enjoyment in it also. As a student, involvement in the arts was a stark cntrast to my studies in the sciences, which allowed me to broaden my perspective of how we spend our lives, almost on a daily basis.  Involvement in performance (Marching Band) is also a big time commitment, which helped me develop time management skills.","development of skills, conceptual thinking, finding people who appreciated the same style as i did helped a lot with my sanity","It gave me a source of pride and personal expression/creativity. Being in an a cappella group introduced me to a group of best friends I might have never met otherwise.","The arts have always been fundamental to my development in all ways, but mostly have helped me become more open-minded.","Opportunity to spend time with friends","Development of skills for class projects"],"thought_proportions":[0.6947,0.5558,0.5336,0.4729,0.4467,0.4226,0.3998,0.3947,0.389,0.3846,0.3703,0.3699,0.3543,0.3524,0.3449,0.333,0.3319,0.3236,0.3201,0.3196,0.3168,0.3139,0.3132,0.3104,0.3091,0.3065,0.3061,0.3026,0.3002,0.3001,0.2946,0.2934,0.2924,0.2922,0.2838,0.2769,0.2743,0.2739,0.2734,0.2677,0.2665,0.2657,0.2649,0.2626,0.257,0.2561,0.2554,0.2508,0.2482,0.2412],"prob":["develop, time, work, skill, music, manag, organ"],"frex":["time, skill, manag, organ, confid, great, danc"],"lift":["alway, organ, peer, skill, want, danc, time"],"score":["time, manag, develop, skill, exact, music, work"],"proportion":["0.12"]},{"name":["New Social Bonds"],"summary":["This topic area includes responses that speak to making new friends either by engaging in shared arts interests or through the actual team aspects of arts production and student arts organizations (as opposed to improving existing relationships - Strengthened Social Bonds).  The confidence to make new friends, share arts knowledge as social capital, or explore connections to a more diverse friend group are also reported. Finally, exploring new artists or arts experiences are described as avenues to creating these new social and interest community connections."],"size":[1800],"topic_no":[4],"thoughts":["My love for and tastes in music and film have certainly grown and developed over the past four years, in part due to my friends and in part to the university and the opportunities that were provided. I think my friends have come to know me as a person wholoves music and movies, and they rely on me for honest reviews and recommendations. Even when they don't ask for it, I love to show people new artists I'm into or discuss classic films or the newest releases.","Broadened world-view, met a number of diverse people","The arts provided a vehicle for me to hang out with friends and meet new people.","It is a fun way to bond with friends and meet new people.","Met a lot of new people, became thoroughly engrossed in a lot of different arts ventures.","Creativity, met new people, developed my leadership skills, looking for career opportunities in film industry","I'm not sure. I definitely got close to people through the arts, and was able to relate more to different people through the arts. I developed more of an appreciation for different types of art, so my tastes broadened. I think I learned to appreciate diffrent types of people more through the diverse types of art that I experienced and enjoyed through college.","Helped meet some new people and bond over common interests","It has changed the way I interact with other people and how I meet new people.","met new people","meet new people!","I met a lot of people through the process","It helped me to break out of my shy shell and meet new people.  It inspired me and gave me joy.","I met a lot of great people.","I've just been able to meet a lot of friends and really cool people.  The arts allows me to diversify the amount of people I hang out with and learn more about different cultures.","the events were fun to go with people, networking","Character, made new friends, learned to work with different people, got a couple credits out of it.","They helped me meet new people, I suppose.","Helped me meet new people","Meeting new people, opening my life to different types of art.","It allowed me to continue to do what I love--dance--and helped me meet new people.  It also allowed me to widen my career opportunities.","Helped me meet new people from different backgrounds.","It opened me up to meeting new people and making some close friends.  It also provided me with an avenue to relieve stress.","They gave me an opportunity to do what I love outside of the classroom with other people who shared my passion for music. We are still friends and that will be a bond we'll always have. \r\nAlso, it helped me learn how to manage my time between class, homewrk, and rehearsal.","It was good for meeting new people and expanding my knowledge of the arts","Not a whole lot.","not a whole lot","They were part of the campus symphony orchestras. Participated and had leadership positions","The arts colored the way I learned and evolved to be a scholar and an artist.","Learned to appreciate art and other styles more.","Helped me practice time management and meet new people","got to see new cultures","The varied arts programs here at U of M really challenged my world-view and opened my mind up to different forms of expression. This university and this city both have so much more to offer than the small town where I'm from. I loved the variety of progras, concerts, exhibits, and performances that were an essential part of the campus. I got to see a lot of really neat things that I might not have in another city. I made lots of friends through different arts programs, and that will have a lasting effect n my life.","My friends were in the marching band and they showed me the hard work that they put in to perfect their craft. My boyfriend was in the Pops orchestra and in going to support him i gained a new appreciation of how fun orchestra concerts can be","Learned about different cultures, people, etc. Found out that not everyone is like me","Met cool people different from myself, it's been good and frustrating at the same time.","The arts showed me the differences in learning styles among my friends and colleagues. I'm not a particularly artistic person so attending art events gave me a better understanding of how people different from me learn and express themselves.","I learned a lot of problem solving skills and creativity in arts programs as a kid.  I support a lot of my friends in their artistic endeavors and my own creative work has made me proud.","Not a whole lot, i wasn't that involved in the arts","They helped me to connect with new people on campus through some organized events.","A way to hang out with friends (going to look at art exhibitions, concerts, etc.)\r\n","It helped me meet new people and develop and improve myself creatively.","Helped me meet more people and see the world more broadly","development of skills, conceptual thinking, finding people who appreciated the same style as i did helped a lot with my sanity","learned to appreciate all forms of people\r\nbecame a more open-minded person\r\nused arts as inspiration in my work","As a person, the arts allowed me to explore my career goals and learn more about what I am passionate about as a career. As a friend, the arts gave me fun activities to attend with my friends and gave me wonderful memories of the time we spent together incollege. As a colleague, the arts gave me an opportunity to work with others and improve my leadership and problem-solving skills. As a student, the arts helped me to have a more well-rounded college experience that was not limited to academic learning inide the classroom but also included cultural learning in enjoyable arts events.","having something to talk about with people, learning about who I am","I met many new people who taught me numerous new and interesting ways to view life. They taught me how to be a better person.","It helped me see that there are things that other people engage in, are interested in, as well as passionate about and they use the arts - whether filmmaking, music, drawings, etc. - to effectively express their thoughts and passions to people like me whomight not \"get it\" on the first explanation.","In terms of my development as a person I have learned more about art and have come to appreciate it more.  Arts are a fun thing to go see or experience with friends or colleagues."],"thought_proportions":[0.4852,0.4631,0.4455,0.4239,0.4091,0.4024,0.3968,0.3815,0.3805,0.3616,0.3616,0.3616,0.3361,0.333,0.3183,0.3127,0.3114,0.3101,0.3101,0.308,0.3029,0.2959,0.2941,0.2807,0.2784,0.2776,0.2776,0.2667,0.2657,0.2505,0.2504,0.2504,0.2412,0.2407,0.2394,0.2392,0.2364,0.2363,0.2356,0.2271,0.2247,0.2202,0.2188,0.2158,0.2152,0.2128,0.2123,0.2107,0.2101,0.2079],"prob":["peopl, new, learn, lot, meet, fun, artist"],"frex":["peopl, new, meet, fun, artist, met, opportun"],"lift":["bond, classroom, close, film, fun, hang, learn"],"score":["peopl, new, meet, whole, learn, lot, met"],"proportion":["0.1"]}],"topic_no":[2,4],"thoughts":["Provided an opprotunity for leadership experience","Appreciate music and film more.","The arts helped me to find my own style, be confident in expressing it, and be open to and learn from others' differences.","It certainly led to find like minded people, and helped me realize that there are ways to always do what I love.","Helped me practice time management and meet new people","ann arbor folk festival introduced new music","development of skills, conceptual thinking, finding people who appreciated the same style as i did helped a lot with my sanity","I learned to work with a lot of different people, and it helped me to understand the workings of relationships and how to communicate ideas effectively.","They gave me an opportunity to do what I love outside of the classroom with other people who shared my passion for music. We are still friends and that will be a bond we'll always have. \r\nAlso, it helped me learn how to manage my time between class, homewrk, and rehearsal.","Almost all of my friends are musicians. \"The arts\" itself didn't have a huge impact on my development, but the people I met through it did","It helped discipline me and provide perspective into what I want to do with my future","It helped me meet new people and develop and improve myself creatively.","I learned a lot of problem solving skills and creativity in arts programs as a kid.  I support a lot of my friends in their artistic endeavors and my own creative work has made me proud.","Opportunity to spend time with friends"],"thought_proportions":[0.3118,0.3396,0.3213,0.3654,0.5342,0.3408,0.472,0.3484,0.5143,0.3672,0.3628,0.3841,0.3958,0.4038],"thought_variances":[0.0026,0.0102,0.0108,0.0292,0.0334,0.0368,0.0403,0.042,0.0471,0.0523,0.0555,0.0563,0.0768,0.0927]},{"name":["Deeper Appreciation"],"summary":["A more singular node of responses in the Different Perspectives section, students indicate in Deeper Appreciation, predictably, that involvement in the arts led to a deeper appreciation of the arts themselves, and of the effects the arts can have on individuals. These include arts interest, creativity, and emotional health."],"size":[1800],"topic_no":[7],"thoughts":["It has made me more social and open minded","I wouldn't say the arts contributed to my development too much per say, but it did offer me some insight into the subject that I wouldn't have had before. It also improved my mood since I enjoyed spending time with the arts.","It has made me more appreciative of what this world can offer and has really opened my eyes to various forms of art from all over the world!","It made me want to go to Florence, Italy for my semester abroad and study art history. It makes me constantly strive for creativity and it makes me appreciate little things in life.","I am well aware of my creativity and can contribute to may events.","made me more open minded","Made me open minded","I have a more open mind now and it enhanced my social skills","Going to art events with friends helped me socialize, helped me open my mind, and become more accepting and open to hearing others","The arts have been a mechanism through which I have learned many important lessons in many of my classes. It has made me realize that art can move me, and can move others. It has made me appreciate others more, and made me appreciate my own creativity anddesire to inspire creativity in others.","As mentioned earlier, it helped to make me aware of the art culture and its importance to Ann Arbor especially","Open minded, developed creatively","Hard to say, but it opened up my mind to other ways of think and gave me a critical eye.","made me more culturally aware, develop my own personal value and beliefs","I have always emphasized the arts at U of M to my residents, as an RA, and I hope that this has helped them. I think that participating in the arts has generally made me more open minded and creative, which in turn I think makes be a better friend and stuent.","The arts helped me form my beliefs and views of the world. They allowed me to open myself up and become even more open minded and accepting than I was previously.","made me more creative","made me more creative","it made me more aware of myself","opened my mind.","It made me more grounded.","It made me more open.","Made me outgoing and open","Made me think creatively.","As mentioned, seeing friends in theatrical plays gave me a sense of better personal involvement in their lives. I also think it encourages me to stay open minded and suggests that not everything can be logical.","Made me much more accepting of the various forms of art and expression","They made me a much more personable, open, and creative person able to communicate and contribute effectively in any situation.","I think participation in art activities made me a more well-rounded, open individual.","The arts made me appreciate the collaborative effort and personal fulfillment that I get out of participating in the arts. I feel it made me more creative in a field far removed from my primary interests.","It makes me a more open minded person, which then allows me to appreciative people more.","It gave me a broadened view of the world and how creativity can make you feel.","Made me more culturally aware. I also appricate other cultues more.","increased my creativity and openness to the arts","I'm more open minded and accepting of different ideas. I try to understand others' perspectives."],"thought_proportions":[0.3259,0.3056,0.2998,0.2943,0.2863,0.2744,0.2744,0.271,0.2685,0.2668,0.262,0.2534,0.2404,0.2322,0.2251,0.225,0.2194,0.2194,0.2194,0.2194,0.2194,0.2194,0.2194,0.2128,0.2109,0.2083,0.2081,0.2066,0.2059,0.2037,0.2029,0.2027,0.2023,0.2001],"prob":["made, creativ, open, mind, make, can, like"],"frex":["made, creativ, open, mind, awar, make, accept"],"lift":["made, accept, awar, creativ, enhanc, eye, import"],"score":["made, creativ, enhanc, open, mind, make, awar"],"proportion":["0.11"]},{"name":["More Open-Minded"],"summary":["Multiple student responses under Different Perspectives: Deeper Appreciation includes the phrase “open-minded,” expressing that attribute as a necessary and well-understood ingredient to a greater or deeper understanding in all things.  Under the Open-Mindedness node, the two sub-nodes reflect two areas where arts engagement create specific opportunities to better understand and appreciate both the global and the personal perspective. \n\nStudent respondents in the Cultural Understanding node describe interaction with the arts engendering in them an expanded worldview that embraces both cultural differences and diverse viewpoints. \n\nThe importance of a balanced, self-aware, and well-rounded life are the insights derived through the arts and illustrated in the student responses in the Finding Balance in Life node."],"children":[{"name":["Cultural Understanding"],"summary":["The responses in this section speak about the way engaging with the world through the arts created new knowledge, as well as understanding of cultural differences and diverse perspectives.  The arts also served as an effective way to express and communicate cultural knowledge to others."],"size":[1800],"topic_no":[5],"thoughts":["Involvement in the arts gave me a broader understanding of the ways and methods of self-expression and cultural differences","The Arts helped me understand different peoples' perspectives (and the different perspectives of people from different cultures than myself) in a way that a textbook never could.  This new understanding helped me develop into a more caring, compassionate,and socially-aware person.  This new understanding also fueled my desire to pursue a career in immigration law.","It's so corny, but they helped me grow as person and see the world from different point of views.","Being surrounded by creative people has given me a much fuller and broader appreciation for what beauty and creativity look like, and how they can be manifested in different forms. This has helped me better understand the way different people see and expeience the world and the different things they appreciate. Visual arts, graphic design, and architecture have immensely strengthened my communication skills - both verbal and visual.","If I weren't a reader and writer I wouldnt appreciate the different ways that people see the world and be able to better understand them","The arts help to see life and cultures in a more abstract way. Unlike reading about different cultural practices, viewing the arts leaves it open for your own personal interpretation.","As an art history major, I have enjoyed learning more about other cultures and expanding my world view.","I learned more about other people's ways of life. In essesnce, they expanded my world view.","expanded world view","The arts have helped my continue a balanced lifestyle (by helping to relieve stress), and they have also helped me become a more \"culutred\" person by viewing art from different cultures.","Arts have given me a new perspective on how to look at certain issues and how people live there lives in differing ways.","helped me to see different cultures","Helped me understand myself in a different, more sentimental, way.","It made me look at the world differently","Gave me a greater understanding of the world and the subjectiveness of beauty across different cultures","I was not heavily involved in it enough to notice any major impact. Most of my college life has been spent in a very math and science oriented environment, and spent with people who were also engineers, so the arts was never a huge focus.","it was a way to express myself in a way that you do not do in the traditional classroom environment","Able to think, see, understand in big-picture way, as well as from other perspectives, even the bizarre or unfamiliar.","The arts have expanded my view of the world, and helped me realize my passion for imagination and creativity. It has helped me realize that I want to pursue a career in design.","Made me more accepting of other cultures and have a more balanced world view","The arts helped me shape a broader world view from a personal standpoint.","They helped me understand myself, so I could help understand others. I was able to relate to some people in a better way and get exposed to things I never would have otherwise, which expanded my world-view and knowledge.","It was relaxing and different from what I am used to.","I think I was definitely exposed to more people from different backgrounds, which built my empathy and understanding.","Made me more accepting of cultural differences; exposed me to new and interesting art forms; made me more open-minded; help me think of ways to incorporate the arts in my daily life","It allowed me to connect better with the world around me, to see the world around me in many different ways.  Ultimately, I think that it allowed me to empathize better, to communicate using a wide variety of mediums, and to challenge my mind in ways thatdon't follow a set algorithm or path.","They were able to give me an open mind and expand my views and personal beliefs, which gave me a better understanding of the world.","Widened world view","more world view","This would take too long to answer.","it made me more worldly and gave me a chance to see others in a new way, developed friendships through it","During college, the arts expanded my world view and helped me to better understand the positions of my fellow students.","See previous answer.","See previous answer","Helped me gain a better view and maintain different perspectives that were outside my field of speciality","It has definitely shaped my perspective of the world and increased my consciousness of the interconnections between art and media and culture.  Especially my knowledge of art history has made me the point person for those of my friends who do not understad the \"Fine Arts\" at all, as they continually challenge the notion of what art is and with my responses, develop their own awareness for the arts.","It has expanded my knowledge of the world and people in it.","got to see new cultures","Broadened my world view and made me more accepting of other cultures and belief systems.","Helped me meet more people and see the world more broadly","It broadens my view of the world.","It gave me a broadened view of the world and how creativity can make you feel.","Exposed me to other ways of thinking","helped me experience history in a new view","Arts played a role in expanding my view and making me get a better understanding of myself","I think I am a more sensitive person because I can appreciate the arts and see other cultural perspectives.","Being able to better relate to people \r\nBeing able to understand different cultures \r\nBeing able to realize everyone is not the same as you","Helps me grow as a person through creative writing. Attending different performances show me the variety of cultures and perspectives around the world.","Allowed me to take a break from stressful college life and remember that there are other things that are important","Everything - it shaped me into the person I am, the way I think, etc."],"thought_proportions":[0.4448,0.4257,0.3541,0.3515,0.3473,0.3371,0.3368,0.3359,0.3326,0.3273,0.3166,0.314,0.314,0.3088,0.3065,0.3018,0.3016,0.2994,0.2819,0.2803,0.2794,0.2773,0.2769,0.2752,0.274,0.2713,0.267,0.2668,0.2668,0.2668,0.262,0.2559,0.255,0.255,0.2542,0.254,0.2521,0.2457,0.2428,0.2424,0.2423,0.2406,0.2325,0.2323,0.2323,0.2318,0.2313,0.2266,0.2217,0.2205],"prob":["differ, way, cultur, none, gave, understand, view"],"frex":["cultur, none, understand, view, see, differ, stress"],"lift":["break, everyth, expos, scienc, understand, cultur, differ"],"score":["differ, scienc, none, understand, cultur, view, world"],"proportion":["0.12"]},{"name":["Finding Balance in Life"],"summary":["Student responses in this topic area predictably speak to the role the arts play in developing a balanced and full life, but also in developing personal perspectives that contribute to this ideal well-rounded state.  Organization, knowledge, reflection, contemplation, reliability, gratitude, creativity, self-awareness, and expression were the kinds of outcomes that students reported contributed to a desirable life balance."],"size":[1800],"topic_no":[8],"thoughts":["I feel the arts help define who you are as a person and shape your personality.  The arts help you to articulate your thoughts and ideas into different forms.","I believed it helped me to grow creatively and become a more open-minded person.","Helped me to define my own sense of identity, helped me to find balance in my time between school work/social life/personal enjoyment","The arts have helped my continue a balanced lifestyle (by helping to relieve stress), and they have also helped me become a more \"culutred\" person by viewing art from different cultures.","It helped me become more organized and develop professionally.\r\n\r\nIt also helped me get a better view on the world and appreciate what I have.","The knowledge I gained made me a more well rounded person.","They helped facilitate and nurture friendships and helped me grow into the person I am by accumulating different experiences.","Helped me become a more concientious person.","I am more knowledgeable and able to hold a conversation with others about them.","It helped me explore my own beliefs and contemplate new knowledge and perspectives I gained from other people and their experiences. Art helped me become a more open-minded, thoughtful, and well-rounded person.","The arts certainly helped me to develop as a person, friend, and colleague. While school helped me develop as a student, the arts helped me unwind and grow outside of student life.","The arts have been constantly shaping my overall personality and characteristics throughout college, making me a much more active and creative person.  They affect me daily as I grow to become who I am.","It helped me to become a group member and not just a leader.","My choir introduced me to a large portion of my friends in college, directly impacting my social life in college. I also believe that the arts made me a more well-rounded person during my undergraduate career. It gave me new perspectives and helped me notonly personally, but also academically. I find it easier to relate to others through the arts now that I have had the chance to participate in them during college.","It made me more a culture, well rounded, and dynamic person","It gave me an open-minded approach to things and balanced well with more strict business culture of my academic pursuits. Also introduced me to a diverse friend group.","Made me more understanding, open-minded, tolerant, responsible, and a better leader","It helped me become more open-minded in terms of expression.","The arts helped to connect me to others in my community and deepen personal friendships as well as form new relationships during college.","helped me to be an organized person, confident as a leader","The arts helped me expand my creativity and open-mindedness and encouraged me to share my art experiences with others.","I believe that my creative mindset fosters my appreciation for the arts, and has helped me as a problem solver, student, leader and communicator.","It was what I did for enjoyment. It helped me be a more balanced person.","The arts helped me shape a broader world view from a personal standpoint.","Helped me develop a more open and honest view of the world and myself and helped me to develop my personal voice.","Helped me think outside the box.","The arts have always been fundamental to my development in all ways, but mostly have helped me become more open-minded.","The arts helped my development as a person because it expanded my worldview and introduced me to more people in college","I'm more responsible and listen to others more.","helped me to stay balanced and refreshed","helped me to understand what was important/priorities, giving yourself a creative outlet to maintain balance, balance fun and responsibility, time management","it made me into the well rounded person that i am today.","Helped me better define myself.","I became more rounded as a person","They helped me grow culturally.","Helped me gain a better view and maintain different perspectives that were outside my field of speciality","it helped me connect with others","They've helped me become more creative and innovative.","It made me well rounded","It helped build and solidify friendships, it helped me work through problems and personal issues, and it helped build leadership, event planning, business skills, and social skills that I couldn't have imagined.","It's helped me better understand my place in the world. When I write a story, I'm able to take a step back and get a better sense of what I'm doing with myself; where I belong.","Helped me become more open-minded and appreciate different outlets of expression.","helped me explore my interests and develop as a person","Involvement in the arts gives you another perspective into life, and helps you enjoy life more.","The arts are integral to my field of study (architecture), so certain arts-related things helped me to refine my own career skills.  Also, as a person, it has expanded my knowledge of other cultures/ art types.  As a friend, it has given me a way to touchbase wih classmates outside of the classroom.\r\n","It's so corny, but they helped me grow as person and see the world from different point of views.","Going to art events with friends helped me socialize, helped me open my mind, and become more accepting and open to hearing others","it just made me be a better person by becoming more confident, happy","It helped me learn to articulate my thoughts and desires to people.","The arts helped to craft me as an individual with thoughts, ideas, and creativity which differentiate me from the masses."],"thought_proportions":[0.408,0.3909,0.3354,0.3334,0.2993,0.2954,0.2929,0.2919,0.2853,0.2821,0.2767,0.2736,0.2732,0.2731,0.271,0.2708,0.2678,0.2658,0.2626,0.2614,0.2604,0.2572,0.2562,0.2548,0.2533,0.2507,0.2505,0.2459,0.2448,0.2448,0.2434,0.242,0.2419,0.2419,0.2395,0.237,0.2358,0.2358,0.2358,0.2351,0.2347,0.2337,0.2337,0.2332,0.2283,0.2267,0.2265,0.226,0.2252,0.2238],"prob":["help, person, also, other, well, life, becom"],"frex":["other, becom, open-mind, get, shape, person, help"],"lift":["get, shape, becom, articul, balanc, believ, convers"],"score":["help, person, previous, well, other, becom, open-mind"],"proportion":["0.14"]}],"topic_no":[5,8],"thoughts":["Added to my personality, something interesting and different from other people","It helped me to be more cultured.","I am more of a science person.","Exposed me to personal expression, creativity, culture. Made me more open-minded and appreciative of the arts.","Helped me understand who I am and what I have to offer.","Made me more culturally aware. I also appricate other cultues more.","helped me realize different things i like/don't like","The arts have helped my continue a balanced lifestyle (by helping to relieve stress), and they have also helped me become a more \"culutred\" person by viewing art from different cultures.","Helped me to  understand these roles better","It has helped me see where my passions really are.","It was my main hobby that helped me release stress.","the arts shaped the visual artist i am today, the work i produce, how i view others' work, my view of myself and my abilitiies","Helped me to take a break from serious academic work. Relaxation and enjoyment","Able to use the arts as a way of personal expression","It has helped me be more opened minded to ideas and other perspectives.","It made me more of an intellectual person and a more understanding friend","Art has made me more observant, articulate, and a better writer.","more open-minded and perceptive in social and academic environments.","Helped me take my mind off academic streses","Helped me gain a better view and maintain different perspectives that were outside my field of speciality","They made me more open-minded and helped me learn about other cultures.","helped me appreciate and look at things differently","Helps me keep focused, also expanding world-view.","Helped me broaden my world view and become more accepting.","The arts helped me shape a broader world view from a personal standpoint.","This is a huge question and there is no way to answer it in a little box. Basically made me who I am. And I am a responsible aware individual.","As mentioned, seeing friends in theatrical plays gave me a sense of better personal involvement in their lives. I also think it encourages me to stay open minded and suggests that not everything can be logical.","none in college","stressed importance of becoming accomplished in multiple, diverse walks of life","My roommate was in the art school, and it helped me understand her better.","The arts helped me form my beliefs and views of the world. They allowed me to open myself up and become even more open minded and accepting than I was previously.","The arts are integral to my field of study (architecture), so certain arts-related things helped me to refine my own career skills.  Also, as a person, it has expanded my knowledge of other cultures/ art types.  As a friend, it has given me a way to touchbase wih classmates outside of the classroom.\r\n","It helped broaden my view of life.","It helped me grow and made me see my career path more clearly, as well as making new friends and connections.","A way to share conversations with others","It's helped me better understand my place in the world. When I write a story, I'm able to take a step back and get a better sense of what I'm doing with myself; where I belong.","Everything - it shaped me into the person I am, the way I think, etc.","It made me think about complex problems in different ways. It also helped me to relax and find enjoyment.","I'm more open minded and accepting of different ideas. I try to understand others' perspectives.","It was everything.","everything","None","none","none\r\n","None.","None","None","None","none","none"],"thought_proportions":[0.3078,0.3861,0.3861,0.3717,0.3753,0.3601,0.3061,0.6607,0.3292,0.3106,0.3558,0.3732,0.3636,0.3496,0.3564,0.322,0.3677,0.3677,0.3677,0.4912,0.3947,0.3189,0.3893,0.4166,0.5342,0.3495,0.3548,0.3354,0.348,0.3605,0.3785,0.4242,0.3837,0.3519,0.3993,0.4316,0.4032,0.3849,0.3892,0.3442,0.3442,0.3442,0.3442,0.3442,0.3442,0.3442,0.3442,0.3442,0.3442,0.3442],"thought_variances":[0.0006,0.0033,0.0033,0.0042,0.0044,0.0044,0.005,0.0061,0.0076,0.0087,0.0115,0.0115,0.0122,0.0135,0.0155,0.0161,0.0165,0.0165,0.0165,0.0172,0.0178,0.0189,0.0189,0.0218,0.0246,0.0261,0.0262,0.0265,0.027,0.027,0.0291,0.0325,0.0333,0.0348,0.0367,0.0379,0.0379,0.0382,0.0401,0.044,0.044,0.044,0.044,0.044,0.044,0.044,0.044,0.044,0.044,0.044]}],"topic_no":[2,4,7,5,8],"thoughts":["I found that some kinds of art can be a place of release and escape from the day to day stresses","They helped me develop passion and creativity, which helped me connect with people in many different situations","I do not know.","Helped me meet people, improved creativity, critical thinking.","not really","Not really any","I was really in to sports","all good","enjoyment","Appreciation","Arts, and specifically music, gave me a connection to many people during college.","connected me to other people who shared similar interests.","make me have respect for people in the arts","Enhancing my world-view.","Art connected me to many people","It made me appreciate art because I was so close to it","Helped my creativity and provided activities to do with friends","I think I definitely learned an appreciation for detail as well as for the entirety. Also, things don't always look as easy as they seem.  A lot of effort can go into the most minute thing and it is all about recognizing this  in the real world.","more accepting, able to see creativeity and hard work","positive","Positive","They didn't.","Not much","Not much","Not much.","Not much.","Not much.","not much","Not much.","The arts taught me to appreciate different skills","a way to foster community","It was a form of entertainment","The university offers so many great cultural options in the arts that I felt like I got a better respect for different cultures which helped me in group projects and friendships.","Making sure my house was aesthetically pleasing with a lot of roommates.","adds another dimension to who i am","More well-rounded.","Some majored in the Arts","not sure","I'm not sure.","I'm not sure.","Limited","Very little. Can't think of any ways.","I studied Art History in a semester abroad in Spain. I learned a lot about art, especially Spanish Art. It gave me a much greater appreciation for art and made me a lot more interested in it. I also took a couple of literature classes at UofM that opened e up to varied literature and gave me a greater appreciation for it as well as helping in my personal development.","part of my life without which I could not live as happily as I am right now","No role during college.","Not much at all during college.","I think this question is pointless.","Attending arts events with friends always ended up being fun","fun thing to do with friends - built social connections","I think it has overall made me a more well-rounded and accepting person, and someone who is now more receptive to new and different things."],"thought_proportions":[0.6216,0.6839,0.5123,0.5683,0.51,0.51,0.51,0.51,0.51,0.51,0.6191,0.5161,0.6016,0.6501,0.5835,0.5835,0.5595,0.5668,0.6814,0.5324,0.5324,0.5324,0.5324,0.5324,0.5324,0.5324,0.5324,0.5324,0.5324,0.5596,0.6652,0.6652,0.6496,0.5962,0.5273,0.5273,0.5273,0.5273,0.5273,0.5273,0.5273,0.6111,0.5789,0.589,0.5029,0.5029,0.5029,0.5083,0.5511,0.5655],"thought_variances":[0.0201,0.0226,0.0279,0.0279,0.0284,0.0284,0.0284,0.0284,0.0284,0.0284,0.0287,0.03,0.0303,0.0314,0.0323,0.0323,0.0361,0.0371,0.0393,0.0405,0.0405,0.0405,0.0405,0.0405,0.0405,0.0405,0.0405,0.0405,0.0405,0.0406,0.0422,0.0422,0.0446,0.0465,0.0471,0.0471,0.0471,0.0471,0.0471,0.0471,0.0471,0.0499,0.0528,0.0538,0.0546,0.0546,0.0546,0.0554,0.0562,0.057]}],"topic_no":[6,9,1,3,10,2,4,7,5,8],"name":["What role did the arts play in your development as a person, friend, colleague, and student during college?"],"this_root":[true],"summary":["A topic model with 10 topics, 812 documents and a 322 word dictionary."],"proportions":[0.07,0.1164,0.088,0.102,0.1235,0.079,0.1099,0.1402,0.1489,0.02],"thoughts":["I think it has overall made me a more well-rounded and accepting person, and someone who is now more receptive to new and different things.","it was very personal, i didn't have friends taking lessons with me. i did it for myself.","They helped expose me to things that I didn't have exposure to","make me have respect for people in the arts","Enhancing my world-view.","It is how I express myself, a means of an inexpensive Christmas project and I want to be a comedy writer.","Definitely helped me to mature and improved my work ethic","The arts taught me to appreciate different skills","I became more creative.","I became more open","they made me better.","Creative ideas","foster relationships","I found that some kinds of art can be a place of release and escape from the day to day stresses","Through my jobs, internships, and work experience","A major role","It allows me to express myself","Allowing me to express the unspeakable.","creative expression","increase my level of creativity","Made me more expressive","made me more well-rounded","made me more well-rounded","It enhanced me","social setting","more aware of myself","Grew creatively","They made me awesome.","Making sure my house was aesthetically pleasing with a lot of roommates.","Provided an opprotunity for leadership experience","a way to foster community","Arts, and specifically music, gave me a connection to many people during college.","It was a form of entertainment","The arts made me more expressive and better at interpersonal communication. I'm not very open-minded in general, but the arts made me think about other people and perspectives when participating. It helped improve my time management some, and kind of keptme grounded throughout the four years at Michigan.","allowed me to creatively express myself","as a person, i think I learned a lot about different aspects of art and what art is defined as. As a friend it gave  me and my friends something to bond over and talk about. It also helped to open my eyes to new ideas and sometimes I drew connections betwen my coursework and the arts I attended/participated in","Added to my personality, something interesting and different from other people","I'm a much more well-rounded person now.","i went to the theater twice. thought it was fun each time","positive","Positive","Not much.","helped me realize different things i like/don't like","The university offers so many great cultural options in the arts that I felt like I got a better respect for different cultures which helped me in group projects and friendships.","I went into college for Art, I'm going to get a career in art.","The arts gave me more opportunities to spend time with friends and to reflect on myself and on society. It opened up my eyes to a lot of things I would not see or think about otherwise","adds another dimension to who i am","More well-rounded.","Some majored in the Arts","Allowed me to be open-minded"],"thought_proportions":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"thought_variances":[0.062,0.0681,0.0681,0.072,0.076,0.0801,0.0807,0.0832,0.0842,0.0842,0.0842,0.0842,0.0843,0.0851,0.0884,0.0888,0.0889,0.0889,0.0889,0.0889,0.0889,0.0889,0.0889,0.0894,0.0894,0.0894,0.0894,0.0894,0.0905,0.0906,0.0915,0.0915,0.0918,0.092,0.0924,0.0925,0.0928,0.0936,0.0937,0.0938,0.0938,0.0938,0.094,0.0945,0.0946,0.0951,0.0964,0.0964,0.0964,0.0966]}
</script>
<style>
div.settings-label {
	font-size: 12px;
	color: #BBB;
	font-style: italic;
	margin-top: -10px;
	margin-bottom: 40px;
	font-weight: 300
}

div.tree-tooltip {
	position: absolute;
	text-align: left;
	padding: 10px;
	border: 1px solid #D5D5D5;
	font-family: arial, helvetica, sans-serif;
	font-size: 1.1em;
	color: #333;
	padding: 10px;
	border-radius: 3px;
	background: rgba(255, 255, 255, 1);
	color: #000;
	box-shadow: 0 1px 5px rgba(0, 0, 0, .4);
	-moz-box-shadow: 0 1px 5px rgba(0, 0, 0, .4);
	border: 1px solid rgba(200, 200, 200, .85);
}

.sidebar {
	position: absolute;
	text-align: left;
	padding: 10px;
	border-right: 1px solid #D5D5D5;
	font-family: arial, helvetica, sans-serif;
	font-size: 1.1em;
	color: #333;
	padding: 10px;
	background: rgba(255, 255, 255, 1);
	color: #000;
	box-shadow: 0 1px 5px rgba(0, 0, 0, .4);
	-moz-box-shadow: 0 1px 5px rgba(0, 0, 0, .4)
}

.sidebar-item {
	direction: ltr
}

.sidebar-rule {
	height: 1px;
	margin: 1px auto 3px;
	margin-top: 7px;
	margin-bottom: 7px;
	background: #ccc;
	width: 10em
}

.header-rule {
	height: 1px;
	margin: 1px auto 3px;
	margin-top: 7px;
	margin-bottom: 7px;
	background: #ccc;
	width: 16em
}

.header-rule-short {
	height: 1px;
	margin: 1px auto 3px;
	margin-top: 7px;
	margin-bottom: 7px;
	background: #ccc;
	width: 6em
}

.header0 {
	color: #000;
	font-size: .7em;
	margin-bottom: 2px;
	text-align: center;
	font-style: oblique
}

.header1 {
	color: #000;
	font-size: .8em;
	margin-bottom: 2px;
	text-align: center
}

.header2 {
	text-align: left;
	font-size: .7em;
	margin-bottom: 2px;
	color: #666;
	text-align: center
}

.header3 {
	color: #333;
	text-align: left;
	font-size: 13px;
	font-style: italic;
	text-align: center
}

.thoughts {
	color: #333;
	text-align: left;
	opacity: 1;
    font-size:.7em;
	text-align: center;
	transition: .7s ease;
	font-size: 16px;
}

.overlay-text {
	color: black;
	font-size: 16px;
	font-weight: 700;
	opacity: 0;
	position: absolute;
	transition: .7s ease;
	width: 90%;
	top: 45%;
	left: 50%;
	transform: translate(-50%, -50%);
	-ms-transform: translate(-50%, -50%);
	text-align: center
}

.thought-container {
	position: relative;
	margin: 7.5px 8px 0 8px
}

.thought-container:hover .thoughts {
	opacity: .15
}

.thought-container:hover .overlay-text {
	opacity: 1
}
</style>
<style>
   *,::after,::before{background-repeat:no-repeat;box-sizing:inherit}::after,::before{text-decoration:inherit;vertical-align:inherit}html{box-sizing:border-box;cursor:default;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}article,aside,footer,header,nav,section{display:block}body{margin:0}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}nav ol,nav ul{list-style:none}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}::-moz-selection{background-color:#b3d4fc;color:#000;text-shadow:none}::selection{background-color:#b3d4fc;color:#000;text-shadow:none}audio,canvas,iframe,img,svg,video{vertical-align:middle}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg{fill:currentColor}svg:not(:root){overflow:hidden}table{border-collapse:collapse}button,input,optgroup,select,textarea{margin:0}button,input,select,textarea{color:inherit;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto;resize:vertical}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}template{display:none}[tabindex],a,area,button,input,label,select,summary,textarea{-ms-touch-action:manipulation;touch-action:manipulation}[hidden]{display:none}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-hidden=false][hidden]:not(:focus){clip:rect(0,0,0,0);display:inherit;position:absolute}[aria-disabled],[disabled]{cursor:default}.vz-weighted_tree-node text{stroke:#777;stroke-opacity:.5}html{background:#fff;font:100% sans-serif}.scrollbox{background:linear-gradient(white 30%,hsla(0,0%,100%,0)),linear-gradient(hsla(0,0%,100%,0) 10px,#fff 70%) bottom,radial-gradient(at top,rgba(0,0,0,.2),transparent 70%),radial-gradient(at bottom,rgba(0,0,0,.2),transparent 70%) bottom;background-repeat:no-repeat;background-size:100% 20px,100% 20px,100% 10px,100% 10px;background-attachment:local,local,scroll,scroll}.z-depth-2{box-shadow:0 8px 17px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.z-depth-3{box-shadow:0 12px 15px 0 rgba(0,0,0,.24),0 17px 50px 0 rgba(0,0,0,.19)}.modal,.z-depth-4{box-shadow:0 16px 28px 0 rgba(0,0,0,.22),0 25px 55px 0 rgba(0,0,0,.21)}.z-depth-5{box-shadow:0 27px 24px 0 rgba(0,0,0,.2),0 40px 77px 0 rgba(0,0,0,.22)}body{margin:0}@media only screen{main{padding-left:0px}}@media only screen and (max-width:961px){main{padding-left:0}}#viz_container{margin:0 auto;padding-top:0}div.container{width:100%;position:absolute;top:100px}.tile{font-family:Raleway;font-weight:300}.heading{font-family:Raleway;font-weight:300}.side-nav li:hover{background-color:#fff}.leftAxis{font-weight:200}.datatip-value{position:absolute;right:10px}.title{font-family:Roboto;font-size:20px;font-weight:200}.vizuly{font-family:Raleway}svg{border-radius:4px;shape-rendering:crispEdges}.vz-data-point{fill-opacity:1;stroke-width:1px;stroke-opacity:1}.vz-tip-hover{font-weight:300}.vz-tip-hover text{opacity:.8}.my-tip{font-family:Raleway;font-weight:300;text-anchor:middle}[type=radio]:checked+label:after{background-color:#448aff;border-color:#3864c9}[type=radio]+label{border-color:#3864c9}.input-field{margin-left:0;padding-bottom:5px;font-family:Roboto}.dropdown-content{font-family:Roboto;font-size:.5em}.dropdown-content li span{font-family:Roboto;font-size:1.75em}div.input-field label{margin-left:-10px}.mdi-navigation-menu{font-size:30px;color:#444}i.mdi-navigation-menu:before{font-size:40px;content:"\e662"}i.mdi-navigation-menu:hover{transition:color .5s ease;color:#0176b4}#myDataTip{font-family:Raleway;line-height:18px}svg.vizuly path.domain{fill:none}.vizuly{fill:#aaa;shape-rendering:auto}.vz-plot-background{fill:#fff}.vz-bar{stroke:#eee;shape-rendering:auto}.vz-area{fill-opacity:.7;shape-rendering:auto}.vz-line{stroke:#777;stroke-width:1px;stroke-opacity:1;fill:none;shape-rendering:auto}.vz-tip{stroke:1px;fill:none;stroke:#777;stroke-opacity:1;shape-rendering:auto}.vz-line-indicator{stroke:#555;stroke-width:1px}.vz-data-point{shape-rendering:auto}.vz-bottomAxis{shape-rendering:crispEdges}.vz-radial-axis-tick{font-weight:300}.vz-skin-axiis{background-image:linear-gradient(to bottom,#d0d0d0,#dfdfdf,#f3f3f3,#d0d0d0);border-radius:5px;border:1px solid #bbb}.vz-skin-ocean{background-image:url(img/vz-skin-galaxy_2.jpg);background-repeat:no-repeat;background-size:cover;border-radius:5px}.vz-axiis-datatip{background:rgba(232,232,232,.9);border-radius:3px;border:1px solid #aaa;fill:#fff;padding:10px;font-face:Raleway;text-transform:uppercase;font-weight:200;color:#000}.vz-material-datatip{background:rgba(35,35,35,.7);border-radius:3px;border:1px solid #aaa;fill:#fff;padding:10px;font-face:Raleway;text-transform:uppercase;font-weight:200;color:#fff}.vz-neon-datatip{background:rgba(106,106,106,.7);border-radius:3px;border:1px solid #777;padding:10px;font-face:Raleway;text-transform:uppercase;font-weight:200;color:#fff}.vz-minimal-datatip{background:rgba(220,220,220,1);border-radius:1px;border:1px solid #333;padding:10px;font-face:Raleway;text-transform:uppercase;color:#333}.vz-minimal-datatip span{font-weight:300!important}.vz-viz circle{shape-rendering:auto}.vz-skin-political-influence{background-color:#eee;border-radius:5px}svg{fill:#fff}i.mdi-navigation-menu:before{font-size:40px;content:"\e662"}i.mdi-navigation-menu:hover{transition:color .5s ease;color:#0176b4}div.vz-weighted_tree-viz{overflow:hidden}.vz-weighted_tree-viz circle{fill:#09f;fill-opacity:1}html{overflow:auto}.vz-weighted_tree-viz{overflow:auto;width:100%;height:100%}.vz-background{overflow:auto}.vz-weighted_tree-viz text{fill:#000}.vz-weighted_tree-viz path{stroke:#777;stroke-opacity:.5}.vz-skin-fire .vz-radial_progress-track{fill-opacity:.1}svg.vz-weighted_tree-viz{fill:none;font-family:Roboto;pointer-events:visible;opacity:1}div.radial_container{float:left;position:relative;top:45%;transform:translateY(-50%)}#viz_container{border-radius:6px;transform:translate(-15%,0px);}
</style>
<script>
   var vizuly={};vizuly.version="1.0",vizuly.core={},vizuly.viz={},vizuly.viz.layout={},vizuly.viz.layout.CLUSTERED="CLUSTERED",vizuly.viz.layout.STACKED="STACKED",vizuly.viz.layout.OVERLAP="OVERLAP",vizuly.viz.layout.STREAM="STREAM",vizuly.svg={},vizuly.theme={},vizuly.skin={},vizuly.ui={},vizuly.core.component=function(a,b,c,d){function e(a,b,c){Object.getOwnPropertyNames(c).forEach(function(d,e,f){"undefined"==typeof b[d]&&(b[d]=c[d],a[d]=function(c){if(!arguments.length)return b[d];var e=b[d];return b[d]=c,b[d]!==e&&b.dispatch[d+"_change"].apply(this,[b[d],e]),a})})}b.parent=a,b.properties=c,b.id=vizuly.core.util.guid(),b.selection=d3.select(a).append("div").attr("id","div_"+b.id).style("width","100%").style("height","100%");var f=[];f.push("mouseover"),f.push("mouseout"),f.push("mousedown"),f.push("click"),f.push("dblclick"),f.push("touch"),f.push("zoom"),f.push("zoomstart"),f.push("zoomend"),f.push("initialize"),f.push("validate"),f.push("measure"),f.push("update"),Object.getOwnPropertyNames(c).forEach(function(a,b,c){f.push(a+"_change")}),d&&d.length>0&&d.forEach(function(a){f.push(a)}),b.dispatch=d3.dispatch.apply(this,f);var g=function(){return e(g,b,b.properties),g};return b.dispatch.component=g(),g.id=function(){return b.id},g.selection=function(){return b.selection},g.on=function(a,c){return b.dispatch.on(a,c),g},g.validate=function(){if(!a){var a=[];if(Object.getOwnPropertyNames(c).forEach(function(c){!b[c]&&Number(0!=b[c])&&a.push(c)}),a.length>0)throw new Error("vizuly.core.util.component.validate(): "+a.concat()+" need to be declared");b.dispatch.validate()}},b.dispatch.component},vizuly.core.util={},vizuly.core.util.size=function(a,b,c){var d={};return d.width=b-vizuly.core.util.measure(a.left,b)-vizuly.core.util.measure(a.right,b),d.height=c-vizuly.core.util.measure(a.top,c)-vizuly.core.util.measure(a.bottom,c),d.top=vizuly.core.util.measure(a.top,c),d.left=vizuly.core.util.measure(a.left,b),d.bottom=vizuly.core.util.measure(a.bottom,c),d.right=vizuly.core.util.measure(a.right,b),d},vizuly.core.util.getTypedScale=function(a){var b;return b="string"==typeof a?d3.scale.ordinal():a instanceof Date?d3.time.scale():d3.scale.linear()},vizuly.core.util.setRange=function(a,b,c){"string"==typeof a.domain()[0]?a.rangeBands([b,c],0):a.range([b,c])},vizuly.core.util.measure=function(a,b){if("string"==typeof a&&"%"==a.substr(a.length-1)){var c=Math.min(Number(a.substr(0,a.length-1)),100)/100;return Math.round(b*c)}return a},vizuly.core.util.guid=function(){return"vzxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},vizuly.core.util.getDefs=function(a){var b=a.selection().selectAll("svg defs");return b[0].length<1&&(b=a.selection().select("svg").append("defs")),b},vizuly.core.util.createCSSKey=function(a){return a=String(a).replace(",","_"),a=a.replace(/[\s+,'+,\.,\(,\),\"]/g,""),a="css"+a.toUpperCase()},vizuly.core.util.aggregateNest=function(a,b,c){function d(a,b){if(b)for(var c=0;c<g.length;c++){var d=g[c];void 0!=a[d]&&(a["childProp_"+d]=a[d]),b["childProp_"+d]=a["childProp_"+d]?a["childProp_"+d]:a[d]}}function e(a,f){for(var g=0;g<a.length;g++){var h=a[g];if(h.values){e(h.values,h);for(var i=0;i<h.values.length;i++)for(var j=h.values[i],k=0;k<b.length;k++)isNaN(h["agg_"+b[k]])&&(h["agg_"+b[k]]=0),h["agg_"+b[k]]=c(h["agg_"+b[k]],j["agg_"+b[k]])}else for(var k=0;k<b.length;k++)h["agg_"+b[k]]=Number(h[b[k]]),isNaN(h["agg_"+b[k]])&&(h["agg_"+b[k]]=0);d(h,f)}}for(var f=a[0];f.values;)f=f.values[0];var g=[];Object.getOwnPropertyNames(f).forEach(function(a){g.push(a)}),e(a)},vizuly.core.util.format_YEAR_Mon_MonDay=d3.time.format.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%b",function(a){return a.getMonth()}],["20%y",function(a){return!0}]]),vizuly.svg.filter={},vizuly.svg.filter.dropShadow=function(a,b,c,d){var e=Math.round(100*b)+"_"+Math.round(100*c)+"_"+Math.round(100*dev),f=a.id(),g=vizuly.core.util.getDefs(a),h=g.selectAll("#vz_filter_"+f+"_"+e).data([e]).enter().append("filter").attr("id","vz_filter_"+f+"_"+e).attr("class","vz-svg-filter-dropShadow").attr("width","300%").attr("height","300%");h.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",d),h.append("feOffset").attr("dx",b).attr("dy",c),h.append("feComponentTransfer").append("feFuncA").attr("type","linear").attr("slope",.2);var i=h.append("feMerge");return i.append("feMergeNode"),i.append("feMergeNode").attr("in","SourceGraphic"),"#vz_filter_"+f+"_"+e},vizuly.svg.gradient={},vizuly.svg.gradient.blend=function(a,b,c,d){var e,f,g,h,i=String(b).replace("#","")+String(c).replace("#",""),j="vz_gradient_blend_"+a.id()+"_"+i;"horizontal"==d?(e="100%",f="0%",g="0%",h="0%"):(e="0%",f="0%",g="100%",h="0%");var k=vizuly.core.util.getDefs(a),l=k.selectAll("#"+j).data([i]).enter().append("linearGradient").attr("id",j).attr("class","vz-svg-gradient-blend").attr("x1",e).attr("x2",f).attr("y1",g).attr("y2",h);return l.append("stop").attr("offset","0%").attr("stop-color",b),l.append("stop").attr("offset","100%").attr("stop-color",c),l=k.selectAll("#"+j)},vizuly.svg.gradient.fade=function(a,b,c,d,e){e||(e=[0,1]),d||(d=[.75,.9]);var f,g,h,i,j=String(b).replace("#",""),k="vz_gradient_fade_"+a.id()+"_"+j;"horizontal"==c?(f="0%",g="100%",h="0%",i="0%"):(f="0%",g="0%",h="100%",i="0%");var l=vizuly.core.util.getDefs(a),m=l.selectAll("#"+k).data([j]).enter().append("linearGradient").attr("id",k).attr("class","vz-svg-gradient-fade").attr("x1",f).attr("x2",g).attr("y1",h).attr("y2",i);return m.append("stop").attr("offset",100*e[0]+"%").attr("stop-color",b).attr("stop-opacity",d[0]),m.append("stop").attr("offset",100*e[1]+"%").attr("stop-color",b).attr("stop-opacity",d[1]),m=l.selectAll("#"+k)},vizuly.svg.gradient.radialFade=function(a,b,c,d){d||(d=[0,1]),c||(c=[.75,.9]);var e=String(b).replace("#",""),f="vz_gradient_radial_fade"+a.id()+"_"+e,g=vizuly.core.util.getDefs(a),h=g.selectAll("#"+f).data([e]).enter().append("radialGradient").attr("id",f).attr("class","vz-svg-gradient-radial-fade");return h.append("stop").attr("offset",100*d[0]+"%").attr("stop-color",b).attr("stop-opacity",c[0]),h.append("stop").attr("offset",100*d[1]+"%").attr("stop-color",b).attr("stop-opacity",c[1]),h=g.selectAll("#"+f)},vizuly.svg.gradient.darker=function(a,b,c){var d,e,f,g,h=String(b).replace("#",""),i="vz_gradient_darker_"+a.id()+"_"+h;"horizontal"==c?(d="100%",e="0%",f="0%",g="0%"):(d="0%",e="0%",f="100%",g="0%");var j=vizuly.core.util.getDefs(a),k=j.selectAll("#"+i).data([h]).enter().append("linearGradient").attr("class","vz-gradient-darker").attr("id",i).attr("x1",d).attr("x2",e).attr("y1",f).attr("y2",g);return k.append("stop").attr("offset","0%").attr("stop-color",b).attr("stop-opacity",.75),k.append("stop").attr("offset","100%").attr("stop-color",d3.rgb(b).darker()).attr("stop-opacity",.9),k=j.selectAll("#"+i)},vizuly.svg.text={},vizuly.svg.text.arcPath=function(a,b){var c=.0174533,d={};d.angle=b,d.startAngle=d.angle-179*c,d.endAngle=d.angle+179*c;var e=d3.svg.arc().innerRadius(r).outerRadius(a)(d),f=/[Mm][\d\.\-e,\s]+[Aa][\d\.\-e,\s]+/,g=f.exec(e);return g&&(g=g[0]),g},vizuly.svg.text.wrap=function(a,b,c,d){d=!d&&a.attr("width")?Number(a.attr("width")):d,a.each(function(){var a=d3.select(this);a.selectAll("tspan").remove();var e,f=b.split(/\s+/).reverse(),g=[],h=0,i=a.attr("x"),j=a.attr("y"),k=parseFloat(c);isNaN(k)&&(k=0);for(var l=a.text(null).append("tspan").attr("x",i).attr("y",j).attr("dy","0px");e=f.pop();)g.push(e),l.text(g.join(" ")),l.node().getComputedTextLength()>d&&(h++,g.pop(),l.text(g.join(" ")),g=[e],l=a.append("tspan").attr("class","vz-multi-line").attr("x",i).attr("y",j).attr("dy",+k+"px").text(e),k+=c)})},vizuly.skin.COLUMNBAR_AXIIS="Axiis",vizuly.skin.COLUMNBAR_NEON="Neon",vizuly.skin.COLUMNBAR_MATERIALBLUE="MaterialBlue",vizuly.skin.COLUMNBAR_MATERIALPINK="MaterialPink",vizuly.theme.column_bar=function(a){function b(){l(),"viz.chart.column"==a.type?(m=".vz-left-axis",n=".vz-bottom-axis"):(n=".vz-left-axis",m=".vz-bottom-axis")}function c(){var b=a.width(),c=a.selection();o=Math.max(8,Math.round(a.width()/65)),c.attr("class",s["class"]),c.selectAll(n+" .tick text").style("font-weight",s.ordinalAxis_font_weight).style("fill",s.labelColor).style("fill-opacity",1).style("font-size",o+"px").style("opacity",function(){return b>399?1:0}),c.selectAll(m+" line").style("stroke",s.valueAxis_line_stroke).style("stroke-width",1).style("opacity",s.valueAxis_line_opacity),c.selectAll(m+" text").style("font-size",o+"px").style("fill",s.labelColor).style("fill-opacity",.8);var d=c.selectAll(".vz-plot .vz-bar").style("stroke","#FFF");a.layout()==vizuly.viz.layout.STACKED?d.style("stroke-opacity",1).style("stroke-width",function(){return b/800+"px"}).style("stroke-opacity",.6):d.style("stroke-opacity",s.bar_stroke_opacity),c.selectAll(".vz-bar-group")[0].forEach(function(a,b){d3.select(a).selectAll("rect.vz-bar").attr("filter",function(a,b){return s.bar_filter(a,b)}).style("fill-opacity",function(a,b){return s.bar_fill_opacity(a,b)}).style("fill",function(a,b){return s.bar_fill(a,b)}).style("rx",s.barRadius)}),s.background_transition()}function d(b,c,d){d3.select(b).style("fill",s.bar_mouseover_fill).style("fill-opacity",s.bar_mouseover_opacity).style("stroke",s.bar_mouseover_stroke).attr("filter",s.bar_filter_over()),d3.select(a.selection().selectAll(n+" .tick text")[0][g(c)]).transition().style("font-size",1.2*o+"px").style("font-weight",700).style("fill",s.color).style("text-decoration","underline").style("fill-opacity",1).style("opacity",1)}function e(b,c,d){d3.select(b).style("fill",function(){return s.bar_fill(c,d)}).style("fill-opacity",function(){return s.bar_fill_opacity(c,d)}).style("stroke","#FFF").attr("filter",s.bar_filter()),d3.select(a.selection().selectAll(n+" .tick text")[0][g(c)]).transition().style("font-size",o+"px").style("fill",s.labelColor).style("font-weight",s.ordinalAxis_font_weight).style("text-decoration",null).style("fill-opacity",1).style("opacity",function(){return a.width()>399?1:0})}function f(){a.selection().selectAll(".vz-tip").remove(),"viz.chart.column"==a.type?a.yAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).width).ticks(5).orient("left"):a.xAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).height).ticks(5)}function g(b){return(m=".vz-left-axis")?a.xScale().domain().indexOf(a.y().apply(this,[b])):a.yScale().domain().indexOf(a.x().apply(this,[b]))}function h(){var b=a.width();return"url("+vizuly.svg.filter.dropShadow(a,b/300,b/300,b/200)+")"}function i(){var b=a.width();return"url("+vizuly.svg.filter.dropShadow(a,b/100,b/100,1.5)+")"}function j(){a.selection().selectAll(".vz-background").style("fill-opacity",1),a.selection().selectAll(".vz-background").attr("fill",function(){return"url(#"+r.attr("id")+")"}),r.selectAll("stop").transition().duration(500).attr("stop-color",function(a,b){return 0==b?s.grad0:s.grad1})}function k(a,b){return a="0x"+a.replace("#",""),a=parseInt(a,16),a+=65793,a|=b,"#"+a.toString(16)}function l(){q.forEach(function(b){a.on(b.on,b.callback)})}var m,n,o,p={MaterialBlue:{name:"Material Blue",labelColor:"#FFF",color:"#02C3FF",grad0:"#021F51",grad1:"#039FDB",background_transition:j,bar_filter:function(a,b){return h()},bar_filter_over:function(a,b){return i()},bar_fill:function(a,b){return"#02C3FF"},bar_fill_opacity:function(a,b){return 1-b/4},bar_mouseover_stroke:"#02C3FF",bar_mouseover_fill:"#FFF",bar_stroke_opacity:0,bar_mouseover_opacity:1,ordinalAxis_font_weight:200,valueAxis_line_stroke:"#FFF",valueAxis_line_opacity:.25,barRadius:function(){return 0},datatip_class:"vz-material-datatip","class":"vz-skin-default"},MaterialPink:{name:"Material Pink",labelColor:"#FFF",color:"#F553B1",grad0:"#540936",grad1:"#C12780",background_transition:j,bar_filter:function(a,b){return h()},bar_filter_over:function(a,b){return i()},bar_fill:function(a,b){return"#FF35BE"},bar_fill_opacity:function(a,b){return 1-b/4},bar_stroke_opacity:0,bar_mouseover_stroke:"#FF35BE",bar_mouseover_fill:"#FFF",bar_mouseover_opacity:.9,ordinalAxis_font_weight:200,valueAxis_line_stroke:"#FFF",valueAxis_line_opacity:.25,barRadius:function(){return 0},datatip_class:"vz-material-datatip","class":"vz-skin-default"},Neon:{name:"Neon",labelColor:"#FFF",color:"#D1F704",grad0:"#000000",grad1:"#474747",background_transition:j,bar_filter:function(a,b){return null},bar_filter_over:function(a,b){return i()},bar_fill:function(a,b){return"#D1F704"},bar_fill_opacity:function(a,b){return 1-b/6},bar_stroke_opacity:0,bar_mouseover_stroke:"#D1F704",bar_mouseover_fill:"#FFF",bar_mouseover_opacity:1,ordinalAxis_font_weight:200,valueAxis_line_stroke:"#FFF",valueAxis_line_opacity:.25,barRadius:function(){return a.width()/150},datatip_class:"vz-neon-datatip","class":"vz-skin-default"},Axiis:{name:"Axiis",labelColor:"#444",color:"#000",colorScale:d3.scale.linear().range(["#DF1133","#3333DF"]).domain([0,a.data()[0].length]),background_transition:function(){a.selection().select(".vz-background").transition().style("fill-opacity",0)},bar_filter:function(a,b){return null},bar_filter_over:function(a,b){return null},bar_fill:function(b,c){var d=vizuly.svg.gradient.fade(a,k(this.colorScale(a.xScale().domain().indexOf(a.x().apply(this,[b]))),2245632*c));return"url(#"+d.attr("id")+")"},bar_fill_opacity:function(a,b){return 1-b/4},bar_mouseover_stroke:"#AAA",bar_mouseover_fill:"#000",bar_mouseover_opacity:.8,bar_stroke_opacity:1,ordinalAxis_font_weight:400,valueAxis_line_stroke:"#AAA",valueAxis_line_opacity:1,barRadius:function(){return 0},datatip_class:"vz-axiis-datatip","class":"vz-skin-axiis"},Minimal:{name:"Minimal",labelColor:"#444",color:"#333",grad0:"#F0F0F0",grad1:"#F0F0F0",background_transition:j,bar_filter:function(a,b){return null},bar_filter_over:function(a,b){return null},bar_fill:function(a,b){return"#555"},bar_fill_opacity:function(a,b){return 1-b/4},bar_stroke_opacity:0,bar_mouseover_stroke:"#000",bar_mouseover_fill:"#333",bar_mouseover_opacity:1,ordinalAxis_font_weight:400,valueAxis_line_stroke:"#AAA",valueAxis_line_opacity:.35,barRadius:function(){return 0},datatip_class:"vz-minimal-datatip","class":"vz-skin-default"}},a=a,q=[{on:"measure.theme",callback:f},{on:"update.theme",callback:c},{on:"mouseover.theme",callback:d},{on:"mouseout.theme",callback:e}];b();var r=vizuly.svg.gradient.blend(a,"#000","#000");b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),q.forEach(function(b){a.on(b.on,null)}),a=null)},b.viz=function(b){return arguments.length?(a=b,void l()):a};var s=null;return b.skin=function(a){if(0==arguments.length)return s;if(!p[a])throw new Error("theme/column_bar.js - skin "+a+" does not exist.");return s=p[a],b},b.skins=function(){return p},b},vizuly.skin.LINEAREA_AXIIS="Axiis",vizuly.skin.LINEAREA_NEON="Neon",vizuly.skin.LINEAREA_FIRE="Fire",vizuly.skin.LINEAREA_OCEAN="Ocean",vizuly.skin.LINEAREA_SUNSET="Sunset",vizuly.skin.LINEAREA_BUSINESS="Business",vizuly.theme.radial_linearea=function(a){function b(){h()}function c(){if(i){var b=a.selection();b.attr("class",i["class"]),b.selectAll(".vz-background").attr("fill",function(){return"url(#"+j.attr("id")+")"}),b.selectAll(".vz-plot-background").style("opacity",0),b.selectAll(".vz-area").style("fill",function(a,b){return i.area_fill(a,b)}).style("fill-opacity",function(b,c){return i.area_fill_opacity.apply(a,[b,c])}),b.selectAll(".vz-line").style("stroke-width",function(){return a.outerRadius()/450}).style("stroke",function(a,b){return i.line_stroke(a,b)}).style("opacity",function(b,c){return i.line_opacity.apply(a,[b,c])}),b.selectAll(".vz-data-point").style("opacity",0),b.selectAll(".vz-radial-x-axis-tick").style("font-weight",i.xAxis_font_weight).style("fill",i.labelColor).style("font-weight",300).style("fill-opacity",.4).style("font-size",Math.max(8,Math.round(a.outerRadius()/25))+"px"),b.selectAll(".vz-y-axis-tick").style("stroke",i.yAxis_line_stroke).style("stroke-width",1).style("opacity",i.yAxis_line_opacity),b.selectAll(".vz-y-axis-tick-label").style("font-size",Math.max(8,Math.round(a.outerRadius()/30))+"px").style("fill",i.labelColor).style("font-weight",200).style("fill-opacity",function(){return i===m.Business?1:.4}),i.background_transition()}}function d(b,c,d){a.selection().selectAll(".vz-line").transition().style("stroke-width",function(){return a.outerRadius()/270}).style("stroke",function(a,b){return i.line_over_stroke(a,b)}).style("opacity",function(a,b){return b==d?1:0}),a.selection().selectAll(".vz-area").transition().style("opacity",function(a,b){return b==d?1:.35}),a.selection().selectAll(".vz-plot").append("circle").attr("class","vz-yAxis-mouseover").attr("cx",0).attr("cy",0).attr("r",function(){return a.radiusScale()(b.y+b.y0)}).style("stroke","#FFF").style("fill","none").style("stroke-dasharray",function(){return a.outerRadius()/80+","+a.outerRadius()/80}),a.selection().selectAll(".vz-y-axis-tick").style("opacity",.1),a.selection().selectAll(".vz-point-tip").remove();var e=d3.select(this);e.append("circle").attr("class","vz-point-tip").attr("r",4).style("fill","#000").style("stroke","#FFF").style("stroke-width",2).style("pointer-events","none")}function e(b,c,d){a.selection().selectAll(".vz-line").transition().style("stroke-width",function(){return a.outerRadius()/450}).style("stroke",function(a,b){return i.line_stroke(a,b)}).style("opacity",function(b,c){return i.line_opacity.apply(a,[b,c])}),a.selection().selectAll(".vz-area").transition().style("opacity",1),a.selection().selectAll(".vz-yAxis-mouseover").remove(),a.selection().selectAll(".vz-point-tip").remove(),a.selection().selectAll(".vz-y-axis-tick").style("opacity",i.yAxis_line_opacity)}function f(){a.yAxis().tickSize(a.outerRadius()).ticks(a.layout()==vizuly.viz.layout.OVERLAP?5:7).orient("left")}function g(){a.selection().selectAll(".vz-background").style("fill-opacity",1),j.selectAll("stop").transition().duration(500).attr("stop-color",function(a,b){return 0==b?i.grad0:i.grad1})}function h(){l.forEach(function(b){a.on(b.on,b.callback)})}var a=a,i=null,j=vizuly.svg.gradient.blend(a,"#000","#000"),k=d3.scale.category20(),l=[{on:"measure.theme",callback:f},{on:"update.theme",callback:c},{on:"mouseover.theme",callback:d},{on:"mouseout.theme",callback:e}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),l.forEach(function(b){a.on(b.on,null)}),a=null)},b.viz=function(b){return arguments.length?(a=b,void h()):a},b.skin=function(a){if(0==arguments.length)return i;if(!m[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return i=m[a],b},b.skins=function(){return m};var m={Fire:{name:"Fire",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:g,line_stroke:function(a,b){return this.stroke_colors[b%5]},line_over_stroke:function(a,b){return d3.rgb(this.stroke_colors[b%5]).brighter()},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.4:.6},area_fill:function(b,c){return"url(#"+vizuly.svg.gradient.radialFade(a,this.fill_colors[c%5],[1,.35]).attr("id")+")"},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.7:.9},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,"class":"vz-skin-default"},Sunset:{name:"Sunset",labelColor:"#D8F433",color:"#02C3FF",stroke_colors:["#CD57A4","#B236A3","#FA6F7F","#FA7C3B","#E96B6B"],fill_colors:["#89208F","#C02690","#D93256","#DB3D0C","#B2180E"],grad1:"#7D1439",grad0:"#000",background_transition:g,line_stroke:function(a,b){return this.stroke_colors[b%5]},line_over_stroke:function(a,b){return d3.rgb(this.stroke_colors[b%5]).brighter()},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.4:.9},area_fill:function(b,c){return"url(#"+vizuly.svg.gradient.radialFade(a,this.fill_colors[c%5],[1,.35]).attr("id")+")"},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.8:1},xAxis_font_weight:200,yAxis_line_stroke:"#D8F433",yAxis_line_opacity:.25,"class":"vz-skin-default"},Ocean:{name:"Ocean",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#001432","#001432","#001432","#001432","#001432"],grad1:"#390E1D",grad0:"#92203A",background_transition:function(b){a.selection().select(".vz-background").transition(1e3).style("fill-opacity",0)},line_stroke:function(a,b){return"#FFF"},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return.3},area_fill:function(b,c){return"url(#"+vizuly.svg.gradient.radialFade(a,"#FFF",[1,.35]).attr("id")+")"},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.2:.7},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,"class":"vz-skin-ocean"},Neon:{name:"Neon",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:g,line_stroke:function(a,b){return"#FFF"},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.2:.4},area_fill:function(a,b){return"#D1F704"},area_fill_opacity:function(b,c){var d=d3.scale.linear().range([.1,.8]).domain([0,a.data().length])(c);return this.layout()==vizuly.viz.layout.OVERLAP?.8*d:d},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,"class":"vz-skin-default"},Business:{name:"Business",labelColor:"#000",color:"#000",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#CCC",grad1:"#CCC",background_transition:g,line_stroke:function(a,b){return d3.rgb(k(b)).darker()},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return.7},area_fill:function(a,b){return k(b)},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.9:.95},xAxis_font_weight:200,yAxis_line_stroke:"#000",yAxis_line_opacity:.25,"class":"vz-skin-default"}};return b},vizuly.skin.HALO_FIRE="Fire",vizuly.skin.HALO_SUNSET="Sunset",vizuly.skin.HALO_NEON="Neon",vizuly.skin.HALO_OCEAN="Ocean",vizuly.theme.halo=function(a){function b(){r()}function c(){if(s&&a){var b=a.selection();b.attr("class",s["class"]),b.selectAll(".vz-background").attr("fill",function(){return"url(#"+t.attr("id")+")"}),b.selectAll(".vz-plot-background").style("opacity",0),b.selectAll(".vz-halo-link-path").style("fill",function(a,b){return s.link_fill(a,b)}).style("fill-opacity",s.link_fill_opacity).style("stroke",function(a,b){return s.link_stroke(a,b)}),b.selectAll(".vz-halo-link-node").style("fill",function(a,b){return s.link_fill(a,b)}).style("fill-opacity",s.link_node_fill_opacity),b.selectAll(".vz-halo-node").style("fill",function(a,b){return s.node_fill(a,b)}).style("stroke",function(a,b){return s.node_stroke(a,b)}).style("stroke-width",function(a,b){return u(a.r)}),b.selectAll(".vz-halo-arc-slice").style("fill",function(a,b){return s.arc_fill(a,b)}),b.selectAll(".vz-halo-arc").style("fill",function(a,b){return s.arc_fill(a,b)}),s.background_transition()}}function d(b,c,d){h(),n(d3.select(b)),i(a.selection().selectAll(".vz-halo-link-path.halo-key_"+c.data.key)),c.data.values.forEach(function(b){k(a.selection().selectAll(".vz-halo-node.node-key_"+a.nodeKey()(b)))})}function e(b,c,d){h(),i(d3.select(b.parentNode).selectAll(".vz-halo-link-path")),n(a.selection().selectAll(".vz-halo-arc.halo-key_"+a.haloKey()(c.data))),m(d3.select(b.parentNode).selectAll(".vz-halo-arc-slice")),j(a.selection().selectAll(".vz-halo-node.node-key_"+a.nodeKey()(c.data))),l(d3.select(b.parentNode).selectAll("circle"))}function f(b,c,d){h();var e=a.selection().selectAll(".vz-halo-link-path.node-key_"+c.key);e.each(function(b){var c=a.selection().selectAll(".vz-halo-arc.halo-key_"+a.haloKey()(b.data));n(c)}),i(e),m(a.selection().selectAll(".vz-halo-arc-slice.node-key_"+c.key)),l(a.selection().selectAll(".vz-halo-node.node-key_"+c.key))}function g(a,b,c){o()}function h(){a.selection().selectAll(".vz-halo-node").style("fill-opacity",.1).style("stroke-opacity",.05),a.selection().selectAll(".vz-halo-link-node").style("fill-opacity",0),a.selection().selectAll(".vz-halo-link-path").style("fill-opacity",.025)}function i(a){a.style("fill-opacity",.6).style("stroke-opacity",.25)}function j(a){a.style("stroke-opacity",.8).style("stroke",function(a,b){return s.node_over_stroke(a,b)})}function k(a){a.style("fill-opacity",.8).style("stroke-opacity",.5).style("stroke",function(a,b){return s.node_over_stroke(a,b)})}function l(a){a.style("fill-opacity",.5).style("stroke-opacity",.7).style("stroke",function(a,b){return s.node_over_stroke(a,b)})}function m(a){a.style("fill-opacity",.8).style("stroke-opacity",.8)}function n(a){a.style("fill-opacity",.65).style("stroke-opacity",.8).style("fill",function(a,b){return s.arc_over_fill(a,b)})}function o(){a.selection().selectAll(".vz-halo-arc").style("fill-opacity",null).style("stroke-opacity",null).style("fill",function(a,b){return s.arc_fill(a,b)}),a.selection().selectAll(".vz-halo-node").style("fill-opacity",null).style("stroke-opacity",null).style("stroke",function(a,b){return s.node_stroke(a,b)}),a.selection().selectAll(".vz-halo-link-node").style("fill-opacity",s.link_node_fill_opacity).style("stroke",null),a.selection().selectAll(".vz-halo-link-path").style("fill-opacity",s.link_fill_opacity).style("stroke-opacity",null),a.selection().selectAll(".vz-halo-arc-slice").style("fill-opacity",null).style("stroke-opacity",null)}function p(){var b=Math.min(a.width(),a.height()/2);u.domain([0,b/20]),u.range([0,b/80])}function q(){a.selection().selectAll(".vz-background").style("fill-opacity",1),t.selectAll("stop").transition().duration(500).attr("stop-color",function(a,b){return 0==b?s.grad0:s.grad1})}function r(){v.forEach(function(b){a.on(b.on,b.callback)})}var a=a,s=null,t=vizuly.svg.gradient.blend(a,"#000","#000"),u=d3.scale.linear(),v=[{on:"measure.theme",callback:p},{on:"update.theme",callback:c},{on:"nodeover.theme",callback:f},{on:"nodeout.theme",callback:g},{on:"arcover.theme",callback:d},{on:"arcout.theme",callback:g},{on:"linkover.theme",callback:e},{on:"linkout.theme",callback:g}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),v.forEach(function(b){a.on(b.on,null)}),a=null)},b.viz=function(b){return arguments.length?(a=b,void r()):a},b.skin=function(a){if(0==arguments.length)return s;if(!w[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return s=w[a],b},b.skins=function(){return w};var w={Fire:{name:"Fire",labelColor:"#FFF",labelFill:"#C50A0A",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:q,link_stroke:function(a,b){return this.stroke_colors[b%5]},link_fill:function(a,b){return this.fill_colors[b%5]},link_fill_opacity:.1,link_node_fill_opacity:.1,node_stroke:function(a,b){return this.stroke_colors[b%5]},node_over_stroke:function(a,b){return"#FFF"},node_fill:function(a,b){return this.fill_colors[b%5]},arc_stroke:function(a,b){return"#FFF"},arc_fill:function(a,b){return this.fill_colors[b%5]},arc_over_fill:function(a,b){return"#FFEB3B"},"class":"vz-skin-fire"},Sunset:{name:"Sunset",labelColor:"#FFF",labelFill:"#00236C",stroke_colors:["#CD57A4","#B236A3","#FA6F7F","#FA7C3B","#E96B6B"],fill_colors:["#89208F","#C02690","#D93256","#DB3D0C","#B2180E"],grad0:"#220910",grad1:"#571825",background_transition:q,link_stroke:function(a,b){return this.stroke_colors[b%5]},link_fill:function(a,b){return this.fill_colors[b%5]},link_fill_opacity:.2,link_node_fill_opacity:.5,node_stroke:function(a,b){return this.stroke_colors[b%5]},node_over_stroke:function(a,b){return"#FFF"},node_fill:function(a,b){return this.fill_colors[b%5]},arc_stroke:function(a,b){return"#FFF"},arc_fill:function(a,b){return this.fill_colors[b%5]},arc_over_fill:function(a,b){return"#00236C"},"class":"vz-skin-sunset"},Neon:{name:"Neon",labelColor:"#FFF",labelFill:"#005",grad0:"#000000",grad1:"#474747",background_transition:q,link_stroke:function(a,b){return"#D1F704"},link_fill:function(a,b){return"#D1F704"},link_fill_opacity:.1,link_node_fill_opacity:.1,node_stroke:function(a,b){return"#D1F704"},node_over_stroke:function(a,b){return"#FFF"},node_fill:function(a,b){return"#FFF"},arc_stroke:function(a,b){return"#FFF"},arc_fill:function(a,b){return"#D1F704"},arc_over_fill:function(a,b){return"#03F"},"class":"vz-skin-neon"},Ocean:{name:"Ocean",labelColor:"#FFF",labelFill:"#000",background_transition:function(b){a.selection().select(".vz-background").transition(1e3).style("fill-opacity",0)},link_stroke:function(a,b){return"#FFF"},link_fill:function(a,b){return"#FFF"},link_fill_opacity:.075,link_node_fill_opacity:.075,node_stroke:function(a,b){return"#FFF"},node_over_stroke:function(a,b){return"#FFF"},node_fill:function(a,b){return"#FFF"},arc_stroke:function(a,b){return"#FFF"},arc_fill:function(a,b){return"#FFF"},arc_over_fill:function(a,b){return"#000"},"class":"vz-skin-ocean"}};return b},vizuly.skin.LINEAREA_AXIIS="Axiis",vizuly.skin.LINEAREA_NEON="Neon",vizuly.skin.LINEAREA_FIRE="Fire",vizuly.skin.LINEAREA_OCEAN="Ocean",vizuly.skin.LINEAREA_SUNSET="Sunset",vizuly.skin.LINEAREA_BUSINESS="Business",vizuly.theme.linearea=function(a){function b(){h()}function c(){if(i&&null!=i){var b=a.width(),c=a.height(),d=a.selection();d.attr("class",i["class"]),d.selectAll(".vz-background").attr("fill",function(){return"url(#"+j.attr("id")+")"}),d.selectAll(".vz-plot-background").style("opacity",0),d.selectAll(".vz-area").style("fill",function(a,b){return i.area_fill(a,b)}).style("fill-opacity",function(b,c){return i.area_fill_opacity.apply(a,[b,c])}),d.selectAll(".vz-line").style("stroke-width",function(){return c/450}).style("stroke",function(a,b){return i.line_stroke(a,b)}).style("opacity",function(b,c){return i.line_opacity.apply(a,[b,c])}),d.selectAll(".vz-data-point").style("opacity",0),d.selectAll(".vz-bottom-axis").style("font-weight",i.xAxis_font_weight).style("fill",i.labelColor).style("font-weight",300).style("fill-opacity",.8).style("font-size",Math.max(8,Math.round(b/65))+"px").style("opacity",function(){return b>399?1:0}),d.selectAll(".vz-left-axis line").style("stroke",i.yAxis_line_stroke).style("stroke-width",1).style("opacity",i.yAxis_line_opacity),d.selectAll(".vz-left-axis text").style("font-size",Math.max(8,Math.round(b/65))+"px").style("fill",i.labelColor).style("fill-opacity",.8),i.background_transition()}}function d(b,c,d){a.selection().selectAll(".vz-line").transition().style("stroke",function(a,b){return i.line_over_stroke(a,b)}).style("opacity",function(a,b){return b==d?1:0}),a.selection().selectAll(".vz-area").transition().style("opacity",function(a,b){return b==d?1:.35}),a.selection().selectAll(".vz-point-tip").remove();var e=d3.select(this);e.append("circle").attr("class","vz-point-tip").attr("r",4).style("fill","#000").style("stroke","#FFF").style("stroke-width",2).style("pointer-events","none")}function e(b,c,d){a.selection().selectAll(".vz-line").transition().style("stroke",function(a,b){return i.line_stroke(a,b)}).style("opacity",function(b,c){return i.line_opacity.apply(a,[b,c])}),a.selection().selectAll(".vz-area").transition().style("opacity",1),a.selection().selectAll(".vz-point-tip").remove()}function f(){a.yAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).width).ticks(5).orient("left"),a.xAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).width)}function g(){a.selection().selectAll(".vz-background").style("fill-opacity",1),j.selectAll("stop").transition().duration(500).attr("stop-color",function(a,b){return 0==b?i.grad0:i.grad1})}function h(){l.forEach(function(b){a.on(b.on,b.callback)})}var a=a,i=null,j=vizuly.svg.gradient.blend(a,"#000","#000"),k=d3.scale.category20(),l=[{on:"measure.theme",callback:f},{on:"update.theme",callback:c},{on:"mouseover.theme",callback:d},{on:"mouseout.theme",callback:e}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),l.forEach(function(b){a.on(b.on,null)}),a=null)},b.viz=function(b){return arguments.length?(a=b,void h()):a},b.skin=function(a){if(0==arguments.length)return i;if(!m[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return i=m[a],b},b.skins=function(){return m};var m={Fire:{name:"Fire",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:g,line_stroke:function(a,b){return this.stroke_colors[b%5]},line_over_stroke:function(a,b){return d3.rgb(this.stroke_colors[b%5]).brighter()},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.6:.8},area_fill:function(b,c){return"url(#"+vizuly.svg.gradient.fade(a,this.fill_colors[c%5],"vertical",[.35,1]).attr("id")+")"},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.7:.9},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,data_point_stroke:function(a,b){return this.stroke_colors[b%5]},data_point_fill:function(a,b){return"#FFF"},"class":"vz-skin-default"},Sunset:{name:"Sunset",labelColor:"#D8F433",color:"#02C3FF",stroke_colors:["#CD57A4","#B236A3","#FA6F7F","#FA7C3B","#E96B6B"],fill_colors:["#89208F","#C02690","#D93256","#DB3D0C","#B2180E"],grad1:"#390E1D",grad0:"#92203A",background_transition:g,line_stroke:function(a,b){return this.stroke_colors[b%5]},line_over_stroke:function(a,b){return d3.rgb(this.stroke_colors[b%5]).brighter()},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.4:.9},area_fill:function(b,c){return"url(#"+vizuly.svg.gradient.fade(a,this.fill_colors[c%5],"vertical",[.5,1]).attr("id")+")"},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.8:1},xAxis_font_weight:200,yAxis_line_stroke:"#D8F433",yAxis_line_opacity:.25,"class":"vz-skin-default"},Ocean:{name:"Ocean",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#001432","#001432","#001432","#001432","#001432"],grad1:"#390E1D",grad0:"#92203A",background_transition:function(b){a.selection().select(".vz-background").transition(1e3).style("fill-opacity",0)},line_stroke:function(a,b){return"#000"},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return.3},area_fill:function(a,b){return"#FFF"},area_fill_opacity:function(b,c){return(c+1)/a.data().length*(this.layout()==vizuly.viz.layout.OVERLAP?.8:.85)},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,"class":"vz-skin-ocean"},Neon:{name:"Neon",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:g,line_stroke:function(a,b){return"#FFF"},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.4:.6},area_fill:function(a,b){return"#D1F704"},area_fill_opacity:function(a,b){return(b+1)/this.data().length*(this.layout()==vizuly.viz.layout.OVERLAP?.6:.8)},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,"class":"vz-skin-default"},Business:{name:"Business",labelColor:"#000",color:"#000",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#CCC",grad1:"#EEE",background_transition:g,line_stroke:function(a,b){return d3.rgb(k(b)).darker()},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return.7},area_fill:function(a,b){return k(b)},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.8:.9},xAxis_font_weight:200,yAxis_line_stroke:"#000",yAxis_line_opacity:.25,"class":"vz-skin-default"}};return b},vizuly.theme.radial_progress=function(a){function b(){f()}function c(){if(j){var b=a.selection();b.attr("class",j["class"]),b.selectAll(".vz-radial_progress-arc").style("fill",function(a,b){return j.arc_fill(a,b)}).style("fill-opacity",function(a,b){return j.arc_fill_opacity(a,b)}).style("stroke",function(a,b){return j.arc_stroke(a,b)}),b.selectAll(".vz-radial_progress-track").style("fill",j.track_fill),b.selectAll(".vz-radial_progress-label").style("fill",j.label_color).style("stroke-opacity",0).style("font-size",.25*a.radius())}}function d(b,c,d){a.selection().selectAll(".vz-radial_progress-label").style("font-weight",700)}function e(b,c,d){a.selection().selectAll(".vz-radial_progress-label").style("font-weight",null)}function f(){i.forEach(function(b){a.on(b.on,b.callback)})}function g(){i.forEach(function(b){a.on(b.on,null)})}var h={Alert:{name:"Alert",label_color:"#CCC",track_fill:"#DDDDDD",progress_colors:["#4CAF50","#FFC107","#FF9800","#E64A19","#FFEB3B"],arc_fill:function(a,b){return this.progress_colors[b%5]},arc_fill_opacity:function(a,b){return 1},arc_stroke:function(a,b){return this.progress_colors[b%5]},"class":"vz-skin-alert"},Fire:{name:"Fire",label_color:"#F13870",track_fill:"#DDDDDD",progress_colors:["#C50A0A","#F57C00","#FF9800","#FFEB3B","#C2185B"],arc_fill:function(a,b){return this.progress_colors[b%5]},arc_fill_opacity:function(a,b){return 1},arc_stroke:function(a,b){return this.progress_colors[b%5]},"class":"vz-skin-fire"},White:{name:"White",label_color:"#FFF",track_fill:null,arc_fill:function(a,b){return"#FFF"},arc_fill_opacity:function(a,b){return.85/Math.exp(.75*b)},arc_stroke:function(a,b){return"#FFF"},"class":"vz-skin-white"},Neon:{name:"Neon",label_color:"#D1F704",track_fill:"#000",progress_colors:["#D1F704","#A8C102","#788A04","#566204","#383F04"],arc_fill:function(a,b){return this.progress_colors[b%5]},arc_fill_opacity:function(a,b){return 1},arc_stroke:function(a,b){return this.progress_colors[b%5]},"class":"vz-skin-neon"},Business:{name:"Business",label_color:"#EEE",track_fill:"#DDDDDD",progress_colors:d3.scale.category20(),arc_fill:function(a,b){return this.progress_colors(b)},arc_fill_opacity:function(a,b){return 1},arc_stroke:function(a,b){return this.progress_colors(b)},"class":"vz-skin-business"}},a=a,i=[{on:"update.theme",callback:c},{on:"mouseover.theme",callback:d},{on:"mouseout.theme",callback:e}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),g(),a=null)},b.viz=function(b){return arguments.length?(a&&g(),a=b,void f()):a},b.skin=function(a){if(0==arguments.length)return j;if(!h[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return j=h[a],b},b.skins=function(){return h};var j=h[vizuly.skin.RADIAL_PROGRESS_BUSINESS];return b},vizuly.skin.RADIAL_PROGRESS_FIRE="Fire",vizuly.skin.RADIAL_PROGRESS_MATERIAL="Material",vizuly.skin.RADIAL_PROGRESS_NEON="Neon",vizuly.skin.RADIAL_PROGRESS_OCEAN="Ocean",vizuly.skin.RADIAL_PROGRESS_ALERT="Alert",vizuly.skin.RADIAL_PROGRESS_BUSINESS="Business",vizuly.theme.range_input=function(a){function b(){f()}function c(){if(j){var b=a.selection();b.attr("class",j["class"]),b.selectAll(".vz-range_input-handle").style("cursor","pointer"),b.selectAll(".vz-range_input-centerpane").style("cursor","pointer"),b.selectAll(".vz-range_input-track").style("opacity",0)}}function d(a,b,c){}function e(a,b,c){}function f(){i.forEach(function(b){a.on(b.on,b.callback)})}function g(){i.forEach(function(b){a.on(b.on,null)})}var h={Default:{name:"Default",label_color:"#CCC"}},a=a,i=[{on:"update.theme",callback:c},{on:"mouseover.theme",callback:d},{on:"mouseout.theme",callback:e}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),g(),a=null)},b.viz=function(b){return arguments.length?(a&&g(),a=b,void f()):a},b.skin=function(a){if(0==arguments.length)return j;if(!h[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return j=h[a],b},b.skins=function(){return h};var j=h.Default;return b},vizuly.skin.SCATTER_NEON="Neon",vizuly.skin.SCATTER_FIRE="Fire",vizuly.skin.SCATTER_OCEAN="Ocean",vizuly.skin.SCATTER_SUNSET="Sunset",vizuly.skin.SCATTER_BUSINESS="Business",vizuly.theme.scatter=function(a){function b(){h()}function c(){if(i){var b=a.width(),c=Math.min(a.width(),a.height())/80,d=a.selection();d.attr("class",i["class"]),d.selectAll(".vz-background").attr("fill",function(){return"url(#"+j.attr("id")+")"}),d.selectAll(".vz-plot-background").style("opacity",0),d.selectAll(".vz-scatter-bottom-axis").style("font-weight",i.xAxis_font_weight).style("fill",i.labelColor).style("font-size",Math.max(8,Math.round(b/85))+"px").style("opacity",function(){return b>399?1:0}),d.selectAll(".vz-scatter-left-axis line").style("stroke",i.yAxis_line_stroke).style("stroke-width",1).style("opacity",i.yAxis_line_opacity),d.selectAll(".vz-scatter-left-axis text").style("font-size",Math.max(8,Math.round(b/85))+"px").style("fill",i.labelColor).style("fill-opacity",.6),d.selectAll(".vz-scatter-node").style("stroke-width",c).style("stroke-opacity",0).style("stroke",function(a,b){return i.node_stroke(a,b)}).style("fill",function(a,b){return i.node_fill(a,b)}).style("fill-opacity",function(a,b){return i.node_fill_opacity(a,b)}),i.background_transition()}}function d(){a.yAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).width).orient("left"),a.xAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).width)}function e(b,c,d){a.selection().selectAll(".vz-scatter-node").style("opacity",.15),d3.select(b).style("opacity",1).style("stroke-opacity",.5).style("fill-opacity",.9),l.mouseover(b,c,d)}function f(b,c,d){d3.select(b).style("opacity",1).style("fill-opacity",function(a,b){return i.node_fill_opacity(a,b)}),a.selection().selectAll(".vz-scatter-node").style("stroke-opacity",0).style("opacity",1)}function g(){a.selection().selectAll(".vz-background").style("fill-opacity",1),j.selectAll("stop").transition().duration(500).attr("stop-color",function(a,b){return 0==b?i.grad0:i.grad1})}function h(){k.forEach(function(b){a.on(b.on,b.callback)})}var a=a,i=null,j=vizuly.svg.gradient.blend(a,"#000","#000"),k=[{on:"measure.theme",callback:d},{on:"update.theme",callback:c},{on:"mouseover.theme",callback:e},{on:"mouseout.theme",callback:f}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),k.forEach(function(b){a.on(b.on,null)}),a=null)},b.viz=function(b){return arguments.length?(a=b,void h()):a},b.skin=function(a){if(0==arguments.length)return i;if(!m[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return i=m[a],b},b.skins=function(){return m};var l=d3.dispatch("mouseover","mouseout");b.on=function(a,c){return l.on(a,c),b};var m={Fire:{name:"Fire",labelColor:"#FFF",labelFill:"#C50A0A",stroke_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:g,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,node_stroke:function(a,b){return this.stroke_colors[b%5]},node_fill:function(a,b){return this.fill_colors[b%5]},node_fill_opacity:function(a,b){return.5},"class":"vz-skin-fire"},Sunset:{name:"Sunset",labelColor:"#FFF",labelFill:"#00236C",stroke_colors:["#CD57A4","#B236A3","#FA6F7F","#FA7C3B","#E96B6B"],fill_colors:["#89208F","#C02690","#D93256","#DB3D0C","#B2180E"],grad1:"#390E1D",grad0:"#7C1B31",background_transition:g,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,node_stroke:function(a,b){return this.stroke_colors[b%5]},node_fill:function(a,b){return this.fill_colors[b%5]},node_fill_opacity:function(a,b){return.7},"class":"vz-skin-sunset"},Neon:{name:"Neon",labelColor:"#FFF",labelFill:"#005",grad0:"#000000",grad1:"#474747",background_transition:g,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,node_stroke:function(a,b){return"#FFF"},node_fill:function(a,b){return"#D1F704"},node_fill_opacity:function(a,b){return.6},"class":"vz-skin-neon"},Ocean:{name:"Ocean",labelColor:"#FFF",labelFill:"#000",background_transition:function(b){a.selection().select(".vz-background").transition(1e3).style("fill-opacity",0)},yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,node_stroke:function(a,b){return"#00F"},node_fill:function(a,b){return"#FFF"},node_fill_opacity:function(a,b){return.4},"class":"vz-skin-ocean"}};return b},vizuly.theme.weighted_tree=function(a){function b(){h()}function c(){if(o){var b=a.selection();j=Math.max(8,Math.round(a.width()/75)),b.selectAll(".vz-weighted_tree-node circle").style("stroke",function(a){return o.node_stroke(a)}).style("stroke-opacity",function(a){return o.node_stroke_opacity(a)}).style("fill",function(a){return o.node_fill(a)}).style("fill-opacity",function(a){return o.node_fill_opacity(a)}),b.selectAll(".vz-weighted_tree-node text").style("font-size",o.font_size()).style("fill",o.label_color).style("fill-opacity",function(a){return o.text_fill_opacity(a)}),b.selectAll(".vz-weighted_tree-link").style("stroke",function(a){return o.link_stroke(a)}).style("stroke-opacity",function(a){return o.link_stroke_opacity(a)})}}function d(){if(o&&a.data()){var b=a.data();a.children()(b).forEach(function(a,b){a.vz_link_color=o.link_colors[b%o.link_colors.length],e(a)}),l=!1,m=!1}}function e(b){a.children()(b)&&a.children()(b).forEach(function(a){a.vz_link_color=b.vz_link_color,e(a)})}function f(b,c,d){var e=a.selection();e.selectAll(".vz-id-"+c.vz_tree_id+" circle").style("fill-opacity",.9),e.selectAll("path.vz-id-"+c.vz_tree_id).style("stroke-opacity",.8),e.selectAll(".vz-id-"+c.vz_tree_id+" text").transition().style("font-size",1.25*j).style("font-weight","bold")}function g(b,c,d){var e=a.selection();e.selectAll(".vz-weighted_tree-node circle").style("fill",function(a){return o.node_fill(a)}).style("fill-opacity",function(a){return o.node_fill_opacity(a)}),e.selectAll(".vz-weighted_tree-node text").transition().style("font-size",j).style("font-weight","normal"),e.selectAll(".vz-weighted_tree-link").style("stroke-opacity",function(a){return o.link_stroke_opacity(a)})}function h(){n.forEach(function(b){a.on(b.on,b.callback)})}function i(){n.forEach(function(b){a.on(b.on,null)})}var j,k={Axiis:{name:"Axiis",label_color:"#333",link_colors:["#bd0026","#fecc5c","#fd8d3c","#f03b20","#B02D5D","#9B2C67","#982B9A","#692DA7","#5725AA","#4823AF","#d7b5d8","#dd1c77","#5A0C7A","#5A0C7A"],link_stroke:function(a,b){return a.target.vz_link_color},link_stroke_opacity:function(b,c){return a.value()(b.target)<=0?.15:.35},node_fill:function(a,b){return a.vz_link_color},node_fill_opacity:function(b,c){return a.value()(b)<=0?.15:.4},node_stroke:function(a,b){return a.vz_link_color},node_stroke_opacity:function(a,b){return.6},text_fill_opacity:function(b,c){return a.value()(b)<=0?.35:1},font_size:function(){return j+"px"}},None:{name:"None",label_color:null,link_colors:["#bd0026","#fecc5c","#fd8d3c","#f03b20","#B02D5D","#9B2C67","#982B9A","#692DA7","#5725AA","#4823AF","#d7b5d8","#dd1c77","#5A0C7A","#5A0C7A"],link_stroke:function(a,b){return null},link_stroke_opacity:function(a,b){return null},node_fill:function(a,b){return null},node_fill_opacity:function(a,b){return null},node_stroke:function(a,b){return null},node_stroke_opacity:function(a,b){return null},text_fill_opacity:function(a,b){return null},font_size:function(){return null}}},a=a,l=!0,m=!0,n=[{on:"update.theme",callback:c},{on:"data_prepped.theme",callback:d},{on:"mouseover.theme",callback:f},{on:"mouseout.theme",callback:g}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(o=k.None,c(),i(),a=null)},b.viz=function(b){return arguments.length?(a&&i(),a=b,void h()):a},b.skin=function(a){if(0==arguments.length)return o;if(!k[a])throw new Error("theme/weightedtree.js - skin "+a+" does not exist.");return l=!0,o=k[a],b},b.skins=function(){return k};var o=k[vizuly.skin.WEIGHTED_TREE_AXIIS];return b},vizuly.skin.WEIGHTED_TREE_AXIIS="Axiis",vizuly.ui.range_input=function(a){function b(){l=h.selection.append("svg").attr("id",h.id).style("overflow","auto").attr("class","vizuly"),m=vizuly.core.util.getDefs(j),n=l.append("rect").attr("class","vz-background"),o=l.append("g").attr("class","vz-range_input"),p=o.append("g").attr("class","vz-plot"),v=p.append("rect").attr("class","vz-range_input-track"),s=p.append("rect").attr("class","vz-range_input-sidepane"),t=p.append("rect").attr("class","vz-range_input-centerpane"),u=p.append("rect").attr("class","vz-range_input-sidepane"),q=p.append("rect").attr("class","vz-range_input-handle"),r=p.append("rect").attr("class","vz-range_input-handle"),q.call(z),r.call(A),t.call(B),h.dispatch.initialize()}function c(){j.validate(),k=vizuly.core.util.size(h.margin,h.width,h.height),y.range([0,k.width]),y.domain(h.domain),w=Math.round(k.height*h.trackHeight),x=h.handleWidth,h.dispatch.measure()}function d(){c(),l.attr("width",h.width).attr("height",h.height),n.attr("width",h.width).attr("height",h.height),p.style("width",k.width).style("height",k.height).attr("transform","translate("+k.left+","+k.top+")"),v.attr("width",k.width).attr("height",w).attr("y",(k.height-w)/2),q.attr("width",x).attr("height",k.height).attr("x",y(h.data[0])),r.attr("width",x).attr("height",k.height).attr("x",y(h.data[1])),s.attr("width",y(h.data[0])).attr("height",k.height),u.attr("width",k.width-y(h.data[1])).attr("height",k.height).attr("x",y(h.data[1])),t.attr("width",y(h.data[1])-y(h.data[0])).attr("height",k.height).attr("x",y(h.data[0])),h.dispatch.update()}function e(){var a=y.invert(d3.event.x);a=Math.min(h.data[1]-y.invert(x),Math.max(a,h.domain[0])),h.data[0]=a,h.dispatch.change(j),d()}function f(){var a=y.invert(d3.event.x);a=Math.max(h.data[0]+y.invert(x),Math.min(a,h.domain[1])),h.data[1]=a,h.dispatch.change(j),d()}function g(){var a=y.invert(d3.event.dx)+h.data[0];a=Math.min(h.data[1],Math.max(a,h.domain[0]));var b=h.data[1]-h.data[0];a=Math.min(h.domain[1]-b,a),h.data[0]=a,h.data[1]=a+b,h.dispatch.change(j),d()}var h={},i={data:[.25,.75],margin:{top:"10%",bottom:"7%",left:"8%",right:"7%"},domain:[0,1],duration:500,width:300,height:300,handleWidth:3,trackHeight:.1},j=vizuly.core.component(a,h,i,["change","handleOver","handleOut"]);j.type="viz.ui.range_input";var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=d3.scale.linear(),z=d3.behavior.drag(),A=d3.behavior.drag(),B=d3.behavior.drag();return z.on("drag",e),A.on("drag",f),B.on("drag",g),b(),j.update=function(){return d(),j},j};var data=stm_data;var id_i=0;function createIDs(o){o.id=id_i;id_i=id_i+1;if(o.children){for(i in o.children){o.id=id_i;id_i=id_i+1;createIDs(o.children[i])}}}createIDs(data);
</script>

<script>
		function computeClustProportions(o) {
    if (o.this_root) {
        for (var i in o.children) {
            if (!o.children[i].proportion)
                computeClustProportions(o.children[i])
        }
    } else if (!o.proportion) {
        var clust_proportion = 0;
        for (var i in o.children) {
            clust_proportion += computeClustProportions(o.children[i])
        }
        o.proportion = clust_proportion;
        return clust_proportion
    } else if (o.proportion) {
        return Number(o.proportion)
    }
}

function combineMetrics(prob, frex, lift, score) {
    combined = [...frex.slice().split(', '), ...lift.slice().split(', '), ...prob.slice().split(', '), ...score.slice().split(', ')]
    result = {};
    for (var i = 0; i < combined.length; ++i) {
        if (!result[combined[i]])
            result[combined[i]] = 0;
        weight = 7 - i % 7 + 1
        result[combined[i]] += weight
    }
    return (Object.keys(result).sort(function(a, b) {
        return result[b] - result[a]
    }).join(', '))
}
var labels = {
    'topics': {},
    'clusters': {}
}
clustCount = 1;

function initLabels(o) {
    if (o.children) {
        if (!o.this_root) {
            labels.clusters[o.id.toString()] = {
                id: o.id,
                topics: o.topic_no,
                clustNum: clustCount,
                name: o.name.toString()
            };
            clustCount = clustCount + 1
        }
        for (var i in o.children) {
            initLabels(o.children[i])
        }
    } else {
        labels.topics[o.topic_no] = {
            name: o.name.toString(),
            combined: combineMetrics(o.prob[0], o.frex[0], o.lift[0], o.score[0]),
            prevalence: parseFloat(o.proportion[0])
        }
    }
}

function findWords(o) {
    if (o.children) {
        if (!o.this_root) {
            topic_prevalences = [];
            for (var i = 0; i < o.topic_no.length; i++) {
                topic_prevalences.push(labels.topics[o.topic_no[i]].prevalence)
            }
            sorted_prevs = topic_prevalences.slice().sort().reverse()
            duplicates = !0
            while (duplicates) {
                duplicates = !1
                for (var i = 0; i < sorted_prevs.length; i++) {
                    if (sorted_prevs[i] == sorted_prevs[i + 1]) {
                        to_add = 1
                        if (i > 0 && sorted_prevs[i] == Math.round(100 * sorted_prevs[i - 1]) / 100) {
                            to_add = (10000 * (sorted_prevs[i - 1] - sorted_prevs[i])) + 1
                        }
                        to_add *= 0.0001
                        topic_prevalences[topic_prevalences.indexOf(sorted_prevs[i])] = topic_prevalences[topic_prevalences.indexOf(sorted_prevs[i])] + to_add
                        sorted_prevs[i] = sorted_prevs[i] + to_add
                    }
                }
            }
            num_words_per_topic = Math.ceil(8 / o.topic_no.length)
            cluster_words = new Array(num_words_per_topic * o.topic_no.length)
            for (j = 0; j < num_words_per_topic; j++) {
                for (i = 0; i < o.topic_no.length; i++) {
                    ith_top_topic = topic_prevalences.indexOf(sorted_prevs[i])
                    cluster_words[i + j * o.topic_no.length] = labels.topics[o.topic_no[ith_top_topic]].combined.split(', ').slice(j, j + 1).toString()
                }
            }
            labels.clusters[o.id.toString()].words = cluster_words.slice(0, 8).join(', ')
        }
        for (var i in o.children) {
            findWords(o.children[i])
        }
    }
}
initLabels(data);
findWords(data);

function trimLabel(label) {
    return label
    // return (String(label).length >= 18) ? String(label).substr(0, 16).trim() + "…" : label
}
var width_left;
vizuly.viz.weighted_tree = function(parent) {
    var scope = {};
    var properties = {
        "data": null,
        "margin": {
            "top": "20%",
            "bottom": "25%",
            "left": "13%",
            "right": "30%"
        },
        "width": 1280,
        "height": 900,
        "key": null,
        "tree": d3.layout.tree(),
        "children": null,
        "duration": 500,
        "value": null,
        "label": labelFunction,
        "branchPadding": -1,
        "fixedSpan": -1
    };
    var labelFunction = function(d, i) {
        return d
    };
    var viz = vizuly.core.component(parent, scope, properties, ['node_refresh', 'data_prepped']);
    viz.type = "viz.chart.weighted_tree";
    var dataIsDirty = !0;
    var refreshNeeded = !1;
    viz.on("data_change.internal", onDataChanged);
    var size;
    var tree = scope.tree;
    var nodeScale = d3.scale.sqrt();
    var root, nodes;
    var depthSpan;
    var maxDepth;
    var maxValues = {};
    var minValues = {};
    var diagonal = d3.svg.diagonal().projection(function(d) {
        return [d.y, d.x]
    });
    var nodeRadius = function(node) {
        if (node.depth == 0) return 95;
        return (Math.max(scope.value(node) * 100, 10))
    }
    var svg, g, background, plot, plotBackground, linkPlot, nodePlot, defs;
    initialize();

    function initialize() {
        scope.selection.attr("class", "vz-weighted_tree-viz");
        svg = scope.selection.append("svg").attr("id", scope.id).style("overflow", "auto").attr("class", "vizuly vz-weighted_tree-viz");
        defs = vizuly.core.util.getDefs(viz);
        background = svg.append("g").attr("class", "vz-background");
        g = svg.append("g").attr("class", "vz-weighted_tree-viz");
        plot = g.append("g").attr("class", "vz-weighted_tree-plot");
        plotBackground = plot.append("rect").attr("class", "vz-plot-background");
        linkPlot = plot.append("g").attr("class", "vz-weighted_tree-link-plot");
        nodePlot = plot.append("g").attr("class", "vz-weighted_tree-node-plot");
        scope.dispatch.initialize()
    }

    function measure() {
        viz.validate();
        size = vizuly.core.util.size(scope.margin, scope.width, scope.height * 0.6);
        tree.size([size.height, size.width]);
        if (dataIsDirty == !0 || refreshNeeded) {
            refreshData();
            if (dataIsDirty == !0) {
                function collapse(d) {
                    if (d.children) {
                        d._children = d.children;
                        d._children.forEach(collapse);
                        d.children = null
                    }
                }
                root.children.forEach(collapse)
            }
            dataIsDirty = !1;
            refreshNeeded = !1
        }
        var scale;
        if (scope.branchPadding == -1) {
            scale = Math.min(size.height, size.width) / scope.children(scope.data).length
        } else {
            scale = Math.min(size.height, size.width) * scope.branchPadding
        }
        nodeScale.range([1.5, scale / 2]);
        tree.nodeSize([scale, 0]);
        depthSpan = (scope.fixedSpan > 0) ? scope.fixedSpan : size.width / (maxDepth + 1);
        for (var i = 1; i < maxDepth + 1; i++) {
            var vals = nodes.filter(function(d) {
                return d.depth == i
            });
            maxValues[i] = d3.max(vals, function(d) {
                return scope.value(d)
            });
            minValues[i] = d3.min(vals, function(d) {
                return scope.value(d)
            })
        }
        scope.dispatch.measure()
    }

    function refreshData() {
        function setChildren(node) {
            if (scope.children(node)) {
                if (!node._children) {
                    node.children = scope.children(node);
                    node.children.forEach(function(d) {
                        d.x0 = node.x;
                        d.y0 = node.y;
                        setChildren(d)
                    })
                }
            }
        }
        maxDepth = 0;
        setChildren(scope.data);
        root = scope.data;
        root.x0 = 0;
        root.y0 = 0;
        nodes = tree.nodes(root).reverse();
        nodes.forEach(function(node) {
            if (node.depth == 0) return;
            if (!maxValues[node.depth]) {
                maxValues[node.depth] = -Infinity;
                minValues[node.depth] = Infinity
            }
            maxDepth = Math.max(maxDepth, node.depth)
        })
        scope.dispatch.data_prepped()
    }

    function onDataChanged() {
        dataIsDirty = !0
    }

    function update(refresh) {
        measure();
        svg.attr("width", scope.width).attr("height", scope.height);
        background.attr("width", scope.width).attr("height", scope.height);
        plot.style("width", size.width).style("height", size.height).attr("transform", "translate(" + size.left * 1.5 + "," + (size.top + size.height / 1.8) + ")");
        width_left = size.left * 1.5
        updateNode(root)
    }

    function updateNode(rootNode) {
        var nodes = tree(root).reverse();
        var links = tree.links(nodes);
        positionNodes(rootNode, nodes);
        var node = nodePlot.selectAll(".vz-weighted_tree-node").data(nodes, function(d) {
            return d.vz_tree_id || (d.vz_tree_id = scope.key(d))
        });
        var nodeEnter = node.enter().append("g").attr("class", function(d) {
            return "vz-weighted_tree-node vz-id-" + d.vz_tree_id
        }).attr("transform", function(d) {
            var y = d.y0 ? d.y0 : rootNode.y0;
            var x = d.x0 ? d.x0 : rootNode.x0;
            return "translate(" + y + "," + x + ")"
        }).on("click", function(d, i) {
            scope.dispatch.click(this, d, i)
        }).on("dblclick", function(d, i) {
            scope.dispatch.dblclick(this, d, i)
        }).on("mouseover", function(d, i) {
            scope.dispatch.mouseover(this, d, i)
        }).on("mouseout", function(d, i) {
            scope.dispatch.mouseout(this, d, i)
        });
        nodeEnter.append("text").attr("x", function(d) {
            return -15
        }).attr("dy", function(d) {
            if (!scope.value(d))
                return (-1)
            if (scope.value(d) <= 0.1)
                return (-15);
            x = scope.value(d)
            t = -496.6646657 * Math.pow(x, 4) + 915.0415264 * Math.pow(x, 3) - 560.372921 * Math.pow(x, 2) + 29.462983 * x - 13.84740307
            return (t)
        }).attr("text-anchor", function(d) {
            return d.children || "start"
        }).attr("id", function(d) {
            return "node_" + scope.key(d) + '_text'
        }).style("pointer-events", "none").style("fill", "#222").text(function(d) {
            if (scope.value(d)) {
                if (d.topic_no.length == 1) {
                    return (scope.label(d))
                }
                if (labels.clusters[d.id].name.split(', ').length >= 6)
                    return (trimLabel(labels.clusters[d.id].words))
                return (trimLabel(labels.clusters[d.id].name))
            }
            return ('')
        });
        nodeEnter.append("circle").attr("class", "vz-weighted_tree-node-circle").attr("r", 10).style("cursor", "pointer");
        nodeEnter.append("text").attr("x", function(d) {
            if (!scope.value(d)) return -50;
            return scope.value(d) < 0.1 ? -5 : -11
        }).attr("dy", 6).style("fill", "white").style("stroke", "white").style("pointer-events", "none").text(function(d) {
            text = Math.round(scope.value(d) * 100).toString();
            return (scope.value(d) ? text : '')
        });
        var link = linkPlot.selectAll(".vz-weighted_tree-link").data(links, function(d) {
            return d.target.vz_tree_id
        });
        link.enter().append("path").attr("class", function(d) {
            return "vz-weighted_tree-link vz-id-" + d.target.vz_tree_id
        }).attr("d", function(d) {
            var y = d.target.y0 ? d.target.y0 : rootNode.y0;
            var x = d.target.x0 ? d.target.x0 : rootNode.x0;
            var o = {
                x: x,
                y: y
            };
            return diagonal({
                source: o,
                target: o
            })
        }).on("mouseover", function(d, i) {
            scope.dispatch.mouseover(this, d, i)
        }).on("mouseout", function(d, i) {
            scope.dispatch.mouseout(this, d, i)
        }).style("stroke-linecap", "round");
        scope.dispatch.update();
        var nodeUpdate = node.transition();
        endUpdate(nodeUpdate, function() {
            scope.dispatch.node_refresh()
        });
        nodeUpdate.duration(scope.duration).attr("transform", function(d) {
            return "translate(" + d.y + "," + d.x + ")"
        });
        nodeUpdate.select("circle").attr("r", function(d) {
            return nodeRadius(d)
        });
        var nodeExit = node.exit().transition().duration(scope.duration).attr("transform", function(d) {
            d.x0 = null;
            d.y0 = null;
            return "translate(" + rootNode.y + "," + rootNode.x + ")"
        }).remove();
        nodeExit.select("circle").attr("r", 1e-6);
        nodeExit.select("text");
        link.transition().duration(scope.duration).attr("d", diagonal).style("stroke-width", function(d) {
            return nodeRadius(d.target) * 2
        });
        link.exit().transition().duration(scope.duration).attr("d", function(d) {
            var o = {
                x: rootNode.x,
                y: rootNode.y
            };
            return diagonal({
                source: o,
                target: o
            })
        }).remove();
        nodes.forEach(function(d) {
            d.x0 = d.x;
            d.y0 = d.y
        })
    }

    function positionNodes(rootNode, nodes) {
        var minY = d3.min(nodes, function(d) {
            return d.x
        });
        var maxY = d3.max(nodes, function(d) {
            return d.x
        });
        var maxX = d3.max(nodes, function(d) {
            return d.depth
        }) * depthSpan;
        var h = Math.max(scope.height, maxY - minY + size.top);
        var w = Math.max(window.innerWidth);
        if (size.height / 2 + maxY > h) h = size.height / 2 + maxY + tree.nodeSize()[0];
        svg.transition().duration(scope.duration).style("height", h + "px").style("width", w + "px");
        var offsetY = Math.max(0, -minY - size.height / 2) + tree.nodeSize()[0] / 2;
        nodes.forEach(function(d) {
            d.y = d.depth * depthSpan;
            d.x = d.x + offsetY - tree.nodeSize()[0]
        });
        scrollTop(rootNode.x)
    }

    function endUpdate(transition, callback) {
        var n = 0;
        transition.each(function() {
            ++n
        }).each("end", function() {
            if (!--n) callback.apply(this, arguments)
        })
    }

    function scrollTop(top) {
        scope.selection.transition().duration(scope.duration).tween("scrolltween", scrollTopTween(top));

        function scrollTopTween(scrollTop) {
            return function() {
                var i = d3.interpolateNumber(this.scrollTop, scrollTop);
                return function(t) {
                    this.scrollTop = i(t)
                }
            }
        }
    }

    function toggleNode(d) {
        if (d.children) {
            d._children = d.children;
            d.children = null
        } else {
            d.children = d._children;
            d._children = null
        }
        updateNode(d)
    }
    viz.update = function(refresh) {
        if (refresh == !0) refreshNeeded = !0;
        update();
        return viz
    };
    viz.toggleNode = function(d) {
        toggleNode(d)
    };
    return viz
};
vizuly.theme.weighted_tree = function(viz) {
    var skins = {
        "Axiis": {
            name: "Axiis",
            label_color: "#222",
            node_colors: ["#09f"],
            link_colors: ["#09f"],
            link_stroke: function(d, i) {
                return d.target.vz_link_color
            },
            link_stroke_opacity: function(d, i) {
                if (viz.value()(d.target) <= 0) return .15;
                return 0.4
            },
            node_fill: function(d, i) {
                return d.vz_node_color
            },
            node_fill_opacity: function(d, i) {
                if (viz.value()(d) <= 0) return .15;
                return 1
            },
            node_stroke: function(d, i) {
                return d.vz_node_color
            },
            node_stroke_opacity: function(d, i) {
                return 1
            },
            text_fill_opacity: function(d, i) {
                if (viz.value()(d) <= 0) return .35;
                return 1
            },
            font_size: function() {
                return fontSize + "px"
            }
        }
    }
    var viz = viz;
    var fontSize;
    var skinDirty = !0;
    var dataDirty = !0;
    var callbacks = [{
        on: "update.theme",
        callback: applyTheme
    }, {
        on: "data_prepped.theme",
        callback: prepColorData
    }, {
        on: "mouseover.theme",
        callback: onMouseOver
    }, {
        on: "mouseout.theme",
        callback: onMouseOut
    }];
    theme();

    function theme() {
        applyCallbacks()
    }

    function applyTheme() {
        if (!skin) return;
        var selection = viz.selection();
        min_dim = (viz.width() < viz.height() ? viz.width : viz.height())
        fontSize = Math.max(8, Math.round(viz.width() / 90));
        selection.selectAll(".vz-weighted_tree-node circle").style("stroke", function(d) {
            return skin.node_stroke(d)
        }).style("stroke-opacity", function(d) {
            return skin.node_stroke_opacity(d)
        }).style("fill", function(d) {
            return skin.node_fill(d)
        }).style("fill-opacity", function(d) {
            return skin.node_fill_opacity(d)
        });
        selection.selectAll(".vz-weighted_tree-node text").style("font-size", skin.font_size()).style("fill-opacity", function(d) {
            return skin.text_fill_opacity(d)
        });
        selection.selectAll(".vz-weighted_tree-link").style("stroke", function(d) {
            return skin.link_stroke(d)
        }).style("stroke-opacity", function(d) {
            return skin.link_stroke_opacity(d)
        })
    }

    function prepColorData() {
        if (!skin || !viz.data()) return;
        var nodes = viz.data();
        viz.children()(nodes).forEach(function(node, i) {
            node.vz_link_color = skin.link_colors[i % skin.link_colors.length];
            node.vz_node_color = skin.node_colors[i % skin.node_colors.length];
            setLinkColor(node)
        });
        skinDirty = !1;
        dataDirty = !1
    }

    function setLinkColor(node) {
        if (!viz.children()(node)) return;
        viz.children()(node).forEach(function(child) {
            child.vz_link_color = node.vz_link_color;
            child.vz_node_color = node.vz_node_color;
            setLinkColor(child)
        })
    }

    function onMouseOver(e, d, i) {
        var selection = viz.selection();
        selection.selectAll(".vz-id-" + d.vz_tree_id + " circle").style("fill-opacity", .9);
        selection.selectAll("path.vz-id-" + d.vz_tree_id).style("stroke-opacity", .8);
        selection.selectAll(".vz-id-" + d.vz_tree_id + " text").transition().style("font-size", fontSize * 1.25).style("font-weight", "bold")
    }

    function onMouseOut(e, d, i) {
        var selection = viz.selection();
        selection.selectAll(".vz-weighted_tree-node circle").style("fill", function(d) {
            return skin.node_fill(d)
        }).style("fill-opacity", function(d) {
            return skin.node_fill_opacity(d)
        })
        selection.selectAll(".vz-weighted_tree-node text").transition().style("font-size", fontSize).style("font-weight", "normal");
        selection.selectAll(".vz-weighted_tree-link").style("stroke-opacity", function(d) {
            return skin.link_stroke_opacity(d)
        })
    }

    function applyCallbacks() {
        callbacks.forEach(function(d) {
            viz.on(d.on, d.callback)
        })
    }

    function removeCallbacks() {
        callbacks.forEach(function(d) {
            viz.on(d.on, null)
        })
    }
    theme.apply = function(skin) {
        if (arguments.length > 0)
            theme.skin(skin);
        applyTheme();
        return theme
    }
    theme.release = function() {
        if (!viz) return;
        skin = skins.None;
        applyTheme();
        removeCallbacks();
        viz = null
    };
    theme.viz = function(_) {
        if (!arguments.length) {
            return viz
        }
        if (viz) {
            removeCallbacks()
        }
        viz = _;
        applyCallbacks()
    }
    theme.skin = function(_) {
        if (arguments.length == 0) {
            return skin
        }
        if (skins[_]) {
            skinDirty = !0;
            skin = skins[_]
        } else throw new Error("theme/weightedtree.js - skin " + _ + " does not exist.");
        return theme
    }
    theme.skins = function() {
        return skins
    }
    var skin = skins[vizuly.skin.WEIGHTED_TREE_AXIIS];
    return theme
}
vizuly.skin.WEIGHTED_TREE_AXIIS = "Axiis";
var viz_container;
var viz;
var theme;
toolTipIdStack = [];

function openTree(o) {
    if (o.children) {
        for (i in o.children) {
            viz.toggleNode(o.children[i])
            openTree(o.children[i])
        }
    }
}

function initialize_graph(data) {
    computeClustProportions(data);
    viz = vizuly.viz.weighted_tree(document.getElementById("viz_container"));
    theme = vizuly.theme.weighted_tree(viz).skin(vizuly.skin.WEIGHTED_TREE_AXIIS);
    console.log(data);
    viz.data(data).width(600).height(600).children(function(d) {
        return d.children
    }).key(function(d) {
        return d.id
    }).value(function(d) {
        return Number(d.proportion)
    }).fixedSpan(-1).branchPadding(-1).label(function(d) {
        return trimLabel(d.name.toString())
    }).on("measure", onMeasure).on("click", click);
    changeSize();
    openTree(data)
    console.log(data.id)
    // createDataTipQuestion(20, 20, data.name.toString(), data.summary.toString(), data.id);
    // toolTipIdStack.push(-1)
    // d3.select("body").append("div").attr('id', 'labeler').style("position", "fixed").style("top", "0%").style("left", "0%").style("opacity", 0).html('<div class="sidebar" style="display: flex; position:fixed;flex-direction: column; justify-content:center;width: ' + (width_left * 1.1) + 'px; overflow-y:scroll;top:0;bottom:0;direction:rtl;height:' + window.innerHeight + ';background-opacity:0.5">' + '<div>' + '<div class="header1 sidebar-item" style="font-size:20px;font-weight:bold; padding: 15px 15px 10px 15px">' + data.name[0] + '</div>' + '<div class="header2 sidebar-item" style="font-size: 0.66em;padding:0px 4px 5px 4px">' + data.summary[0] + ' (after removing stop words).</div>' + '<button class="sidebar-item" type="button" onclick="download(\'labels\')" style="display: block; margin: 0 auto 0 auto; font-size: 15px">download labels</button>' + '</div>' + '<div style="padding:5px"></div>' + '<div class="sidebar-rule"></div>' + '<div style="padding:10px"></div>' + '<div>' + '<div class="header2 sidebar-item" style="font-size:18px;font-weight:bold;color:#444">STM Tree Overview</div>' + '<div class="thoughts sidebar-item" style="padding: 4px 4px 15px 4px; text-align:center;font-size:15px">This is a structural topic model visualization, with hierarchical topic clusters. The leaf nodes are topics, the branching nodes are topic clusters, and the numbers are the total prevalence of the topic or cluster as a percentage all the documents. The large partially obscured node represents the entire body of texts. The clusters signify that the connected topics are more likely to co-occur in a single response (each response contains a mixture of multiple topics). Click on any node for more information.</div>' + '</div>' + '</div>').transition().style("opacity", 1)
   // creates left hand sidebar
}

function checkAllDone(str) {
    done = !0
    if (str === 'topics') {
        for (i = 1; i <= labels.topics.length; i++) {
            if ((labels.topics[i].name.toString().split(",").length - 1) === 6)
                done = !1
        }
    } else {
        for (i in labels.clusters) {
            if ((labels.clusters[i].name.toString().split(",").length - 1) === 6)
                done = !1
        }
    }
    if (done)
        console.log('done with ' + str)
}

function createDataTipTopic(x, y, prop, name, prob, frex, lift, score, thoughts, proportions, id, d) {
    var datatip_topic = '<div class="tree-tooltip" style="display: flex; flex-direction: column; width: 20em; min-height:16.1em;max-height:20em;background-opacity:0.5"><div style="display:flex; justify-content: space-between"> <div onclick="removeToolTip(<id>)" style="align-self:flex-start;cursor:pointer;color:#888;float:left;display:inline;" alt="close">&#10005;</div><div class="header1" style="font-weight:bold;margin-right:20px"> <name> </div><div></div></div><div class="scrollbox" style="overflow:auto;"><div class="header-rule" style="margin-top:0px; margin-bottom:10px"></div>'
    
    if (d.summary !== undefined) {
        datatip_topic += '<div class="header2" style="font-weight:bold;">Topic Summary</div><div class="header2"> <div style="margin: 0px 45px 0px 45px; text-align: left;"> ' + d.summary + ' </div></div><div class="header-rule" style="margin-top:0px; margin-bottom:10px"></div>'
    }
    
    datatip_topic += '<div class="header2" style="font-weight:bold;">Representative Words<sup style="color:#999" title="The most representative words calculated by various metrics (probability, frex, lift, score), then weighted and combined">?</sup></div><div class="header2"> <div style="margin: 0px 45px 0px 45px"> <words> </div></div><div class="header-rule"></div><div class="header2" style="font-weight:bold;">Representative Documents<sup style="color:#999" title="The documents containing the highest percentage of this topic (documents can contain multiple topics)">?</sup></div><div class="thought-container"> <div class="thoughts"> <doc1> </div><div class="overlay-text"> <proportion1> % representative of this topic </div></div>';

    for (i = 2; i < thoughts.length; i++) {
        datatip_topic += '<div class="header-rule-short"></div>' + '<div class="thought-container"><div class="thoughts"><doc' + i.toString() + '></div><div class="overlay-text"><proportion' + i.toString() + '>% representative of this topic</div></div>'
    }
    datatip_topic += '</div></div>';
    var html = datatip_topic.replace("<prop>", (prop * 100).toString().substr(0, 2) + '%');
    html = html.replace("<name>", name);
    html = html.replace("<id>", id);
    html = html.replace("<words>", labels.topics[d.topic_no].combined);
    for (var i = 0; i < thoughts.length; i++) {
        html = html.replace("<doc" + (i + 1).toString() + ">", thoughts[i]);
        html = html.replace("<proportion" + (i + 1).toString() + ">", (proportions[i] * 100).toFixed(1))
    }
    toolTipIdStack.push(id);

    d3.select("body").append("div").attr("class", "vz-weighted_tree-tip" + id.toString()).attr('id', 'labeler').style("position", "fixed").style("top", "15%").style("left", "40%").style("opacity", 0).html(html).transition().style("opacity", 1);
   //  var nameInput = document.getElementById('topicLabeler');
   //  document.querySelector('form.pure-form').addEventListener('submit', function(e) {
   //      e.preventDefault();
   //      labels.topics[d.topic_no].name = nameInput.value;
   //      d.name = labels.topics[d.topic_no].name;
   //      d3.select('#node_' + id + '_text').text(nameInput.value)
   //      checkAllDone('topics')
   //  })
}

function setY(y) {
    if (y > window.innerHeight - 350) {
        return (window.innerHeight - 350 + 'px')
    }
    return (y + 'px')
}

function createDataTipClust(x, y, name, words, topics, id, d) { 
    var datatip_cluster = '<div class="tree-tooltip" style="display: flex; flex-direction: column; width: 20em; min-height:16.1em;max-height:20em;background-opacity:0.5"><div style="display:flex; justify-content: space-between"> <div onclick="removeToolTip(<id>)" style="align-self:flex-start;cursor:pointer;color:#888;float:left;display:inline;" alt="close">&#10005;</div><div class="header1" style="font-weight:bold;margin-right:20px"> <name> </div><div></div></div><div class="scrollbox" style="overflow:auto;"><div class="header-rule" style="margin-top:0px; margin-bottom:10px"></div>'    

    if (d.summary != null) {
        datatip_cluster += '<div class="header2" style="font-weight:bold;">Topic Cluster Summary</div><div class="header2"> <div style="margin: 0px 45px 0px 45px; text-align: left;"> ' + d.summary + ' </div></div><div class="header-rule" style="margin-top:0px; margin-bottom:10px"></div>'
    }
    //<div class="header-rule" style="margin-top:0px; margin-bottom:0px"></div>
    datatip_cluster += '<div class="header2" style="font-weight:bold;margin-top:10px">Cluster of Topics</div>' + '<div class="header2" id="clust_topics" style="margin-top:0px;margin-bottom:0px;list-style-type:none;display:flex;flex-direction:column;max-height:150px;overflow:auto;min-height:50px">'

    for (i in labels.clusters[id].topics)
        datatip_cluster += '<p class="header2 clust_topic" style="font-size:14px;margin:1px 0px 1px 0px">' + labels.topics[labels.clusters[id].topics[i]].name + '</p>';
    datatip_cluster = datatip_cluster.substr(0, datatip_cluster.length - 2);
    datatip_cluster += '</div></div>' + '<div class="header-rule" style="margin-top:0px"></div>' + '<div class="header2" style="font-weight:bold;">Representative Words<sup style="color:#999" title="The most representative words calculated by various metrics (probability, frex, lift, score), then weighted and combined">?</sup></div>' + '<div class="header2">' + '<div style="margin: 0px 45px 0px 45px"><words></div>' + '</div>' + '<div class="header-rule"></div>'
    if (d.thoughts != null && d.thoughts.length > 0) {
        // datatip_cluster += '<div class="header2" style="font-weight:bold;">Representative Documents<sup style="color:#999" title="The documents containing the highest percentage of this topic (documents can contain multiple topics)">?</sup></div><div class="thought-container"> <div class="thoughts"> <doc1> </div><div class="overlay-text"> <proportion1> % representative of this topic </div></div>'

        datatip_cluster += '<div class="header2" style="font-weight:bold;">Representative Documents<sup style="color:#999" title="The documents containing the highest percentage of this topic (documents can contain multiple topics)">?</sup></div><div style="max-height:17.5em;min-height:1.5em"><div class="thought-container"><div class="thoughts"><doc1></div><div class="overlay-text"><proportion1>% representative of this topic cluster, with <variance1>% total variance between topics</div></div>';
        for (i = 2; i <= d.thoughts.length; i++) {
            datatip_cluster += '<div class="header-rule-short"></div>' + '<div class="thought-container"><div class="thoughts"><doc' + i.toString() + '></div><div class="overlay-text"><proportion' + i.toString() + '>% representative of this topic cluster, with <variance' + i.toString() + '>% total variance between topics</div></div>'
        }
        for (var i = 0; i < d.thoughts.length; i++) {
            datatip_cluster = datatip_cluster.replace("<doc" + (i + 1).toString() + ">", d.thoughts[i]);
            datatip_cluster = datatip_cluster.replace("<proportion" + (i + 1).toString() + ">", (d.thought_proportions[i] * 100).toFixed(1));
            datatip_cluster = datatip_cluster.replace("<variance" + (i + 1).toString() + ">", (d.thought_variances[i] * 100).toFixed(1))
        }
    } else {
        datatip_cluster += '<div class="header2" style="font-weight:bold;">No Representative Documents Found<sup style="color:#999" title="The documents containing the highest percentage of this topic (documents can contain multiple topics)">?</sup></div>'
    }
    datatip_cluster += '</div>' + '</div>';
    datatip_cluster = datatip_cluster.replace("<name>", name);
    datatip_cluster = datatip_cluster.replace("<id>", id);
    datatip_cluster = datatip_cluster.replace("<words>", words);
    toolTipIdStack.push(id);
    d3.select("body").append("div").attr("class", "vz-weighted_tree-tip" + id.toString()).attr('id', 'labeler').style("position", "fixed").style("top", "15%").style("left", "40%").style("opacity", 0).html(datatip_cluster).transition().style("opacity", 1);

    function isOverflown(element) {
        return element.scrollHeight > element.clientHeight || element.scrollWidth > element.clientWidth
    }
    $.fn.overflown = function() {
        var e = this[0];
        return e.scrollHeight > e.clientHeight || e.scrollWidth > e.clientWidth
    }
    if ($("#clust_topics").overflown()) {
        $('.clust_topic').css('margin-left', '15px')
    }
   //  var nameInput = document.getElementById('topicLabeler');
   //  document.querySelector('form.pure-form').addEventListener('submit', function(e) {
   //      e.preventDefault();
   //      labels.clusters[id].name = nameInput.value;
   //      d3.select('#node_' + id + '_text').text(nameInput.value)
   //      d.name = labels.clusters[id].name
   //      checkAllDone('clusters')
   //  })
}

<!-- #raw -->
function createDataTipQuestion(x, y, question, summary, id) {
    var datatip_cluster = '<div class="tree-tooltip" style="display: flex; flex-direction: column; width: 20em; min-height:16.1em;max-height:20em;background-opacity:0.5"><div style="display:flex; justify-content: space-between"> <div onclick="removeToolTip(<id>)" style="align-self:flex-start;cursor:pointer;color:#888;float:left;display:inline;" alt="close">&#10005;</div><div class="header1" style="font-weight:bold;margin-right:20px"> <name> </div><div></div></div><div class="scrollbox" style="overflow:auto;"><div class="header-rule" style="margin-top:0px; margin-bottom:10px"></div>'    

    var datatip_question = '<div class="tree-tooltip" style="overflow:hidden; display: flex; flex-direction: column; width: 20em; min-height:16.1em;max-height:20em;background-opacity:0.5">' 
      + '<div style="display:flex; justify-content: space-between">' 
         + '<div onclick="removeToolTip(<id>)" style="align-self:flex-start;cursor:pointer;color:#888;float:left;display:inline;" alt="close">&#10005;</div>' 
         + '<div class="header1" style="font-weight:bold;margin-right:20px"><question></div>' 
         + '<div></div>'
      + '</div>' 
      + '<div class="header-rule" style="margin-top:0px; margin-bottom:10px"/><div class="header2" style="font-weight:bold;"></div>'
    //   + '<div class="scrollbox" style="max-height:20px;overflow:auto;display: flex; flex-direction: column;">'
        + '<div class="header2"><summary>' 
            + '<div style="margin: 0px 45px 0px 45px"><words></div>' 
        + '</div>' 
        + '<div class="header-rule" style="margin-bottom:20px;"></div>' 
        + '<div class="header2" style="font-weight:bold;"></div><p style="max-height:50px; overflow:auto; font-size:18px; margin-top:10px">This is a structural topic model visualization, with hierarchical topic clusters. The leaf nodes are topics, the branching nodes are topic clusters, and the numbers are the total prevalence of the topic or cluster as a percentage all the documents. The large partially obscured node represents the entire body of texts. The clusters signify that the connected topics are more likely to co-occur in a single response (each response contains a mixture of multiple topics). Click on any node for more information.</p>' 
    //   + '</div>'
   //  var datatip_question = '<div class="tree-tooltip" style="display:flex;flex-direction:column;align-items:center;width: 20em; background-opacity:0.5">'
   //       + '<div class="header1"><question></div>' 
   //       + '<div class="header-rule-short"></div>' 
   //       + '<div class="header2" style="font-size: 0.66em;"><summary> (after removing stop words).</div>' 
   //       + '<div class="header-rule-short"></div>' 
   //       + '<button type="button" onclick="download(\'labels\')">download labels</button>' 
   //       + '</div>'
   summary = summary.substr(0, summary.length - 1)
   var datatip_question = datatip_question.replace("<id>", id);
   var datatip_question = datatip_question.replace("<question>", question);
   var datatip_question = datatip_question.replace("<summary>", summary)
   d3.select("body").append("div")
      .attr("class", "vz-weighted_tree-tip" + id
      .toString())
      .attr('id', 'labeler')
      .style("position", "fixed")
      .style("top", "15%")
      .style("left", "40%")
      .style("opacity", 0)
      .html(datatip_question)
      .transition()
      .style("opacity", 1);
}

function onMeasure() {
    viz.tree().nodeSize([60, 0])
}

function click(el, d, i) {
    onClick(el, d, i)
}
$(document).keyup(function(e) {
    if (e.keyCode == 27) {
        removeToolTip(toolTipIdStack[toolTipIdStack.length - 1])
    }
});

function removeToolTip(id) {
    val = ".vz-weighted_tree-tip" + id.toString()
    toolTipIdStack.pop()
    d3.selectAll(val).transition().style("opacity", 0).remove();
    tooltipPresent = !1
}

function onClick(e, d, i) {
    var rect = e.getBoundingClientRect();
    if (d == data) {
        // createDataTipQuestion(rect.left, (rect.top + viz.height() * .05), data.name.toString(), d.summary.toString(), d.id);
        tooltipPresent = !0;
        return
    }
    if (d.target) d = d.target;
    if (d.topic_no.length === 1) {
        createDataTipTopic(rect.left, (rect.top + viz.height() * .05), d.proportion.toString(), d.name.toString(), 'Highest Probability: ' + d.prob.toString(), 'FREX: ' + d.frex.toString(), 'Lift: ' + d.lift.toString(), 'Score: ' + d.score.toString(), d.thoughts, d.thought_proportions, d.id, d)
    }
    if (d.topic_no.length !== 1 && d !== data) {
        createDataTipClust(rect.left, (rect.top + viz.height() * .05), labels.clusters[d.id].name, labels.clusters[d.id].words, d.topic_no, d.id, d)
    }
    tooltipPresent = !0
}

function download(content, fileName) {
    if (content === 'clusters')
        content = labels.clusters
    if (content === 'topics')
        content = labels.topics
    if (content === 'labels')
        content = labels
    if (content === 'data')
        content = data
    var a = document.createElement("a");
    var file = new Blob([JSON.stringify(content)], {
        type: 'application/json'
    });
    a.href = URL.createObjectURL(file);
    a.download = fileName;
    a.click()
}

function onDblClick(g, d, i) {
    viz.toggleNode(d)
}

function changeSkin(val) {
    if (val == "None") {
        theme.release()
    } else {
        theme.viz(viz);
        theme.skin(val)
    }
    viz().update()
}

function changeSize(width, height) {
    width = window.innerWidth
    height = window.innerHeight
    d3.selectAll("#viz_container").transition().duration(0).style('width').style('height');
    viz.width(width).height(height).update()
}
</script>

<div id="viz_container"></div>

<script>
   //Once the document is ready we set javascript and page settings
   var screenWidth;
   var screenHeight;

   $(document).ready(function () {
      d3.selectAll("footer > div.container").style("display", "contents")

      var rect;
      if (self==top) {
        rect = document.body.getBoundingClientRect();
      }
      else {
        rect =  parent.document.body.getBoundingClientRect();
      }

      // Set the size of our container element.
      viz_container = d3.selectAll("#viz_container")
               .style("width", ($("main").width()).toString() + "px")
               .style("height", $("main").height().toString() + "px")
               .style("display", "inline-block")
      if(!stm_data.this_root)
        console.log('data loading error');
      initialize_graph(stm_data);
      
      $("main").css("width", "100%")
   });

   window.addEventListener("resize", changeSize());
</script>

<p class="after-tree">
</p>
<!-- #endraw -->

This is a structural topic model visualization, with hierarchical topic clusters. Topic branches that are more likely to co-occur together in a single response are clustered together since each response often contains a mixture of multiple topics. We inferred the topic for each of the parent nodes using the leaf node topics and working towards the base of the tree from right to left. Category descriptions become more general towards the base of the tree and more specific towards the leaves. Prevalence is also reflected in the visual weight of the branches helping show the relative proportion of topics. It is important to keep in mind too that the proportions of topics may be different for different groups, but that the overall types are topics may be more stable across sampled populations. The leaf node topic prevalences are directly estimated, while the parent topic prevalences are a summation of their children/leaf topics. Because of rounding, the total topic prevalance may add up to slightly more than 100%.
