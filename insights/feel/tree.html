

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Topic Tree &#8212; The Arts Engagement Project at The University of Michigan</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/mystnb.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <link rel="canonical" href="https://artsengagementproject.site/insights/feel/tree.html" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Summary of Topics" href="topics.html" />
    <link rel="prev" title="Emotional Impact" href="../feel.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">


<!-- Opengraph tags -->
<meta property="og:url"         content="https://artsengagementproject.site/insights/feel/tree.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Topic Tree" />
<meta property="og:description" content="Topic Tree  This is a structural topic model visualization, with hierarchical topic clusters. This tree map shows the distribution of topics among the responses" />
<meta property="og:image"       content="https://artsengagementproject.site/_static/logo.png" />

<meta name="twitter:card" content="summary">


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">The Arts Engagement Project at The University of Michigan</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
  <li class="">
    <a href="../../intro.html">The Arts Engagement Project</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Project Overview</p>
</li>
  <li class="">
    <a href="../../overview/background.html">Background</a>
  </li>
  <li class="">
    <a href="../../overview/studydesign.html">Study Design</a>
  </li>
  <li class="">
    <a href="../../overview/presentations.html">Presentations</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Insights</p>
</li>
  <li class="">
    <a href="../insights.html">Insights Overview</a>
  </li>
  <li class="">
    <a href="../barriers.html">Barriers to Involvement</a>
  </li>
  <li class="">
    <a href="../othergrowth.html">Personal Growth</a>
  </li>
  <li class="active">
    <a href="../feel.html">Emotional Impact</a>
  <ul class="nav sidenav_l2">
    <li class="active">
      <a href="">Topic Tree</a>
    </li>
    <li class="">
      <a href="topics.html">Summary of Topics</a>
    </li>
    <li class="">
      <a href="dimensions.html">Principal Components Results Summary</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../development.html">Developmental Role</a>
  </li>
  <li class="">
    <a href="../role.html">College Experience</a>
  </li>
  <li class="">
    <a href="../experience.html">Transformative Experiences</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Analyses</p>
</li>
  <li class="">
    <a href="../../analysis/methods.html">Methods Overview</a>
  </li>
  <li class="">
    <a href="../../analysis/topics.html">Topic Modeling and Interpretation</a>
  </li>
  <li class="">
    <a href="../../analysis/stm-workflow.html">Structural Topic Model Workflow</a>
  </li>
  <li class="">
    <a href="../../analysis/dictionaries.html">Dictionaries of Language Patterns</a>
  </li>
  <li class="">
    <a href="../../analysis/pca.html">Principal Components Analysis</a>
  </li>
  <li class="">
    <a href="../../analysis/pca-demographics.html">Analysis of Principal Components x Demographic Factors</a>
  </li>
  <li class="">
    <a href="../../analysis/pca-density-plots.html">Plots for Principal Components x Demographic Factors</a>
  </li>
</ul>
</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse" data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation" title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i class="fas fa-download"></i></button>

            
            <div class="dropdown-buttons">
                <!-- ipynb file if we had a myst markdown file -->
                
                <!-- Download raw file -->
                <a class="dropdown-buttons" href="../../_sources/insights/feel/tree.md"><button type="button" class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip" data-placement="left">.md</button></a>
                <!-- Download PDF via print -->
                <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF" onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
            </div>
            
        </div>

        <!-- Source interaction buttons -->
        

        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->
        
    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
    </ul>
</nav>


    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="topic-tree">
<h1>Topic Tree<a class="headerlink" href="#topic-tree" title="Permalink to this headline">¶</a></h1>
<p>This is a structural topic model visualization, with hierarchical topic clusters. This tree map shows the distribution of topics among the responses to the question, <em><strong>“What did you see as the barriers preventing you from being involved in the arts at the University of Michigan (if you experienced any)?”</strong></em>. The topics identified are located at the ends of the braches, also called leaf nodes, and the branching nodes are topic clusters, or parent nodes. Topic branches that are more likely to co-occur together in a single response are clustered together since each response often contains a mixture of multiple topics. We inferred the topic for each of the parent nodes using the leaf node topics and working towards the base of th tree from right to left. Category descriptions become more general towards the base of the tree and more specific towards the leaves. The numbers are the total prevalence (0-100%) of the topic or cluster as a percentage all the documents/responses. Prevalence is also reflected in the visual weight of the branches helping show the relative proportion of topics. It is important to keep in mind too that the proportions of topics may be different for different groups, but that the overall types are topics may be more stable across sampled populations. The leaf node topic prevalences are directly estimated, while the parent topic prevalences are a summation of their children/leaf topics. Because of rounding, the total topic prevalance may add up to slightly more than 100%.</p>
<p><strong>Click on any node on the tree below for more information.</strong> Each node contains descriptions of each topic, key words for interpreting the topic, and representative responses that were used to interpret each topic’s identity and description.</p>
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Roboto|Raleway:600,400,200' rel='stylesheet' type='text/css'>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
<script>
   var stm_data = {"children":[{"name":["Enlightened"],"children":[{"name":["Connected and Empowered"],"summary":["Creating a sense of connectedness, and empowering students to feel accomplished and creative are among the major findings of this subnode of Connected and Empowered.  This topic also includes response categories where students recognize the value of arts engagement as an important stress reliever and as a way to better express themselves in a variety of settings."],"children":[{"name":["Connected to Others through the Arts"],"summary":["In contrast to later nodes on this topic strand, Connected to Others through the Arts contains student responses that connect them less to specific peers or support systems, and more to the overall arts community on campus.  They appreciate and want to support the effort other students make in art-creation, and they are thoughtful about how they are connected to that community through their art-making or attendance.  This connection to their involved peers also inspires them to be more arts-focused, or discourages them through their own perceived deficiencies in the arts or creative endeavors."],"size":[1800],"topic_no":[8],"thoughts":["Good, giving me more perspective and see what other people spend a ton of time doing . They work hard and its cool to see the final project, whether it's a performance or peice of art.","Inspired, but almost discouraged also. I felt that I could never produce art as well or successfully as what I was seeing. Or discouraged that I did not even have the inspiration to produce something, even if I wanted to.","It made me feel super connected to the world around me. Upon arriving, I gave myself the goal to attend at least one artistic show each week, and with all of the opportunities at Michigan, I was able to fulfill my goal. Attending these shows allowed me tobecome informed about all different kinds of art forms and it allowed me to understand my own art form further.","Great! I loved getting to meet people, help put on a great show, and express myself","It gives me a reason to keep practicing; I see what I can become, and I work towards that.","It was nice to see how much work people put into the pieces and to learn how to appreciate it.","Sometimes annoyed of the other people in my classes.  Mostly, really.  But I think it also gave me chances to work through things in my head with results, especially working in Detroit with 4th graders--I think that was one of the better ways to use art ivolvement.  Otherwise it felt often egotistical/self-absorbed.","Fine. It's not a big deal. I like it when people listen to my music and like it but I do it for me first. Also photography is really fun to me and it's nice when people appreciate my photos but again, I do it because it's fun not for praise.","It makes me feel connected with the rest of the student body. I may not be able to personally work in some of the events that I attend, but I am able to understand and appreciate the amount of work and dedication that was put in by those who I observe. I m able to get an impression of the rest of my fellow students and of their work. \r\nMy involvement also allows me to explore parts of my interests which are not purely academically related. Despite the fact that I am truly dedicated to what I do, the arts llow me to at least be interested in areas that I do not personally participate in.","like i was giving people the opportunity to express themselves","Being involved in the arts has been great for me in that it helped me to form many meaningful friendships and put me in contact with an incredibly diverse range of people from all backgrounds and experiences.","I felt like I was doing something.  Like I was using my freetime productively.  I also felt like a small part of the arts scene on campus, even when I wasn't working on a show, but just seeing one I felt connected because I knew a lot of the people involvd."],"thought_proportions":[0.2933,0.2852,0.2616,0.2564,0.2563,0.2319,0.2265,0.2212,0.2159,0.2141,0.208,0.2009],"prob":["peopl, fun, express, work, person, see, inspir"],"frex":["peopl, form, person, fun, inspir, work, mani"],"lift":["keep, form, visit, awesom, meet, put, mani"],"score":["keep, express, peopl, fun, inspir, work, person"],"proportion":["0.07"]},{"name":["Empowered"],"summary":["The feeling of being Empowered through engagement in the arts was expressed by more than one-fifth of student respondents. Their arts participation in college made them feel Successful, Accomplished and Creative.  Choosing to engage in the arts also helped students to be Less Stressed and More Expressive.  Student respondents recognized the power of the arts in these areas, and knew they could use that power to improve themselves, their college experience, their future, and the world."],"children":[{"name":["Less Stressed and More Expressive"],"summary":["Less Stressed and More Expressive, especially as a counterpoint to students’ academic pursuits, was a recurring theme.   As part of the Empowered subnode, these responses could also be viewed as students’ recognizing the value of the arts, as well as their agency in pursuing them,  as a means to stress relief.  Through arts engagement, students describe feeling less stressed, refreshed, better able to engage with new ideas and thinking, and able to apply more creativity and expressiveness to other areas of their lives."],"size":[1800],"topic_no":[6],"thoughts":["It was a release and allowed for me to relieve my stress and tension from being in engineering classes only doing math and science problems all day. The arts allowed for me to add personality to my work.","I think my involvement has given me a much more open view of myself and the world, and has allowed me to express myself in different ways.","It made me feel more aware of cultural differences and different ways I can express myself. It allowed me to have more of an open mind.","It allowed me to release stress from my classes and be more creative than most classes allow.","It helped me have an outlet where i was less stressed.","stress relief\r\nmore creative\r\nopen","Understand the way people think differently.","It was a good way of relieving stress.","I'm a civil engineer and often spend the majority of my time thinking analytically and technically.  My exposure to the arts has been a nice contrast, opening up my mind to a whole new way of thinking/expression.","It helped me cope with things in an external way.","it was releasing and refreshing.  After using the critical thinking side of my brain all day, it would be so good to come home and just play, and release it all.","It was cleansing in a way. A good way to relieve stress and feel better about myself and the world.","Sometimes harried and stressed, often satisfied with the accomplishments.","It was a stress reliever because I did not have to worry about science classes at the time","It was great way to relax and relieve stress.","It is a good stress reliever, and helps you have a creative outlet","Artistic and creative. Especially made me feel expressive in a different way than my everyday life. It was a wonderful way to escape and have fun escaping.","great-an excellent stress reliever.","stress relief","Great--it's a stress relief!","less stressed","Less stressed","It has encouraged me to think more outside the box and imbrace the presence of  affirmative action.","Sometimes annoyed of the other people in my classes.  Mostly, really.  But I think it also gave me chances to work through things in my head with results, especially working in Detroit with 4th graders--I think that was one of the better ways to use art ivolvement.  Otherwise it felt often egotistical/self-absorbed.","Open my mind to an array of performances from difference cultures and such.","It helped me to relax, escape from the stresses of school and enjoy myself.","Thoughtful, expressive, creative, broader way of thinking","Less stressed, excited","Creative and open minded","I like being involved in things outside of my main area of study. It makes me feel like a more well-rounded person. Also, taking ballet classes is a good stress relief for me.","Refreshed or sometimes inspired","The arts make me think of a different view on life. I don't get a chance to experience them a lot, but when I do its very refreshing","good, less stressed","They were a release, and I wish I could have had for art involvement in college. I felt more myself after doing something artistic. It was a way to relieve stress.","Great, I got to express myself in a different way","Well being a nursing major i am only introduced to certain subjects but by takin and art class i experienced the way other people think and epseically how different majors at U of M are and how differently teachers teach.","Happy, free of stress","It was like a stress release","Being involved in the arts always leave me feeling refreshed and much more open-minded.  It is a nice way to think outside of the classroom and develop opinions.","not very involved, brief outsider's view","I feel like it helps me express creativity in ways which engineering limits me.","It was a good outlet to relieve stress and explore myself.","Creative, Happy, Stress reliever","I feel refreshed because now I look at things with an open-mind and interpret it in a different way than I used to.","It was fun and interesting and got my mind thinking","i am involved in arts for fun and it is helpful for reducing stress","It opened up the way I think about global culture.  It is rewarding to read a story or attend an arts performance and connect with it personally.","Much more rounded and able to think outside of the rigid science courses that I used to take.","It has been a good stress reliever and helps me feel like a more rounded individual.","I enjoyed participating in a dance class, I felt it helped me to be active and express myself in ways I cant in architecture."],"thought_proportions":[0.5223,0.4946,0.3796,0.3727,0.3641,0.3639,0.3598,0.3548,0.3522,0.3502,0.3262,0.326,0.3218,0.314,0.3057,0.2988,0.2986,0.2984,0.2984,0.2984,0.2984,0.2984,0.2984,0.2946,0.2889,0.2813,0.2799,0.2723,0.2717,0.267,0.2669,0.2649,0.261,0.2597,0.2582,0.255,0.2435,0.2409,0.2395,0.2336,0.2332,0.2299,0.2293,0.2265,0.2197,0.2177,0.2144,0.2119,0.208,0.2032],"prob":["way, stress, differ, help, think, sometim, free"],"frex":["stress, reliev, think, way, less, sometim, mind"],"lift":["less, reliev, escap, mind, relief, stress, releas"],"score":["relief, stress, way, reliev, think, differ, help"],"proportion":["0.07"]},{"name":["Successful"],"summary":["This area of topic responses focus on those feelings students associated with accomplishment, connectedness, pride, and creativity.  Excitement was also frequently expressed, as co-curricular engagement is often predicated on personal enthusiasm with the topic - in this case, with the arts."],"children":[{"name":["Proud"],"summary":["It is interesting that student respondents in this topic area express that they feel both pride and frustration stemming from their engagement in the arts.  This may be because these two emotions are linked around the challenges that arts engagement engenders (time, skill, deadlines, creative conflict) creating an opportunity to succeed (creating pride in their work) - or fail (creating frustration).  The arts, like anything else when done well, require hard work, and often require the contributions of others. \n\nFeeling Proud also lead to expressions of feeling special or unique, or to heightened personal connectedness which again highlights the student as an individual worthy of attention.  Connectedness in this node was more directly tied to peers and personal support systems rather than to the more abstract connectedness associated with the student body engaged with student in supporting the arts, society, or the global community as a whole (as in Connected to Others through the Arts)."],"size":[1800],"topic_no":[10],"thoughts":["Proud of what I created. It's rewarding to have physical evidence of your work.","It has made me feel just about every way I know how to feel. But mostly... frustrated!","Great! Better connected with the creative world.","Creative, excited, inspired, at peace, unique.","Kind of frustrated at times, at others fascinated, some times just plain bored","good knowing I have a special creativity and others had their own too; a great supportive system","I enjoyed interacting with my peers through singing, and performing on stage was exciting.","Connected, peaceful","Proud, special.","more connected to my peers","Connected to myself and others, sophisticated, modern","more connected to the rest of hte world","It made me feel more knowledgeable about the world and better able to relate to others","Too many feelings: angry, frustrated, depressed, happy, ecstatic, anxious, nervous, absolutely in love with the world, etc.","rewarded, but sometimes frustrated"],"thought_proportions":[0.2703,0.2612,0.2609,0.2499,0.2317,0.2175,0.2151,0.2123,0.2123,0.2123,0.2123,0.2123,0.2029,0.2016,0.2004],"prob":["connect, world, excit, better, just, proud, other"],"frex":["excit, connect, frustrat, better, world, proud, peac"],"lift":["excit, special, frustrat, interact, peac, satisfi, depress"],"score":["special, connect, excit, world, better, proud, other"],"proportion":["0.06"]},{"name":["Accomplished & Creative"],"summary":["As part of the Empowered stem, students responded with feelings of being both both Accomplished and Creative.  This pairing may be important in that responses in this area link students’ creative expression with accomplishment as a counter or complement to their academic achievements - indicating that it is their own judgement that renders the experience meaningful rather than other more typical college measures of success.  Students also reported that having a creative outlet improved or enhanced their academic experience, perhaps also adding to their sense of accomplishment through the arts."],"size":[1800],"topic_no":[12],"thoughts":["Empowered. Creative. Talented. Relieved. Calm. Powerful. Beautiful. Strong. Emotional. Loving.","It calms be down and lets me have a creative outlet/ uses another part of my brain I don't normally use.","I felt alive and accomplished","I felt included and empowered","It made me feel very lucky to be pursuing the arts.  It has shown me the large range of emotions that arts bring and how emotion is the power behind the arts.","I feel very accomplished after I finish a creative project. I feel more connected to a creative project than I do when I study for an objective exam or finish some memorization homework. I feel like it uses more critical thinking, and I feel more connecte to the project and I learn the material better.","Happy, creative, passionate, and meaningful.","I felt accomplished and free to express myself void of judgement.  I felt like it was more acceptable for me to sing like I want to (with effort and emotion) when I am playing guitar.","Great- the MMB is another family, and it has been a great way to make a large campus smaller.","Like I had a creative outlet to express my emotions","Fulfilled. Endowed with a sense of purpose. Exhausted and sweaty and angry and bitter and alive and beautiful.","Being involved in the arts during college has been an amazing outlet of creativity and passion for me; without it, my collegiate experience would have been reduced tremendously.","amazing, i enjoy the talent this campus has to offer","I enjoyed having an outlet that wasn't related to academics and I felt it was a good outlet for all of my other responsibilities and stress.","Included, open-minded, more aware of the talents, more connected to the performers who felt passionate","creative and accomplished","Creative, indepedent, and fulfilled.","brought out a more creative side","empowered, creative","It's made me feel unique and allowed for another sort of creative outlet.","So connected, engaged and creative.","I got more into the instrument I was playing  - drums.","Great! Fulfilled! Accomplished!!","Great, Alive, Creative, Energetic","Great. Creative. Alive.","Empowered, creative, and encouraged that I don't have to give up art even if I'm busy with academic stuff.","More involved in my creative side","I felt that I was more involved in campus rather than being stuck in a library 24/7.","Better, able to use my creative side, away from the rigidness of school","gave me an expressive and creative outlet","It's been a relief, a place to let everything out","It made me feel good that I got to see another side of the cultures I was studying.","Fulfilled, understood, calm, happy","I feel I was not involved enough. Mostly I have played grand piano on my own, for my own personal enjoyment. It felt great though! Calm, at peace.","Involved, drive, passionate, creative, expressive"],"thought_proportions":[0.4764,0.4644,0.3372,0.3267,0.3113,0.2996,0.2957,0.2943,0.2905,0.2726,0.2683,0.263,0.2623,0.2594,0.254,0.2512,0.2512,0.2512,0.2512,0.2488,0.2391,0.2285,0.2284,0.2284,0.2284,0.2246,0.2129,0.2127,0.2125,0.209,0.2088,0.2054,0.2041,0.2037,0.2018],"prob":["creativ, felt, accomplish, use, fulfil, campus, talent"],"frex":["accomplish, fulfil, creativ, empow, passion, outlet, use"],"lift":["accomplish, anoth, side, empow, larg, passion, fulfil"],"score":["side, creativ, accomplish, felt, fulfil, use, engag"],"proportion":["0.08"]}],"topic_no":[10,12],"thoughts":[],"thought_proportions":[],"thought_variances":[]}],"topic_no":[6,10,12],"thoughts":["It made me feel more connected to the campus, and meeting upperclassmen really helped.","It feels like I'm almost still creating myself in ways that don't just include biology and science classes and academics.","Good! I used to think I was not artistic but the more I try the better I become!","i felt like i was broadening my world view","sometimes frustrating, but mostly engaged and inspired to continue.","Makes me feel like I'm connecting with a different side of the world, in a good way."],"thought_proportions":[0.3449,0.375,0.3645,0.3881,0.4123,0.3972],"thought_variances":[0.0191,0.0207,0.0235,0.0282,0.0318,0.0433]}],"topic_no":[8,6,10,12],"thoughts":["It made me feel more connected to the campus, and meeting upperclassmen really helped.","Very connected and expressive.","I always feel better whenever I perform because music gives me a release that calms everything i do.","Stronger as a person and an artist.","excited to travel and see other art","just for fun","Connected and inspired","Peaceful, nostalgic, inspired.","sometimes frustrating, but mostly engaged and inspired to continue.","Connected to those around me in a \"bigger than myself\" kind of way.","Good. I know myself better and can express myself."],"thought_proportions":[0.4396,0.4121,0.4258,0.4053,0.4053,0.4053,0.4053,0.4053,0.5039,0.4587,0.4199],"thought_variances":[0.0313,0.0358,0.0366,0.0473,0.0473,0.0473,0.0473,0.0473,0.0654,0.0734,0.0923]},{"name":["Fulfilled"],"summary":["Student respondents in this topic strand of Fulfilled are speaking to how engaging in the arts made them better contributors in social settings, in groups to which they belonged, or to the greater good.  They expressed their feelings of being more personally well-rounded and, with the knowledge, aesthetic appreciation and deeper understanding they gained through arts engagement, better able to more competently engage in their craft, with peers and with audience members. They also said they felt as though they belonged in more contexts - arts groups, social settings, and the greater community.  In addition, they saw this belonging and contribution an important part of something greater than themselves - either the creative enterprise in which they were engaged, or the greater ideas, culture, or community to which the arts contribute."],"children":[{"name":["Meaningful"],"summary":["Having the arts in their lives at college had students reporting they felt more Well Rounded and Connected.  This created an environment in which their arts experiences felt Meaningful to them developing into someone who could belong and contribute to their arts organization, the arts community, the University, and to the world. The found themselves becoming more competent, confident, and expressive in their abilities, and engaging from a broader perspective and appreciation for the arts."],"children":[{"name":["Well Rounded"],"summary":["The phrase Well Rounded often occurs in students descriptions as an outcome of arts engagement, which is here reported as a result of having the new, high-quality and expansive arts opportunities afforded them at U-M.   Arts  engagement is also described as contributing to students’ “well-roundedness” because a large number of them receive little or no arts exposure through their majors or curriculum.  Students also reported that being engaged as an art-maker made them feel they were important in contributing to the arts-rich environment that had expanded them and, therefore, could expand others."],"size":[1800],"topic_no":[14],"thoughts":["It made me feel important, as though my voice mattered and I could create things that I could look back on with pride. The evolution of my fiction writing is one of the most important things that's happened to me while at college.","Well rounded, educated, important.","When I saw a play I felt as though I was taking advantage of the being at the University which offers an immense amount of opportunities to see \"high quality\" art.","It made me feel well rounded and like I was fully taking advantage of all the university has to offer.","Involved, powerful, cultural, knowledgeable, informed, strong, connected, important, as if i was changing people's lives, life changing.","Well rounded, experienced, more confident","After experiencing the arts, I feel like I have a more rounded education.","That I am taking advantage of all the diverse opportunities UofM offers, and that my experience was made a little richer.","It made me feel more educated and well rounded, it also made me feel that I had the ability to have more intellectual conversations with anyone.","It's extra work, so that's tough, but it makes me feel more well rounded and unique.","well rounded","well rounded","well rounded","Well my involvement in the yearbook was particularly significant to me, as it made me feel that I was contributing to documenting the history of the University."],"thought_proportions":[0.5662,0.4188,0.4026,0.3965,0.3169,0.2859,0.2703,0.2318,0.2275,0.224,0.2238,0.2238,0.2238,0.2209],"prob":["well, thing, round, import, univers, opportun, becom"],"frex":["round, well, educ, experienc, import, chang, back"],"lift":["chang, educ, round, experienc, that, live, well"],"score":["round, well, import, univers, opportun, educ, back"],"proportion":["0.04"]},{"name":["Connected"],"summary":["Belonging, contributing, broadening and appreciating, students indicated that the arts had helped them build connections to their peers, to knowledge, and to the greater creative community of appreciation and practice.   Having become more Connected meant becoming more talented, educated, and conversant leading to the confidence to fully join with their communities at U-M and beyond (Gained Perspective and Appreciation).  Feeling a sense of really belonging to an arts group built peer relationships and a sense of self-in-place at college.  Students also reported feeling connected to the important act of arts creation itself - of  “making something great”. Finally, as a student they were able to see themselves and their efforts as contributing something important to a greater good - artistically, socially and societally (Part of Something Bigger)."],"children":[{"name":["Part of Something Bigger"],"summary":["To feel like they belonged somewhere at college, or that they were a part of something larger than themselves, or that they were achieving something beyond what they thought they could individually - these are the emotional responses reported in the topic area Part of Something Bigger.  Students acknowledge the important connections to their peers and to the greater community that were achieved through the arts, and they were moved by their role in the creation of something bigger than themselves - either due to group effort or by being an active member of a community of artists and audience members.  They also reported feeling their contribution to this “greater” outcome was important and appreciated.  Finally, students spoke about their arts engagement giving them a sense of purpose (Meaningful)."],"size":[1800],"topic_no":[5],"thoughts":["I took one music lesson for credit but since i was in a major that didn't work with music it was more of an inconvenience to me and was not nearly as fun as when i play music on my own","I felt that I was a part of something and that I had something to contribute to a group and a vision and to making that vision a reality.","I felt as if I was part of a group and that we were representing something bigger than ourselves.","It made me feel like I was growing in a whole new capacity that I didn't know was possible.","I liked feel like I was a part of something","Good, like I'm a part of something bigger than myself and bigger than this university.","That I was a part of something bigger than myself.","Like part of a group. Accepted.","Whenever I did attend an arts-related event, I was always glad I had done so after the actual event (basically, I always felt like I took something out of the experience or was glad that I took the chance to experience something new)","Like I'm a part of something important.","It made me feel like I was a part of something bigger and that I could finally express myself.","(Mostly tired.) Challenged - Architecture + Design is a very challenging major.","it made me feel better about being here at school. like i was doing something for myself rather than homework all the time. and that i was being open-minded to possibly liking something other than what i was going to do as my career","Like I was part of a group of like-minded people.","helped shape future career goals in music promotion","It made me feel that I had a purpose and that I had something to contribute.  Deciding to establish myself as a music MAJOR had its ups and downs.  Making the choice to pursue the arts in a more serious way introduced me to all the elements that come withthe industry of the arts.  As a percussionist, I've had to deal with all the logistical challenges that are inherent to that instrument.  I guess I could say it's been incredibly eye opening, and it's been a lot of work, but it's been rewarding.  I am plaing at such a high level now that I am delving into very mystical categories of performance-- modern repertoire, etc.  But I also had to deal with some of the negative aspects of the industry, including the competition with peers and the challenges of woring with others.","I liked being a part of it. I liked being in the art school and feeling a part of that world","Involved and a part of something bigger than myself.","Like I'm a part of something greater than myself","Great! Like a part of something important","Very enthusiastic about a possible career in the arts.","I like going to concerts. I have gotten more into music since college","Involved, I made a lot of friends, like I was a part of something","It made me feel like an appreciated part of a cohesive group.","Being involved in the arts makes me feel like I was a part of something bigger than myself. It also helps me to escape from the rigors of engineering.","like I had purpose","It defined my college career because I am an art major.","It made me feel like I was a part of something meaningful.","like i was a part of something that was working toward a common goal that I was excited about because it is fun!","It opened my eyes to a whole new world of possibilities that I didn't know existed.  I found a renewed appreciation for the arts.","Like I'm encountering new challenges I had not considered before. The struggle between artistic freedom and logistics is an interesting tug of war to learn about.","Part of something, more interested in the art","part of a new community and like a more well-rounded person","Excited to be doing something new","Like I will be doing it is a career- that is how worthwhile it has been.","a part of something amazing","excellent. it was great having rehearsals to go to again, like back in high school. and you feel part of a group that's making something great","It made me feel like I was involved, and that i was actually doing something with my life","It made me feel a part of something and it is a nice break from the subjects i have to study for my major.","I always feel like part of a larger group that appreciates artistic activity.","Exhausted within my major; but I feel more invigorated about making music, and writing.","Like I'm doing something meaningful","It made me feel like I, too, want to become involved in the arts in the future (although maybe not in the immediate future).","Fulfilled and challenged. They give me a purpose","Positive, like I was actively promoting societal change.","My involvement in the arts has not been as extensive as I would have liked but it has been a very positive part of my college experience. Particularly, dancing.","It was something fun to do with groups of friends.","I think its part of the \"college growing up\" experience to see new things and learn about new art forms.  I feel a little more cultured having been exposed to the arts.","Like I was learning new things","Being involved in the arts made me feel empowered, as if my creative skills were actually useful in the real world and there was a place for them. While I had a generally positive experience in the arts in high school, because my parents are both physicias they encouraged me to look for a more \"realistic\" career option, something outside of the arts."],"thought_proportions":[0.4856,0.467,0.4414,0.4353,0.4339,0.4313,0.4233,0.4105,0.3962,0.3645,0.3632,0.3629,0.3612,0.3601,0.351,0.3472,0.3463,0.3459,0.3342,0.3276,0.3148,0.3017,0.2973,0.2941,0.2934,0.2898,0.2875,0.2862,0.2851,0.2805,0.274,0.27,0.2678,0.2643,0.2609,0.2603,0.2574,0.2533,0.2478,0.2452,0.24,0.239,0.2387,0.235,0.232,0.2312,0.2282,0.2258,0.223,0.2194],"prob":["like, part, someth, music, new, major, group"],"frex":["someth, part, career, bigger, music, challeng, major"],"lift":["career, possibl, bigger, challeng, futur, someth, part"],"score":["possibl, someth, part, like, major, music, bigger"],"proportion":["0.07"]},{"name":["Gained Perspective and Appreciation"],"summary":["Gaining knowledge, a broader perspective, and a deeper appreciation of the arts is reported by students as a result of engagement in the arts.  Students indicated these gains allowed them to be more involved, engaged and expressive in their lives, and led to feeling they were themselves “larger”."],"size":[1800],"topic_no":[11],"thoughts":["Broadened my perspective and made me feel like I was gaining a new perspective and appreciation","It makes me feel empowered. I feel like I am able to  create something that other people can on some level appreciate.","Attending plays and dances made me feel as if I was gaining a better perspective of the arts.","It made me feel more educated and well rounded, it also made me feel that I had the ability to have more intellectual conversations with anyone.","It feels good to go and view expressions that I can't do. It's great to see or hear the talent other individuals have, and while it makes me jealous, it's a really great feeling.","it made me feel as though I was gaining knowledge","My involvement with the arts made me feel connected to a community that is much larger than myself.  It made me feel closer to other people and helped me to gain insight into other perceptions of this world.","It made me happy and it made me feel connected to others.","It made me feel competent, accomplished, gave me an opportunity to express myself as well as gain a greater appreciation of the arts.","made me feel better appreciation for areas of art that I hadn't had exposure to before college","The arts--specifically music--make me feel happy because there is a certain beauty that I can appreciate so easily.","It made me feel connected to the lives of other people and the perspective they had when making particular art.","It made me feel great to see that the arts existed here, but pissed me off that it wasn't as prominent that they were available.","It made me feel appreciative of the university that I attended and the opportunities it presented","It made me feel fantastic","It feels great","feeling of belonging","It made me appreciate the arts more.","I feel more appreciative of art","It made me feel important having the skill sets that can potentially increase involvement.","What I have been able to do has made me feel accomplished, however I feel as though I should involve myself even more and feel an obligation to do so in the future.","It made me feel like an appreciated part of a cohesive group.","I felt more connected to the campus and ann arbor community.  It made me feel great and well rounded.","It made me feel talented--being part of an arts organization is a great way to make yourself feel like you're part of something, and if you're good at what you do, it makes it that much better--especially when other people appreciate your work.","My involvement in the arts during college made me feel connected to the university and the campus community. It made me feel intelligent, creative, and involved.","During my drama workshops, I feel like a kid again because I can act goofy.","It made me feel inspired.","They made me feel as if I were making a contribution to society and I gained personal enjoyment from participating in them.","it made me feel creative","Made me feel accomplished and satisfied with my growth.","It made me feel accomplished and proud.","more appreciative of artistically talented individuals"],"thought_proportions":[0.3495,0.2548,0.2499,0.2458,0.2384,0.2372,0.2351,0.2346,0.2322,0.2316,0.231,0.2305,0.225,0.2222,0.2167,0.2167,0.2166,0.2154,0.2154,0.2145,0.2134,0.2109,0.2084,0.2057,0.2049,0.2044,0.2044,0.204,0.2039,0.2018,0.2018,0.2007],"prob":["feel, made, great, appreci, can, individu, gain"],"frex":["made, great, feel, gain, individu, belong, can"],"lift":["belong, gain, individu, made, great, can, feel"],"score":["feel, made, belong, great, appreci, gain, can"],"proportion":["0.11"]}],"topic_no":[5,11],"thoughts":["Complete- music makes me feel more in touch with myself.","great. it is a part of me.","It made me feel talented--being part of an arts organization is a great way to make yourself feel like you're part of something, and if you're good at what you do, it makes it that much better--especially when other people appreciate your work.","it made me feel as if I had a place, regardless of my major. Every one is allowed to appreciate art of any form.","I feel now that I am contributing to the world in a very important, positive way that can affect everyone, not only local audiences.","I enjoyed majoring in music. It made me feel too many things to list. But this is all part of creative expression.","It made me feel like an appreciated part of a cohesive group.","excellent. it was great having rehearsals to go to again, like back in high school. and you feel part of a group that's making something great","It made me feel like I, too, want to become involved in the arts in the future (although maybe not in the immediate future).","I always feel like part of a larger group that appreciates artistic activity."],"thought_proportions":[0.3135,0.33,0.3988,0.356,0.3735,0.3606,0.505,0.4271,0.3895,0.3955],"thought_variances":[0.0021,0.007,0.0126,0.0176,0.0433,0.0559,0.0832,0.0878,0.0879,0.0949]}],"topic_no":[14,5,11],"thoughts":["Like I was becoming more cultured","Proud, something to look back on and feel that I did something that not many other people did. It is also impressive considering hundreds of people watched me on stage.","Like I was more rounded.","Made me feel like I was making the most of college by seeking out a well rounded experience.","Like a more well rounded person","like a more well rounded person"],"thought_proportions":[0.3332,0.375,0.3565,0.4259,0.4156,0.4156],"thought_variances":[0.0064,0.0194,0.0194,0.0675,0.0735,0.0735]},{"name":["Gratitude"],"summary":["Feeling Balanced and Gratified, students recognized and appreciated that the opportunities that U-M gave them through arts engagement in college contributed to their lives in ways that would be hard to experience without the diverse, resourced, and high-achieving environment typical at selective public institutions (Gratitude). Students were grateful for having the arts readily available on campus to serve as a complement and restorative to academic demands.  Having access to an array of rich arts offerings served as a vehicle for developing increased cultural awareness and knowledge, which enriched their lives and broadened their interests. They felt Grateful for the happiness they had experienced and the opportunities they had had through the art. They also speculated on and appreciated how these experiences would have positive long-term effects on their lives beyond college."],"children":[{"name":["Balanced"],"summary":["In this mixed response node, students reported that they felt relaxed and refreshed when they used arts engagement as a break or counterpoint to their regular or routine activities and coursework, and they also felt more culturally aware, knowledgeable and confident.  Reflecting on what brings these areas together, we thought this node was similar  to Well Rounded in that student are seeing themselves as whole persons who could use the arts to expand and increase their knowledge and experience at college, and be a more Balanced person in the process."],"children":[{"name":["Culturally Aware"],"summary":["The arts have always been seen as a way to connect to cultures different than one’s own, and students in this project affirmed this to us through their responses as well.  Students said that through their arts engagement they felt they had become more Culturally Aware and knowledgeable, and this changed their behavior, interests, and levels of involvement."],"size":[1800],"topic_no":[1],"thoughts":["Culturally aware and interested.","more knowledgeable about the things around me. i used to be a science student interested in the arts. now i am in architecture","It makes me feel good. :) I do regret not being more involved in my time here, because I'm graduating soon. I'm a little wistful about how much more I could've participated and learned, so my involvement isn't nearly as impressive or meaningful to me nowaays than perhaps in high school or elementary school.","Cultured, and outgoing. Did a lot of things that I never would have thought about doing in high school","- Like an involved student \r\n- Culturally aware","It makes me feel connected with the rest of the student body. I may not be able to personally work in some of the events that I attend, but I am able to understand and appreciate the amount of work and dedication that was put in by those who I observe. I m able to get an impression of the rest of my fellow students and of their work. \r\nMy involvement also allows me to explore parts of my interests which are not purely academically related. Despite the fact that I am truly dedicated to what I do, the arts llow me to at least be interested in areas that I do not personally participate in.","Like a different person than I was in high school- more \"cultured.\"","Cultured and aware","Culturally aware","More culturally aware","Cultured and supportive of the arts","Wonderful. culturally immersed","knowledgeable, cultural","Interested. Motivated to learn more.","Great.  I was very proud to see my friends perform and I was able to learn more about how dance relates to their culture","Frustrated. I do not like working with at students. We have very different time management skills and I lack support and cooperation with other students involved in the organization.","It makes me feel a bit more cultured and relatable to other people.","its made me learn a lot more about my self, discover my interests and envision how i'd like to spend my future","It made me miss doing more writing like I did back in high school and middle school","Smart, cultured, able to explain myself and articulate thoughts more accurately.","More open-minded, more culturally learned","I feel less involved in the arts now than I did in high school.","I transferred out of the School of Art and Design because I didn't fit in well and I didn't think I would be able to get a job after graduation."],"thought_proportions":[0.3166,0.3019,0.2755,0.265,0.249,0.2288,0.2259,0.2207,0.2207,0.2207,0.2207,0.2206,0.2206,0.2206,0.2153,0.2107,0.2105,0.2093,0.2058,0.2044,0.2044,0.2026,0.2005],"prob":["cultur, school, learn, abl, interest, high, student"],"frex":["cultur, learn, school, awar, interest, wonder, knowledg"],"lift":["wonder, general, awar, cultur, knowledg, learn, interest"],"score":["awar, cultur, school, learn, interest, knowledg, high"],"proportion":["0.05"]},{"name":["Refreshed"],"summary":["Students reported that engaging in the arts were a welcome alternative to their regular academic work activities, and routines, and such “breaks” led to feeling Refreshed or restored, interest in having life-long connections to the arts, and just generally feeling happier than they would have otherwise."],"size":[1800],"topic_no":[13],"thoughts":["taking art history and a drawing class in Florence while abroad was a breath of fresh air. it was unlike any class i'd taken at michigan and I truly loved them.","Taking time to truly enjoy arts make me realize that these kinds of leisure activities are what completes life :)","was a nice break from my courses","It was a nice break from academic activities.","It was so fulfilling to be a part of, and made me realize how much I want the arts to always be a part of my life.","Appreciate the skills of other students, wanting to further practice and improve my own skills","It was infrequent but it was a nice break from my usual activities.","It makes me feel very well-rounded when I include arts activities in my life","Being involved in the arts always leave me feeling refreshed and much more open-minded.  It is a nice way to think outside of the classroom and develop opinions.","not much involvement, required for class or bored at home","I feel like if you want to truly pursue art, you have to start in college and almost major in it or it can be impossible to break into the art business and I have learned that to really develop artistic skills requires money.","more confident in my skills","my art class actually made me feel kind of bad about myself... I always thought I was doing really well until the teacher compared everyone's art in front of the whole class and I hadn't done very well","I miss being more involved in the arts like I have been my entire life.  I have always been involved in art classes in high school like ceramics and photography, as well as playing trumpet in the band, piano, and guitar.  I was always able to draw comics n the classes that were boring also.  In college, however, I barely find time to pick up the guitar, and never have a chance to doodle in my engineering classes.  I have attended one concert and missed several that I would've liked to attend.  I hope I ca get more involved again once I graduate.","I didn't do much, but when I did t was nice, but never seemed super important to me.","It's a relief from the rigor of all the other courses I take","I was an Art Minor from the time they made the program available to engineers, so it's nothing new for me. I came to school knowing I wanted to double major but was unable to and had to minor. What's interesting is that most people (including those in A&D thought that it was just because of my friendship with A&D students that made me want to minor. So while I always felt like I was a part of that scene, there was always that separation from the real group- \"oh, but he's just a minor\".","happier than anything else","Happier, yet wanting more.","My photography gave me something to do in life other than school, and made me feel more well-rounded.","Much more well-rounded, open-minded and interesting. I had more in common with unique individuals and my conversations became more colorful.","Whenever I attended an event I was always entertained and it helped me take a break from my studies.","Going to shows and taking an art class (Woodworking) made me feel more capable and confident. I feel more \"cultured\" than most.","Much happier and freer","I have always been interested in the arts, so this made me feel as though I was taking a break from work."],"thought_proportions":[0.3939,0.3813,0.3542,0.3306,0.3189,0.3126,0.3118,0.2903,0.2829,0.2648,0.2511,0.2511,0.2483,0.2464,0.2338,0.2247,0.2236,0.2163,0.2163,0.214,0.2121,0.2062,0.2061,0.203,0.2018],"prob":["class, alway, want, life, activ, well-round, take"],"frex":["want, activ, open-mind, nice, break, life, well-round"],"lift":["realiz, break, open-mind, happier, photographi, nice, activ"],"score":["happier, class, want, alway, nice, break, activ"],"proportion":["0.06"]}],"topic_no":[1,13],"thoughts":["It made me want to take up art again, just as I did while in high school.","I was happy to take a screen arts and culture class because I am very interested in film"],"thought_proportions":[0.328,0.3543],"thought_variances":[0.0086,0.0129]},{"name":["Gratified"],"summary":["Students reported being Happy and Grateful for the range of experiences, connections, and opportunities the arts afforded them at U-M populate student responses in the Gratified node.  They understand and appreciate everything they gained from their arts experiences - their friends, their skills, their enjoyment, their personal development - in other words, they feel Gratified to have had the opportunities afforded them at the University.  In the arts, they said, they found a home."],"children":[{"name":["Grateful"],"size":[1800],"topic_no":[7],"thoughts":["Makes me feel more in sync with my own self and I enjoy the ability to make something my own.","They are always enjoyable experiences, and I'm usually caught up in the drama (I usually attend the theater) afterword.","It was my life during college. The arts were what I did. It had the ability to make me feel both amazing and terrible. It really dictated my everyday experience.","Made me feel like my college experience was more complete","the lack of involvement in the arts during college makes me feel upset and inspired at the same time to pick up a paint brush and make something creative","Made me feel like I was making the most of college by seeking out a well rounded experience.","It makes me thankful and grateful for the previous experiences that I have had.","More thankful for their presence in shaping the human experience","The involvement I have had has given me cultural enrichment, but I dont feel I've had enough experience with the arts","It makes me feel like I truly grew as a person and took advantage of my college experience."],"thought_proportions":[0.233,0.2085,0.2032,0.1857,0.1784,0.1628,0.1486,0.1486,0.1484,0.1477],"prob":["make, colleg, experi, usual, ive, abil, complet"],"frex":["make, experi, human, colleg, ive, usual, complet"],"lift":["human, make, paint, experi, complet, ive, usual"],"score":["human, make, colleg, experi, usual, complet, ive"],"proportion":["0.05"]},{"name":["Happy"],"size":[1800],"topic_no":[9],"thoughts":["I loved every minute of Irish dance practice.  Because I became so close to all the team members, I loved being at practice even when it was 4 hours long.   Dancing made me happy, both because I developed a new skill and because of the team I was dancing ith.","They still are my home. Most of my friends and fondest memories from Michigan come from these arts clubs.","I love the visual image, and my studies and practice of it make me feel like an intelligent and cultured human being. However, I still possess the anxiety that the University of Michigan does not emphasise the practical concerns of entering a competitive reative field like entertainment. I am afraid that my involvement in the arts will not translate to the working world and that I will be unemployed and unhappy.","I have loved my involvement in the arts at Michigan.  It has made me feel valued.  It has also been great socially and made me happy.","Productive- so that my 'extra' hours weren't wasted doing nothing.  It also helps to relate my field of study with other visual and performing arts, when I see pieces that are outside of my usual area of expertise.","I love being a part of the MMB. I met my best friends through being a member of the band.","It's a lot of fun, productive without trying. I get a feeling of being well-rounded, pushing myself to try new things and develop as a person.","Grateful that I am still able to continue dancing and even take classes through the UM Dance Department. I also feel very lucky for having UMS and School of Music, Theater, and Dance performances, among other arts events, to go to. However, I also wish I ad more time to be more involved in the arts during college.","I loved watching it.","Happy, entertained","I loved making these friends because I relate with them so well.  Also, it was a great outlet for everything.","It was wonderful to put on our Slam/Open Mics every two weeks: I loved the feeling of our regulars coming back every time, changing with us, sharing their changes with us","Attending theater productions made me excited and happy, and occasionally more cultured.","Confident, intelligent, happy.","Not different from watching a movie as entertainment.","My involvement in Glee Club makes me feel happy! I also feel very supported, as glee club is a close group of girls that I feel I can depend on.","Alive, happy, content and where I need to be. I describe it as being addicted to stories. Theater is what I do, I would be bored and frustrated without it."],"thought_proportions":[0.6824,0.4782,0.4115,0.3548,0.3308,0.3285,0.2736,0.268,0.2504,0.2504,0.2487,0.2333,0.2146,0.214,0.2076,0.2069,0.2036],"prob":["happi, love, friend, also, danc, product, everi"],"frex":["happi, love, entertain, watch, danc, product, friend"],"lift":["member, none, happi, entertain, valu, watch, field"],"score":["none, happi, love, friend, danc, entertain, intellig"],"proportion":["0.06"]}],"topic_no":[7,9],"thoughts":[],"thought_proportions":[],"thought_variances":[]}],"topic_no":[1,13,7,9],"thoughts":[],"thought_proportions":[],"thought_variances":[]}],"topic_no":[14,5,11,1,13,7,9],"thoughts":[],"thought_proportions":[],"thought_variances":[]}],"topic_no":[8,6,10,12,14,5,11,1,13,7,9],"thoughts":[],"thought_proportions":[],"thought_variances":[]},{"name":["Entertained"],"summary":["Students describe feeling good when they engaged in the arts, speaking about the enjoyment they received from participation.  This node seems to be speaking primarily to the contribution the arts made to feeling Entertained, as a pastime with value, in that it created that sense of having fun and well-being."],"size":[1800],"topic_no":[2],"thoughts":["Good. I really enjoy all peformances I go to.","The rare occasion where I could see a show, I really enjoyed myself. It was very relaxing and definitely made me appreciate the arts.","I really enjoyed participating in the arts and it made the college feel a little smaller and more intimate","In the times I have participated, it definitely brings a sense of enjoyment to me.  Also, there have been times when I've seen art that is meant to question or criticize, and I definitely felt those emotions, as well.","Happy, but a lot of times, disappointed. A lot of shows that I saw weren't very good, and made me sad that I used my time to see them.","Im disappointed because i really do enjoy the arts i just havent found my niche yet.","busy but good","It brings me enjoyment","I really enjoyed them.","Good for what little I did.","Good, enjoyable","Good, I enjoy it","I enjoy relaxing and just enjoying them. I also can enjoy them when I let them be thought provoking.","I enjoyed what little involvement I have had.","It was good when i participated or attended.","it was a good way to relax and a good source of creative expression.","Sad because I'm not really involved in the arts and I used to really enjoy playing my cello and going to concerts","I really enjoyed my involvement in the arts.  When I was variety chair it was sometimes stressful, but definitely worth all of the work at the end!","I wish I was more involved.  I really enjoy the arts but don't feel like I budget enough time in my busy schedule to appreciate and enjoy them.","Busy. Definitely gave me something to do.\r\n\r\nAnd obviously I enjoyed it, otherwise I would have stopped.","Really good and FREE.","Good, creative, relaxed","my involvement consisted of going to concerts, i enjoyed them a lot.","relaxed and good to express myself","The little involvement I've had has been enjoyable.","It was inspirational and I really enjoyed it.","Like I have time to relax, and enjoy myself.","Good, but sad that I don't have time to participate in the arts more frequently.","I haven't really been involved much, because I'm too busy!","Good, I always have a good time","I enjoyed all the shows I went to and made me feel like I had branched out, as far as my community involvement","Haven't really participated, so I guess I could be more actively involved","Awesome? I didn't have a lot of involvement. just enjoyed attending shows.","I enjoyed my time and would like to enjoy more times","I felt enjoyment when I went to some plays","I felt good doing something that wasn't as technical as my engineering degree requirements; it let me relax a little during the week."],"thought_proportions":[0.3284,0.3201,0.2874,0.267,0.2606,0.2531,0.2503,0.2503,0.2503,0.2503,0.2503,0.2503,0.2478,0.2457,0.2457,0.2453,0.2449,0.244,0.2318,0.2314,0.2279,0.2243,0.2219,0.2205,0.2198,0.2175,0.2174,0.2149,0.2147,0.2134,0.2132,0.2094,0.2066,0.204,0.2014,0.2003],"prob":["good, enjoy, realli, relax, particip, littl, busi"],"frex":["good, relax, littl, realli, enjoy, definit, bring"],"lift":["bring, definit, good, disappoint, littl, relax, busi"],"score":["good, bring, enjoy, realli, relax, particip, littl"],"proportion":["0.09"]},{"name":["Uninvolved"],"summary":["A large percentage of students reported feeling disappointed in having not engaged in the arts in college as much as they would have wished, and were left feeling Uninvolved.  They expressed a desire for more arts engagement, and many indicated that they knew that engagement would have been valuable to them.  While there are likely those respondents in this group that did not engage in the arts due to lack of interest, those that expressed being Regretful or Wishful about their lack of engagement said that time and other constraints were the typical reasons, rather than disinterest."],"children":[{"name":["Regretful"],"summary":["Student expressed regret in not being involved in the arts more in college, often while acknowledging the benefits they know they could gain through such involvement.  They also often expressed regret at having been involved in the arts in the past in a meaningful, more personal way that had to be curtailed or abandoned in college."],"size":[1800],"topic_no":[3],"thoughts":["I am dissappointed that I do not have a greater involvment in the arts. My involvement has declined between my Freshman and Junior years due to other responsibilities.","Sad that I haven't been more involved. I wish I had more time to attend events.","They would probably make me feel pretty good, if I were involved in any.  I still enjoy going to concerts and performances, but I really miss performing.","I wish I had more time to be involved in the arts myself, but I enjoyed attending concerts/other events","I would like to attend more shows but would probably not get involved besides that because I am not good at art stuff","Cultured, and like I should go to events more often. The cost for some performances is high, which inhibits frequent attendance.","Fulfilled, yet overwhelmed. I didn't continue with variety after freshman year due to time constraints.","Made me feel sad that I wasn't still involved.","I have enjoyed attending performances, especially when my friends are involved, and I have obtained a greater appreciation for the work put in by performers.","It made me sad that I wasn't as involved as I could have been","I wish I could get more involved (only if I had time).","I havent been involved yet :(","I wasn't involved enough","I wish I would have attended more performances.","Like I wish I had more time to get involved in more arts","Didn't really have a chance to get involved.","I wasn't involved in arts very much","ok....i wish i were more involved after i left the dance program","I wasn't very involved...","I have really enjoyed the art events that I have attended.  I often left feeling more cultured as well.","Annoyed that I couldn't get involved","Involved on campus, involved in our community, involved in the world.","I found my arts involvement to be enjoyable","Haven't really had the greatest involvement here and that makes me sad","I'm not very involved, other than attending performances and doing individual projects.","I enjoy attending arts events, such as Michigan Pops Concerts, and visiting art museums.","my involvement consisted of going to concerts, i enjoyed them a lot.","I have not gotten involved because I haven't seen anything that really interests me to go to","I had very minimal involvement, but I very much enjoyed attending student organization performances, such as acapella groups,","I've enjoyed attending music and theater events but I wish I could be more involved in painting on my own.","I wasn't really involved in the arts in college.","I wish I was involved in the arts more in college. It makes me sad.","Sad because I'm not really involved in the arts and I used to really enjoy playing my cello and going to concerts","Well, seeing as how I still have a year, I hope my involvement in the arts is not over. While I do enjoy participating in art, my primary interest is as a spectator. I find art very expressive and relaxing.","They made me feel sad that I am not still really involved in the arts.","I miss being more involved in the arts like I have been my entire life.  I have always been involved in art classes in high school like ceramics and photography, as well as playing trumpet in the band, piano, and guitar.  I was always able to draw comics n the classes that were boring also.  In college, however, I barely find time to pick up the guitar, and never have a chance to doodle in my engineering classes.  I have attended one concert and missed several that I would've liked to attend.  I hope I ca get more involved again once I graduate.","Guilty, because I am rarely involved in the arts now, and I would like to become more involved, but I have limited time.","I generally enjoyed all of the arts events I attended","I haven't been involved much, but when I am involved in arts, it's fun and I usually like the end product.","Amazing. I felt like I could still get involved in the arts after having very little experience."],"thought_proportions":[0.386,0.3231,0.2843,0.2814,0.2644,0.2617,0.2584,0.2558,0.2535,0.2492,0.2468,0.2429,0.2429,0.2428,0.2405,0.2368,0.2354,0.2285,0.227,0.2269,0.2266,0.2253,0.2239,0.2234,0.2207,0.2184,0.2148,0.2146,0.2127,0.2125,0.2125,0.2109,0.2104,0.21,0.2073,0.2036,0.2028,0.2024,0.2008,0.2005],"prob":["involv, perform, attend, get, event, wasnt, sad"],"frex":["event, involv, wasnt, attend, perform, concert, year"],"lift":["done, left, hope, event, year, due, yet"],"score":["involv, done, attend, event, perform, sad, wasnt"],"proportion":["0.1"]},{"name":["Wishful"],"summary":["Student used the word “wish” around their not being involved in the arts more in college, often while both describing both accompanying positive or negative feelings (i.e accomplished, guilty, appreciative, sad) and a suggestion about a range of factors that might have impeded their engagement in college (time, talent, information, resources)."],"size":[1800],"topic_no":[4],"thoughts":["accomplished. i feel bad that i didnt continue my violin playing as much as id anticipated, but i just didnt have enough time or the correct resources","Guilty, because I am rarely involved in the arts now, and I would like to become more involved, but I have limited time.","appreicative. i wish i could be involved but am not talented enough or dont have time.","Like I don't have enough time to do what I would enjoy doing. I never felt like I had the free time to go to rehearsals or practice.","Like I wish I had more time to get involved in more arts","Sad that I haven't been more involved. I wish I had more time to attend events.","I wish I was more involved.  I really enjoy the arts but don't feel like I budget enough time in my busy schedule to appreciate and enjoy them.","Fulfilled, yet overwhelmed. I didn't continue with variety after freshman year due to time constraints.","I enjoyed my time and would like to enjoy more times","I feel like I haven't been involved enough","I wish I had more ways to continue choir but there was not enough information and I felt like it's too late after a while.","I wish I could get more involved (only if I had time).","I don't do anything, I wish I did.","Brought back some good memories of my prior involvement in band, but also made me feel guilty for not continuing my involvement with band.","I'm sad that I haven't continued my art.","Because I didn't participate as much as I wanted to..it made me feel bad and that I wish I had done more.","I feel very uninvolved and sad because of it, but I honestly don't have the time to participate in the arts now.","i wish i had been more involved.  It makes me miss high school where i was very involved in band, theatre, and art","I haven't had much involvement","Haven't had time","Respected and needed in the community","i wish i could do it more but i need to set priorities","I wish I had more time to be involved in the arts myself, but I enjoyed attending concerts/other events","Didn't really have a chance to get involved.","I enjoyed it.. and I wish that I had time to do more","It makes me feeling like I want to have more involvement in the arts. However, due to time limitations and now knowing all of the ways I can be involved I can't be involved as I would like to be. This makes me feel like there is something missing in my lie.","I have had very limited involvement in the arts during college. I wish that I had participated more.","Good, but sad that I don't have time to participate in the arts more frequently.","It's been inadequate. That feels bad... like my life is missing a crucial dimension.","I have enjoyed my time, though I wish I could be more involved.","I would like to attend more shows but would probably not get involved besides that because I am not good at art stuff","sad.   I was in band, choir, and musicals in high school and i don't feel good enough to be in anything here.","I feel like I shouldn't be involved in the arts because I don't know much about any of it.","I haven't really been involved much, because I'm too busy!"],"thought_proportions":[0.3795,0.3441,0.3157,0.2897,0.2848,0.2789,0.2607,0.2606,0.248,0.2468,0.2429,0.2425,0.2396,0.2394,0.2393,0.2374,0.2351,0.2339,0.2265,0.2264,0.2264,0.2264,0.226,0.2209,0.2165,0.212,0.2105,0.2099,0.2046,0.2021,0.2019,0.2018,0.2015,0.2005],"prob":["time, like, wish, communiti, much, havent, dont"],"frex":["time, enough, communiti, wish, minim, continu, limit"],"lift":["minim, guilti, limit, lack, enough, probabl, continu"],"score":["minim, time, wish, havent, communiti, like, dont"],"proportion":["0.08"]}],"topic_no":[3,4],"thoughts":["Fulfilled, yet overwhelmed. I didn't continue with variety after freshman year due to time constraints.","I wish I could get more involved (only if I had time).","I haven't been involved much, but when I am involved in arts, it's fun and I usually like the end product.","I miss being more involved in the arts like I have been my entire life.  I have always been involved in art classes in high school like ceramics and photography, as well as playing trumpet in the band, piano, and guitar.  I was always able to draw comics n the classes that were boring also.  In college, however, I barely find time to pick up the guitar, and never have a chance to doodle in my engineering classes.  I have attended one concert and missed several that I would've liked to attend.  I hope I ca get more involved again once I graduate.","Like I could do anything I chose to if I tried hard enough (excepting acting haha).","Haven't had any that wasn't required by classes.","Involved in the community and open-minded.","I haven't been that involved. I am more involved in clubs and activites that have to do with my future as a professional so there is not much time for the arts in my day to day life.","Involved in my community","My involvement is minimal","Alright, minimal involvement","i had very limited involvement","not involved enough","I have not been involved enough","i should probably be more involved","Need more involvement","I wish I was involved more","I wish I could be more involved","I wish I were more involved.","I wish had more involvement.","I haven't been very involved.","wish I could have done more","I dont have any involvement","Like college wasn't a complete waste of my time.","I haven't been too involved with arts in college.","I haven't really been involved much, because I'm too busy!","didn't have a strong involvement","Didn't really have a chance to get involved.","Great, and fulfilled but also slightly sad that I don't have more time to be involved. \r\n","I wish I could have been more involved.  Gone to more plays.  Participated in more clubs.","I have not had much involvement, so I haven't really generated a \"feeling\" about it.","Not enough involvement to really tell.","i'm disappointed in my lack of involvement in the arts.","I haven't really been involved.","I haven't really been involved","Guilty. I did not feel like I was as involved as I should be.","Good, but sad that I don't have time to participate in the arts more frequently.","Not much involvement","I have had very limited involvement in the arts during college. I wish that I had participated more.","I haven't had much. I feel left out","bad too much politics involved in organizations","I have enjoyed my time, though I wish I could be more involved.","Good, but also stressed because I didn't have time for anything else while also participating in marching band.","It makes me feeling like I want to have more involvement in the arts. However, due to time limitations and now knowing all of the ways I can be involved I can't be involved as I would like to be. This makes me feel like there is something missing in my lie.","I haven't had much involvement","sad.   I was in band, choir, and musicals in high school and i don't feel good enough to be in anything here.","wanted to be more involved that i was, but had limited time to allocate to the arts because of my time-consuming major.","i wish i had been more involved.  It makes me miss high school where i was very involved in band, theatre, and art","I'm sad that I haven't continued my art.","I don't do anything, I wish I did."],"thought_proportions":[0.519,0.4893,0.3955,0.4009,0.369,0.3166,0.3171,0.3336,0.3626,0.3626,0.3626,0.3626,0.3626,0.3626,0.3626,0.3626,0.3626,0.3626,0.3626,0.3626,0.3626,0.3626,0.3626,0.341,0.3395,0.3869,0.3563,0.4577,0.3684,0.3404,0.3602,0.3567,0.3567,0.3567,0.3567,0.3456,0.3993,0.333,0.3971,0.3652,0.3727,0.376,0.3338,0.3935,0.4214,0.3719,0.3355,0.4297,0.4386,0.4387],"thought_variances":[0.0022,0.0042,0.0061,0.0063,0.0065,0.0094,0.0096,0.0121,0.0127,0.0127,0.0127,0.0127,0.0127,0.0127,0.0127,0.0127,0.0127,0.0127,0.0127,0.0127,0.0127,0.0127,0.0127,0.0131,0.0139,0.0142,0.0143,0.0159,0.0167,0.018,0.0181,0.0192,0.0192,0.0192,0.0192,0.0195,0.0205,0.0218,0.0239,0.0254,0.027,0.0282,0.0299,0.0306,0.0315,0.0317,0.0335,0.0382,0.04,0.0405]}],"topic_no":[8,6,10,12,14,5,11,1,13,7,9,2,3,4],"name":["How did your involvement in the arts during college make you feel?"],"this_root":[true],"summary":["A topic model with 14 topics, 1207 documents and a 286 word dictionary."],"proportions":[0.0544,0.0903,0.0953,0.0813,0.0723,0.0706,0.0471,0.0679,0.064,0.0599,0.1099,0.0812,0.0639,0.0419],"thoughts":["helped me try new things","good, productive, musical","I love it - it's fun, and I like continuing my education in the arts - it makes me feel more cultured (which I think is good!)","I was interested and some what challenged which is a good thing.","connected to that community and culture","Band in college has allowed me to have a network of friends since I came here.","expressive","I don't know\r\nLike a well-rounded person\r\n","Like I was becoming more cultured","I really like going to the occasional play or musical or seeing my friends' pieces that they create through the art school; it is always very calming and relaxing, and a huge change of pace from my English or Political Science classes.","No change","Important","Important","Expressive, excited, happy","Lacking in my own skill in expressing myslef effectively.","It makes me feel expressive and free to apply my skills to a field that I am interested in.","I want to travel and experience more of the arts around the world!","Happy, accomplished, important","I like the arts!","I liked it, but I hated the competitive aspect of it","like a hipster","I like it.","LIke a kid again","Good, fulfilled, well-rounded. I love being able to incorporate creativity into my education. It feels like it has more real world relevence than just always studying and reading.","It gave me a bit of a community. Something to talk to others about.","Creative, happy, part of a subculture at the university","That not enough people enjoy and listen to classical music","I felt more cultured and happy.","Knowledgeable, enlightened","wonderful","Wonderful!","Generally unnaccomplished.","cultured","more cultured","cultured","cultured.","cultured","Cultured","Cultured","Awesome","awesome","Awesome","AWESOME","awesome","Over worked.","It's fun.","ITS FUN!","it is fun?","fun","inspired\r\nenthusiastic\r\nmotivated"],"thought_proportions":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"thought_variances":[0.0707,0.0707,0.0717,0.0722,0.0738,0.074,0.0741,0.0742,0.0758,0.0762,0.0764,0.0764,0.0764,0.0767,0.0776,0.0777,0.0784,0.079,0.0794,0.0794,0.0794,0.0794,0.0794,0.0797,0.0797,0.0799,0.0801,0.0803,0.0809,0.0809,0.0809,0.0809,0.0809,0.0809,0.0809,0.0809,0.0809,0.0809,0.0809,0.0811,0.0811,0.0811,0.0811,0.0811,0.0811,0.0811,0.0811,0.0811,0.0811,0.0811]}
</script>
<style>
div.settings-label {
	font-size: 12px;
	color: #BBB;
	font-style: italic;
	margin-top: -10px;
	margin-bottom: 40px;
	font-weight: 300
}

div.tooltip {
	position: absolute;
	text-align: left;
	padding: 10px;
	border: 1px solid #D5D5D5;
	font-family: arial, helvetica, sans-serif;
	font-size: 1.1em;
	color: #333;
	padding: 10px;
	border-radius: 3px;
	background: rgba(255, 255, 255, 1);
	color: #000;
	box-shadow: 0 1px 5px rgba(0, 0, 0, .4);
	-moz-box-shadow: 0 1px 5px rgba(0, 0, 0, .4);
	border: 1px solid rgba(200, 200, 200, .85);
}

.sidebar {
	position: absolute;
	text-align: left;
	padding: 10px;
	border-right: 1px solid #D5D5D5;
	font-family: arial, helvetica, sans-serif;
	font-size: 1.1em;
	color: #333;
	padding: 10px;
	background: rgba(255, 255, 255, 1);
	color: #000;
	box-shadow: 0 1px 5px rgba(0, 0, 0, .4);
	-moz-box-shadow: 0 1px 5px rgba(0, 0, 0, .4)
}

.sidebar-item {
	direction: ltr
}

.sidebar-rule {
	height: 1px;
	margin: 1px auto 3px;
	margin-top: 7px;
	margin-bottom: 7px;
	background: #ccc;
	width: 10em
}

.header-rule {
	height: 1px;
	margin: 1px auto 3px;
	margin-top: 7px;
	margin-bottom: 7px;
	background: #ccc;
	width: 16em
}

.header-rule-short {
	height: 1px;
	margin: 1px auto 3px;
	margin-top: 7px;
	margin-bottom: 7px;
	background: #ccc;
	width: 6em
}

.header0 {
	color: #000;
	font-size: .7em;
	margin-bottom: 2px;
	text-align: center;
	font-style: oblique
}

.header1 {
	color: #000;
	font-size: .8em;
	margin-bottom: 2px;
	text-align: center
}

.header2 {
	text-align: left;
	font-size: .7em;
	margin-bottom: 2px;
	color: #666;
	text-align: center
}

.header3 {
	color: #333;
	text-align: left;
	font-size: 13px;
	font-style: italic;
	text-align: center
}

.thoughts {
	color: #333;
	text-align: left;
	opacity: 1;
    font-size:.7em;
	text-align: center;
	transition: .7s ease;
	font-size: 16px;
}

.overlay-text {
	color: black;
	font-size: 16px;
	font-weight: 700;
	opacity: 0;
	position: absolute;
	transition: .7s ease;
	width: 90%;
	top: 45%;
	left: 50%;
	transform: translate(-50%, -50%);
	-ms-transform: translate(-50%, -50%);
	text-align: center
}

.thought-container {
	position: relative;
	margin: 7.5px 8px 0 8px
}

.thought-container:hover .thoughts {
	opacity: .15
}

.thought-container:hover .overlay-text {
	opacity: 1
}
</style>
<style>
   *,::after,::before{background-repeat:no-repeat;box-sizing:inherit}::after,::before{text-decoration:inherit;vertical-align:inherit}html{box-sizing:border-box;cursor:default;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}article,aside,footer,header,nav,section{display:block}body{margin:0}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}nav ol,nav ul{list-style:none}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}::-moz-selection{background-color:#b3d4fc;color:#000;text-shadow:none}::selection{background-color:#b3d4fc;color:#000;text-shadow:none}audio,canvas,iframe,img,svg,video{vertical-align:middle}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg{fill:currentColor}svg:not(:root){overflow:hidden}table{border-collapse:collapse}button,input,optgroup,select,textarea{margin:0}button,input,select,textarea{color:inherit;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto;resize:vertical}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}template{display:none}[tabindex],a,area,button,input,label,select,summary,textarea{-ms-touch-action:manipulation;touch-action:manipulation}[hidden]{display:none}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-hidden=false][hidden]:not(:focus){clip:rect(0,0,0,0);display:inherit;position:absolute}[aria-disabled],[disabled]{cursor:default}.vz-weighted_tree-node text{stroke:#777;stroke-opacity:.5}html{background:#fff;font:100% sans-serif}.scrollbox{background:linear-gradient(white 30%,hsla(0,0%,100%,0)),linear-gradient(hsla(0,0%,100%,0) 10px,#fff 70%) bottom,radial-gradient(at top,rgba(0,0,0,.2),transparent 70%),radial-gradient(at bottom,rgba(0,0,0,.2),transparent 70%) bottom;background-repeat:no-repeat;background-size:100% 20px,100% 20px,100% 10px,100% 10px;background-attachment:local,local,scroll,scroll}.z-depth-2{box-shadow:0 8px 17px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.z-depth-3{box-shadow:0 12px 15px 0 rgba(0,0,0,.24),0 17px 50px 0 rgba(0,0,0,.19)}.modal,.z-depth-4{box-shadow:0 16px 28px 0 rgba(0,0,0,.22),0 25px 55px 0 rgba(0,0,0,.21)}.z-depth-5{box-shadow:0 27px 24px 0 rgba(0,0,0,.2),0 40px 77px 0 rgba(0,0,0,.22)}body{margin:0}@media only screen{main{padding-left:0px}}@media only screen and (max-width:961px){main{padding-left:0}}#viz_container{margin:0 auto;padding-top:0}div.container{width:100%;position:absolute;top:100px}.tile{font-family:Raleway;font-weight:300}.heading{font-family:Raleway;font-weight:300}.side-nav li:hover{background-color:#fff}.leftAxis{font-weight:200}.datatip-value{position:absolute;right:10px}.title{font-family:Roboto;font-size:20px;font-weight:200}.vizuly{font-family:Raleway}svg{border-radius:4px;shape-rendering:crispEdges}.vz-data-point{fill-opacity:1;stroke-width:1px;stroke-opacity:1}.vz-tip-hover{font-weight:300}.vz-tip-hover text{opacity:.8}.my-tip{font-family:Raleway;font-weight:300;text-anchor:middle}[type=radio]:checked+label:after{background-color:#448aff;border-color:#3864c9}[type=radio]+label{border-color:#3864c9}.input-field{margin-left:0;padding-bottom:5px;font-family:Roboto}.dropdown-content{font-family:Roboto;font-size:.5em}.dropdown-content li span{font-family:Roboto;font-size:1.75em}div.input-field label{margin-left:-10px}.mdi-navigation-menu{font-size:30px;color:#444}i.mdi-navigation-menu:before{font-size:40px;content:"\e662"}i.mdi-navigation-menu:hover{transition:color .5s ease;color:#0176b4}#myDataTip{font-family:Raleway;line-height:18px}svg.vizuly path.domain{fill:none}.vizuly{fill:#aaa;shape-rendering:auto}.vz-plot-background{fill:#fff}.vz-bar{stroke:#eee;shape-rendering:auto}.vz-area{fill-opacity:.7;shape-rendering:auto}.vz-line{stroke:#777;stroke-width:1px;stroke-opacity:1;fill:none;shape-rendering:auto}.vz-tip{stroke:1px;fill:none;stroke:#777;stroke-opacity:1;shape-rendering:auto}.vz-line-indicator{stroke:#555;stroke-width:1px}.vz-data-point{shape-rendering:auto}.vz-bottomAxis{shape-rendering:crispEdges}.vz-radial-axis-tick{font-weight:300}.vz-skin-axiis{background-image:linear-gradient(to bottom,#d0d0d0,#dfdfdf,#f3f3f3,#d0d0d0);border-radius:5px;border:1px solid #bbb}.vz-skin-ocean{background-image:url(img/vz-skin-galaxy_2.jpg);background-repeat:no-repeat;background-size:cover;border-radius:5px}.vz-axiis-datatip{background:rgba(232,232,232,.9);border-radius:3px;border:1px solid #aaa;fill:#fff;padding:10px;font-face:Raleway;text-transform:uppercase;font-weight:200;color:#000}.vz-material-datatip{background:rgba(35,35,35,.7);border-radius:3px;border:1px solid #aaa;fill:#fff;padding:10px;font-face:Raleway;text-transform:uppercase;font-weight:200;color:#fff}.vz-neon-datatip{background:rgba(106,106,106,.7);border-radius:3px;border:1px solid #777;padding:10px;font-face:Raleway;text-transform:uppercase;font-weight:200;color:#fff}.vz-minimal-datatip{background:rgba(220,220,220,1);border-radius:1px;border:1px solid #333;padding:10px;font-face:Raleway;text-transform:uppercase;color:#333}.vz-minimal-datatip span{font-weight:300!important}.vz-viz circle{shape-rendering:auto}.vz-skin-political-influence{background-color:#eee;border-radius:5px}svg{fill:#fff}i.mdi-navigation-menu:before{font-size:40px;content:"\e662"}i.mdi-navigation-menu:hover{transition:color .5s ease;color:#0176b4}div.vz-weighted_tree-viz{overflow:hidden}.vz-weighted_tree-viz circle{fill:#09f;fill-opacity:1}html{overflow:auto}.vz-weighted_tree-viz{overflow:auto;width:100%;height:100%}.vz-background{overflow:auto}.vz-weighted_tree-viz text{fill:#000}.vz-weighted_tree-viz path{stroke:#777;stroke-opacity:.5}.vz-skin-fire .vz-radial_progress-track{fill-opacity:.1}svg.vz-weighted_tree-viz{fill:none;font-family:Roboto;pointer-events:visible;opacity:1}div.radial_container{float:left;position:relative;top:45%;transform:translateY(-50%)}#viz_container{border-radius:6px;transform:translate(-15%,0px);}
</style>
<script>
   var vizuly={};vizuly.version="1.0",vizuly.core={},vizuly.viz={},vizuly.viz.layout={},vizuly.viz.layout.CLUSTERED="CLUSTERED",vizuly.viz.layout.STACKED="STACKED",vizuly.viz.layout.OVERLAP="OVERLAP",vizuly.viz.layout.STREAM="STREAM",vizuly.svg={},vizuly.theme={},vizuly.skin={},vizuly.ui={},vizuly.core.component=function(a,b,c,d){function e(a,b,c){Object.getOwnPropertyNames(c).forEach(function(d,e,f){"undefined"==typeof b[d]&&(b[d]=c[d],a[d]=function(c){if(!arguments.length)return b[d];var e=b[d];return b[d]=c,b[d]!==e&&b.dispatch[d+"_change"].apply(this,[b[d],e]),a})})}b.parent=a,b.properties=c,b.id=vizuly.core.util.guid(),b.selection=d3.select(a).append("div").attr("id","div_"+b.id).style("width","100%").style("height","100%");var f=[];f.push("mouseover"),f.push("mouseout"),f.push("mousedown"),f.push("click"),f.push("dblclick"),f.push("touch"),f.push("zoom"),f.push("zoomstart"),f.push("zoomend"),f.push("initialize"),f.push("validate"),f.push("measure"),f.push("update"),Object.getOwnPropertyNames(c).forEach(function(a,b,c){f.push(a+"_change")}),d&&d.length>0&&d.forEach(function(a){f.push(a)}),b.dispatch=d3.dispatch.apply(this,f);var g=function(){return e(g,b,b.properties),g};return b.dispatch.component=g(),g.id=function(){return b.id},g.selection=function(){return b.selection},g.on=function(a,c){return b.dispatch.on(a,c),g},g.validate=function(){if(!a){var a=[];if(Object.getOwnPropertyNames(c).forEach(function(c){!b[c]&&Number(0!=b[c])&&a.push(c)}),a.length>0)throw new Error("vizuly.core.util.component.validate(): "+a.concat()+" need to be declared");b.dispatch.validate()}},b.dispatch.component},vizuly.core.util={},vizuly.core.util.size=function(a,b,c){var d={};return d.width=b-vizuly.core.util.measure(a.left,b)-vizuly.core.util.measure(a.right,b),d.height=c-vizuly.core.util.measure(a.top,c)-vizuly.core.util.measure(a.bottom,c),d.top=vizuly.core.util.measure(a.top,c),d.left=vizuly.core.util.measure(a.left,b),d.bottom=vizuly.core.util.measure(a.bottom,c),d.right=vizuly.core.util.measure(a.right,b),d},vizuly.core.util.getTypedScale=function(a){var b;return b="string"==typeof a?d3.scale.ordinal():a instanceof Date?d3.time.scale():d3.scale.linear()},vizuly.core.util.setRange=function(a,b,c){"string"==typeof a.domain()[0]?a.rangeBands([b,c],0):a.range([b,c])},vizuly.core.util.measure=function(a,b){if("string"==typeof a&&"%"==a.substr(a.length-1)){var c=Math.min(Number(a.substr(0,a.length-1)),100)/100;return Math.round(b*c)}return a},vizuly.core.util.guid=function(){return"vzxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},vizuly.core.util.getDefs=function(a){var b=a.selection().selectAll("svg defs");return b[0].length<1&&(b=a.selection().select("svg").append("defs")),b},vizuly.core.util.createCSSKey=function(a){return a=String(a).replace(",","_"),a=a.replace(/[\s+,'+,\.,\(,\),\"]/g,""),a="css"+a.toUpperCase()},vizuly.core.util.aggregateNest=function(a,b,c){function d(a,b){if(b)for(var c=0;c<g.length;c++){var d=g[c];void 0!=a[d]&&(a["childProp_"+d]=a[d]),b["childProp_"+d]=a["childProp_"+d]?a["childProp_"+d]:a[d]}}function e(a,f){for(var g=0;g<a.length;g++){var h=a[g];if(h.values){e(h.values,h);for(var i=0;i<h.values.length;i++)for(var j=h.values[i],k=0;k<b.length;k++)isNaN(h["agg_"+b[k]])&&(h["agg_"+b[k]]=0),h["agg_"+b[k]]=c(h["agg_"+b[k]],j["agg_"+b[k]])}else for(var k=0;k<b.length;k++)h["agg_"+b[k]]=Number(h[b[k]]),isNaN(h["agg_"+b[k]])&&(h["agg_"+b[k]]=0);d(h,f)}}for(var f=a[0];f.values;)f=f.values[0];var g=[];Object.getOwnPropertyNames(f).forEach(function(a){g.push(a)}),e(a)},vizuly.core.util.format_YEAR_Mon_MonDay=d3.time.format.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%b",function(a){return a.getMonth()}],["20%y",function(a){return!0}]]),vizuly.svg.filter={},vizuly.svg.filter.dropShadow=function(a,b,c,d){var e=Math.round(100*b)+"_"+Math.round(100*c)+"_"+Math.round(100*dev),f=a.id(),g=vizuly.core.util.getDefs(a),h=g.selectAll("#vz_filter_"+f+"_"+e).data([e]).enter().append("filter").attr("id","vz_filter_"+f+"_"+e).attr("class","vz-svg-filter-dropShadow").attr("width","300%").attr("height","300%");h.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",d),h.append("feOffset").attr("dx",b).attr("dy",c),h.append("feComponentTransfer").append("feFuncA").attr("type","linear").attr("slope",.2);var i=h.append("feMerge");return i.append("feMergeNode"),i.append("feMergeNode").attr("in","SourceGraphic"),"#vz_filter_"+f+"_"+e},vizuly.svg.gradient={},vizuly.svg.gradient.blend=function(a,b,c,d){var e,f,g,h,i=String(b).replace("#","")+String(c).replace("#",""),j="vz_gradient_blend_"+a.id()+"_"+i;"horizontal"==d?(e="100%",f="0%",g="0%",h="0%"):(e="0%",f="0%",g="100%",h="0%");var k=vizuly.core.util.getDefs(a),l=k.selectAll("#"+j).data([i]).enter().append("linearGradient").attr("id",j).attr("class","vz-svg-gradient-blend").attr("x1",e).attr("x2",f).attr("y1",g).attr("y2",h);return l.append("stop").attr("offset","0%").attr("stop-color",b),l.append("stop").attr("offset","100%").attr("stop-color",c),l=k.selectAll("#"+j)},vizuly.svg.gradient.fade=function(a,b,c,d,e){e||(e=[0,1]),d||(d=[.75,.9]);var f,g,h,i,j=String(b).replace("#",""),k="vz_gradient_fade_"+a.id()+"_"+j;"horizontal"==c?(f="0%",g="100%",h="0%",i="0%"):(f="0%",g="0%",h="100%",i="0%");var l=vizuly.core.util.getDefs(a),m=l.selectAll("#"+k).data([j]).enter().append("linearGradient").attr("id",k).attr("class","vz-svg-gradient-fade").attr("x1",f).attr("x2",g).attr("y1",h).attr("y2",i);return m.append("stop").attr("offset",100*e[0]+"%").attr("stop-color",b).attr("stop-opacity",d[0]),m.append("stop").attr("offset",100*e[1]+"%").attr("stop-color",b).attr("stop-opacity",d[1]),m=l.selectAll("#"+k)},vizuly.svg.gradient.radialFade=function(a,b,c,d){d||(d=[0,1]),c||(c=[.75,.9]);var e=String(b).replace("#",""),f="vz_gradient_radial_fade"+a.id()+"_"+e,g=vizuly.core.util.getDefs(a),h=g.selectAll("#"+f).data([e]).enter().append("radialGradient").attr("id",f).attr("class","vz-svg-gradient-radial-fade");return h.append("stop").attr("offset",100*d[0]+"%").attr("stop-color",b).attr("stop-opacity",c[0]),h.append("stop").attr("offset",100*d[1]+"%").attr("stop-color",b).attr("stop-opacity",c[1]),h=g.selectAll("#"+f)},vizuly.svg.gradient.darker=function(a,b,c){var d,e,f,g,h=String(b).replace("#",""),i="vz_gradient_darker_"+a.id()+"_"+h;"horizontal"==c?(d="100%",e="0%",f="0%",g="0%"):(d="0%",e="0%",f="100%",g="0%");var j=vizuly.core.util.getDefs(a),k=j.selectAll("#"+i).data([h]).enter().append("linearGradient").attr("class","vz-gradient-darker").attr("id",i).attr("x1",d).attr("x2",e).attr("y1",f).attr("y2",g);return k.append("stop").attr("offset","0%").attr("stop-color",b).attr("stop-opacity",.75),k.append("stop").attr("offset","100%").attr("stop-color",d3.rgb(b).darker()).attr("stop-opacity",.9),k=j.selectAll("#"+i)},vizuly.svg.text={},vizuly.svg.text.arcPath=function(a,b){var c=.0174533,d={};d.angle=b,d.startAngle=d.angle-179*c,d.endAngle=d.angle+179*c;var e=d3.svg.arc().innerRadius(r).outerRadius(a)(d),f=/[Mm][\d\.\-e,\s]+[Aa][\d\.\-e,\s]+/,g=f.exec(e);return g&&(g=g[0]),g},vizuly.svg.text.wrap=function(a,b,c,d){d=!d&&a.attr("width")?Number(a.attr("width")):d,a.each(function(){var a=d3.select(this);a.selectAll("tspan").remove();var e,f=b.split(/\s+/).reverse(),g=[],h=0,i=a.attr("x"),j=a.attr("y"),k=parseFloat(c);isNaN(k)&&(k=0);for(var l=a.text(null).append("tspan").attr("x",i).attr("y",j).attr("dy","0px");e=f.pop();)g.push(e),l.text(g.join(" ")),l.node().getComputedTextLength()>d&&(h++,g.pop(),l.text(g.join(" ")),g=[e],l=a.append("tspan").attr("class","vz-multi-line").attr("x",i).attr("y",j).attr("dy",+k+"px").text(e),k+=c)})},vizuly.skin.COLUMNBAR_AXIIS="Axiis",vizuly.skin.COLUMNBAR_NEON="Neon",vizuly.skin.COLUMNBAR_MATERIALBLUE="MaterialBlue",vizuly.skin.COLUMNBAR_MATERIALPINK="MaterialPink",vizuly.theme.column_bar=function(a){function b(){l(),"viz.chart.column"==a.type?(m=".vz-left-axis",n=".vz-bottom-axis"):(n=".vz-left-axis",m=".vz-bottom-axis")}function c(){var b=a.width(),c=a.selection();o=Math.max(8,Math.round(a.width()/65)),c.attr("class",s["class"]),c.selectAll(n+" .tick text").style("font-weight",s.ordinalAxis_font_weight).style("fill",s.labelColor).style("fill-opacity",1).style("font-size",o+"px").style("opacity",function(){return b>399?1:0}),c.selectAll(m+" line").style("stroke",s.valueAxis_line_stroke).style("stroke-width",1).style("opacity",s.valueAxis_line_opacity),c.selectAll(m+" text").style("font-size",o+"px").style("fill",s.labelColor).style("fill-opacity",.8);var d=c.selectAll(".vz-plot .vz-bar").style("stroke","#FFF");a.layout()==vizuly.viz.layout.STACKED?d.style("stroke-opacity",1).style("stroke-width",function(){return b/800+"px"}).style("stroke-opacity",.6):d.style("stroke-opacity",s.bar_stroke_opacity),c.selectAll(".vz-bar-group")[0].forEach(function(a,b){d3.select(a).selectAll("rect.vz-bar").attr("filter",function(a,b){return s.bar_filter(a,b)}).style("fill-opacity",function(a,b){return s.bar_fill_opacity(a,b)}).style("fill",function(a,b){return s.bar_fill(a,b)}).style("rx",s.barRadius)}),s.background_transition()}function d(b,c,d){d3.select(b).style("fill",s.bar_mouseover_fill).style("fill-opacity",s.bar_mouseover_opacity).style("stroke",s.bar_mouseover_stroke).attr("filter",s.bar_filter_over()),d3.select(a.selection().selectAll(n+" .tick text")[0][g(c)]).transition().style("font-size",1.2*o+"px").style("font-weight",700).style("fill",s.color).style("text-decoration","underline").style("fill-opacity",1).style("opacity",1)}function e(b,c,d){d3.select(b).style("fill",function(){return s.bar_fill(c,d)}).style("fill-opacity",function(){return s.bar_fill_opacity(c,d)}).style("stroke","#FFF").attr("filter",s.bar_filter()),d3.select(a.selection().selectAll(n+" .tick text")[0][g(c)]).transition().style("font-size",o+"px").style("fill",s.labelColor).style("font-weight",s.ordinalAxis_font_weight).style("text-decoration",null).style("fill-opacity",1).style("opacity",function(){return a.width()>399?1:0})}function f(){a.selection().selectAll(".vz-tip").remove(),"viz.chart.column"==a.type?a.yAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).width).ticks(5).orient("left"):a.xAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).height).ticks(5)}function g(b){return(m=".vz-left-axis")?a.xScale().domain().indexOf(a.y().apply(this,[b])):a.yScale().domain().indexOf(a.x().apply(this,[b]))}function h(){var b=a.width();return"url("+vizuly.svg.filter.dropShadow(a,b/300,b/300,b/200)+")"}function i(){var b=a.width();return"url("+vizuly.svg.filter.dropShadow(a,b/100,b/100,1.5)+")"}function j(){a.selection().selectAll(".vz-background").style("fill-opacity",1),a.selection().selectAll(".vz-background").attr("fill",function(){return"url(#"+r.attr("id")+")"}),r.selectAll("stop").transition().duration(500).attr("stop-color",function(a,b){return 0==b?s.grad0:s.grad1})}function k(a,b){return a="0x"+a.replace("#",""),a=parseInt(a,16),a+=65793,a|=b,"#"+a.toString(16)}function l(){q.forEach(function(b){a.on(b.on,b.callback)})}var m,n,o,p={MaterialBlue:{name:"Material Blue",labelColor:"#FFF",color:"#02C3FF",grad0:"#021F51",grad1:"#039FDB",background_transition:j,bar_filter:function(a,b){return h()},bar_filter_over:function(a,b){return i()},bar_fill:function(a,b){return"#02C3FF"},bar_fill_opacity:function(a,b){return 1-b/4},bar_mouseover_stroke:"#02C3FF",bar_mouseover_fill:"#FFF",bar_stroke_opacity:0,bar_mouseover_opacity:1,ordinalAxis_font_weight:200,valueAxis_line_stroke:"#FFF",valueAxis_line_opacity:.25,barRadius:function(){return 0},datatip_class:"vz-material-datatip","class":"vz-skin-default"},MaterialPink:{name:"Material Pink",labelColor:"#FFF",color:"#F553B1",grad0:"#540936",grad1:"#C12780",background_transition:j,bar_filter:function(a,b){return h()},bar_filter_over:function(a,b){return i()},bar_fill:function(a,b){return"#FF35BE"},bar_fill_opacity:function(a,b){return 1-b/4},bar_stroke_opacity:0,bar_mouseover_stroke:"#FF35BE",bar_mouseover_fill:"#FFF",bar_mouseover_opacity:.9,ordinalAxis_font_weight:200,valueAxis_line_stroke:"#FFF",valueAxis_line_opacity:.25,barRadius:function(){return 0},datatip_class:"vz-material-datatip","class":"vz-skin-default"},Neon:{name:"Neon",labelColor:"#FFF",color:"#D1F704",grad0:"#000000",grad1:"#474747",background_transition:j,bar_filter:function(a,b){return null},bar_filter_over:function(a,b){return i()},bar_fill:function(a,b){return"#D1F704"},bar_fill_opacity:function(a,b){return 1-b/6},bar_stroke_opacity:0,bar_mouseover_stroke:"#D1F704",bar_mouseover_fill:"#FFF",bar_mouseover_opacity:1,ordinalAxis_font_weight:200,valueAxis_line_stroke:"#FFF",valueAxis_line_opacity:.25,barRadius:function(){return a.width()/150},datatip_class:"vz-neon-datatip","class":"vz-skin-default"},Axiis:{name:"Axiis",labelColor:"#444",color:"#000",colorScale:d3.scale.linear().range(["#DF1133","#3333DF"]).domain([0,a.data()[0].length]),background_transition:function(){a.selection().select(".vz-background").transition().style("fill-opacity",0)},bar_filter:function(a,b){return null},bar_filter_over:function(a,b){return null},bar_fill:function(b,c){var d=vizuly.svg.gradient.fade(a,k(this.colorScale(a.xScale().domain().indexOf(a.x().apply(this,[b]))),2245632*c));return"url(#"+d.attr("id")+")"},bar_fill_opacity:function(a,b){return 1-b/4},bar_mouseover_stroke:"#AAA",bar_mouseover_fill:"#000",bar_mouseover_opacity:.8,bar_stroke_opacity:1,ordinalAxis_font_weight:400,valueAxis_line_stroke:"#AAA",valueAxis_line_opacity:1,barRadius:function(){return 0},datatip_class:"vz-axiis-datatip","class":"vz-skin-axiis"},Minimal:{name:"Minimal",labelColor:"#444",color:"#333",grad0:"#F0F0F0",grad1:"#F0F0F0",background_transition:j,bar_filter:function(a,b){return null},bar_filter_over:function(a,b){return null},bar_fill:function(a,b){return"#555"},bar_fill_opacity:function(a,b){return 1-b/4},bar_stroke_opacity:0,bar_mouseover_stroke:"#000",bar_mouseover_fill:"#333",bar_mouseover_opacity:1,ordinalAxis_font_weight:400,valueAxis_line_stroke:"#AAA",valueAxis_line_opacity:.35,barRadius:function(){return 0},datatip_class:"vz-minimal-datatip","class":"vz-skin-default"}},a=a,q=[{on:"measure.theme",callback:f},{on:"update.theme",callback:c},{on:"mouseover.theme",callback:d},{on:"mouseout.theme",callback:e}];b();var r=vizuly.svg.gradient.blend(a,"#000","#000");b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),q.forEach(function(b){a.on(b.on,null)}),a=null)},b.viz=function(b){return arguments.length?(a=b,void l()):a};var s=null;return b.skin=function(a){if(0==arguments.length)return s;if(!p[a])throw new Error("theme/column_bar.js - skin "+a+" does not exist.");return s=p[a],b},b.skins=function(){return p},b},vizuly.skin.LINEAREA_AXIIS="Axiis",vizuly.skin.LINEAREA_NEON="Neon",vizuly.skin.LINEAREA_FIRE="Fire",vizuly.skin.LINEAREA_OCEAN="Ocean",vizuly.skin.LINEAREA_SUNSET="Sunset",vizuly.skin.LINEAREA_BUSINESS="Business",vizuly.theme.radial_linearea=function(a){function b(){h()}function c(){if(i){var b=a.selection();b.attr("class",i["class"]),b.selectAll(".vz-background").attr("fill",function(){return"url(#"+j.attr("id")+")"}),b.selectAll(".vz-plot-background").style("opacity",0),b.selectAll(".vz-area").style("fill",function(a,b){return i.area_fill(a,b)}).style("fill-opacity",function(b,c){return i.area_fill_opacity.apply(a,[b,c])}),b.selectAll(".vz-line").style("stroke-width",function(){return a.outerRadius()/450}).style("stroke",function(a,b){return i.line_stroke(a,b)}).style("opacity",function(b,c){return i.line_opacity.apply(a,[b,c])}),b.selectAll(".vz-data-point").style("opacity",0),b.selectAll(".vz-radial-x-axis-tick").style("font-weight",i.xAxis_font_weight).style("fill",i.labelColor).style("font-weight",300).style("fill-opacity",.4).style("font-size",Math.max(8,Math.round(a.outerRadius()/25))+"px"),b.selectAll(".vz-y-axis-tick").style("stroke",i.yAxis_line_stroke).style("stroke-width",1).style("opacity",i.yAxis_line_opacity),b.selectAll(".vz-y-axis-tick-label").style("font-size",Math.max(8,Math.round(a.outerRadius()/30))+"px").style("fill",i.labelColor).style("font-weight",200).style("fill-opacity",function(){return i===m.Business?1:.4}),i.background_transition()}}function d(b,c,d){a.selection().selectAll(".vz-line").transition().style("stroke-width",function(){return a.outerRadius()/270}).style("stroke",function(a,b){return i.line_over_stroke(a,b)}).style("opacity",function(a,b){return b==d?1:0}),a.selection().selectAll(".vz-area").transition().style("opacity",function(a,b){return b==d?1:.35}),a.selection().selectAll(".vz-plot").append("circle").attr("class","vz-yAxis-mouseover").attr("cx",0).attr("cy",0).attr("r",function(){return a.radiusScale()(b.y+b.y0)}).style("stroke","#FFF").style("fill","none").style("stroke-dasharray",function(){return a.outerRadius()/80+","+a.outerRadius()/80}),a.selection().selectAll(".vz-y-axis-tick").style("opacity",.1),a.selection().selectAll(".vz-point-tip").remove();var e=d3.select(this);e.append("circle").attr("class","vz-point-tip").attr("r",4).style("fill","#000").style("stroke","#FFF").style("stroke-width",2).style("pointer-events","none")}function e(b,c,d){a.selection().selectAll(".vz-line").transition().style("stroke-width",function(){return a.outerRadius()/450}).style("stroke",function(a,b){return i.line_stroke(a,b)}).style("opacity",function(b,c){return i.line_opacity.apply(a,[b,c])}),a.selection().selectAll(".vz-area").transition().style("opacity",1),a.selection().selectAll(".vz-yAxis-mouseover").remove(),a.selection().selectAll(".vz-point-tip").remove(),a.selection().selectAll(".vz-y-axis-tick").style("opacity",i.yAxis_line_opacity)}function f(){a.yAxis().tickSize(a.outerRadius()).ticks(a.layout()==vizuly.viz.layout.OVERLAP?5:7).orient("left")}function g(){a.selection().selectAll(".vz-background").style("fill-opacity",1),j.selectAll("stop").transition().duration(500).attr("stop-color",function(a,b){return 0==b?i.grad0:i.grad1})}function h(){l.forEach(function(b){a.on(b.on,b.callback)})}var a=a,i=null,j=vizuly.svg.gradient.blend(a,"#000","#000"),k=d3.scale.category20(),l=[{on:"measure.theme",callback:f},{on:"update.theme",callback:c},{on:"mouseover.theme",callback:d},{on:"mouseout.theme",callback:e}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),l.forEach(function(b){a.on(b.on,null)}),a=null)},b.viz=function(b){return arguments.length?(a=b,void h()):a},b.skin=function(a){if(0==arguments.length)return i;if(!m[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return i=m[a],b},b.skins=function(){return m};var m={Fire:{name:"Fire",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:g,line_stroke:function(a,b){return this.stroke_colors[b%5]},line_over_stroke:function(a,b){return d3.rgb(this.stroke_colors[b%5]).brighter()},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.4:.6},area_fill:function(b,c){return"url(#"+vizuly.svg.gradient.radialFade(a,this.fill_colors[c%5],[1,.35]).attr("id")+")"},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.7:.9},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,"class":"vz-skin-default"},Sunset:{name:"Sunset",labelColor:"#D8F433",color:"#02C3FF",stroke_colors:["#CD57A4","#B236A3","#FA6F7F","#FA7C3B","#E96B6B"],fill_colors:["#89208F","#C02690","#D93256","#DB3D0C","#B2180E"],grad1:"#7D1439",grad0:"#000",background_transition:g,line_stroke:function(a,b){return this.stroke_colors[b%5]},line_over_stroke:function(a,b){return d3.rgb(this.stroke_colors[b%5]).brighter()},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.4:.9},area_fill:function(b,c){return"url(#"+vizuly.svg.gradient.radialFade(a,this.fill_colors[c%5],[1,.35]).attr("id")+")"},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.8:1},xAxis_font_weight:200,yAxis_line_stroke:"#D8F433",yAxis_line_opacity:.25,"class":"vz-skin-default"},Ocean:{name:"Ocean",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#001432","#001432","#001432","#001432","#001432"],grad1:"#390E1D",grad0:"#92203A",background_transition:function(b){a.selection().select(".vz-background").transition(1e3).style("fill-opacity",0)},line_stroke:function(a,b){return"#FFF"},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return.3},area_fill:function(b,c){return"url(#"+vizuly.svg.gradient.radialFade(a,"#FFF",[1,.35]).attr("id")+")"},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.2:.7},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,"class":"vz-skin-ocean"},Neon:{name:"Neon",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:g,line_stroke:function(a,b){return"#FFF"},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.2:.4},area_fill:function(a,b){return"#D1F704"},area_fill_opacity:function(b,c){var d=d3.scale.linear().range([.1,.8]).domain([0,a.data().length])(c);return this.layout()==vizuly.viz.layout.OVERLAP?.8*d:d},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,"class":"vz-skin-default"},Business:{name:"Business",labelColor:"#000",color:"#000",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#CCC",grad1:"#CCC",background_transition:g,line_stroke:function(a,b){return d3.rgb(k(b)).darker()},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return.7},area_fill:function(a,b){return k(b)},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.9:.95},xAxis_font_weight:200,yAxis_line_stroke:"#000",yAxis_line_opacity:.25,"class":"vz-skin-default"}};return b},vizuly.skin.HALO_FIRE="Fire",vizuly.skin.HALO_SUNSET="Sunset",vizuly.skin.HALO_NEON="Neon",vizuly.skin.HALO_OCEAN="Ocean",vizuly.theme.halo=function(a){function b(){r()}function c(){if(s&&a){var b=a.selection();b.attr("class",s["class"]),b.selectAll(".vz-background").attr("fill",function(){return"url(#"+t.attr("id")+")"}),b.selectAll(".vz-plot-background").style("opacity",0),b.selectAll(".vz-halo-link-path").style("fill",function(a,b){return s.link_fill(a,b)}).style("fill-opacity",s.link_fill_opacity).style("stroke",function(a,b){return s.link_stroke(a,b)}),b.selectAll(".vz-halo-link-node").style("fill",function(a,b){return s.link_fill(a,b)}).style("fill-opacity",s.link_node_fill_opacity),b.selectAll(".vz-halo-node").style("fill",function(a,b){return s.node_fill(a,b)}).style("stroke",function(a,b){return s.node_stroke(a,b)}).style("stroke-width",function(a,b){return u(a.r)}),b.selectAll(".vz-halo-arc-slice").style("fill",function(a,b){return s.arc_fill(a,b)}),b.selectAll(".vz-halo-arc").style("fill",function(a,b){return s.arc_fill(a,b)}),s.background_transition()}}function d(b,c,d){h(),n(d3.select(b)),i(a.selection().selectAll(".vz-halo-link-path.halo-key_"+c.data.key)),c.data.values.forEach(function(b){k(a.selection().selectAll(".vz-halo-node.node-key_"+a.nodeKey()(b)))})}function e(b,c,d){h(),i(d3.select(b.parentNode).selectAll(".vz-halo-link-path")),n(a.selection().selectAll(".vz-halo-arc.halo-key_"+a.haloKey()(c.data))),m(d3.select(b.parentNode).selectAll(".vz-halo-arc-slice")),j(a.selection().selectAll(".vz-halo-node.node-key_"+a.nodeKey()(c.data))),l(d3.select(b.parentNode).selectAll("circle"))}function f(b,c,d){h();var e=a.selection().selectAll(".vz-halo-link-path.node-key_"+c.key);e.each(function(b){var c=a.selection().selectAll(".vz-halo-arc.halo-key_"+a.haloKey()(b.data));n(c)}),i(e),m(a.selection().selectAll(".vz-halo-arc-slice.node-key_"+c.key)),l(a.selection().selectAll(".vz-halo-node.node-key_"+c.key))}function g(a,b,c){o()}function h(){a.selection().selectAll(".vz-halo-node").style("fill-opacity",.1).style("stroke-opacity",.05),a.selection().selectAll(".vz-halo-link-node").style("fill-opacity",0),a.selection().selectAll(".vz-halo-link-path").style("fill-opacity",.025)}function i(a){a.style("fill-opacity",.6).style("stroke-opacity",.25)}function j(a){a.style("stroke-opacity",.8).style("stroke",function(a,b){return s.node_over_stroke(a,b)})}function k(a){a.style("fill-opacity",.8).style("stroke-opacity",.5).style("stroke",function(a,b){return s.node_over_stroke(a,b)})}function l(a){a.style("fill-opacity",.5).style("stroke-opacity",.7).style("stroke",function(a,b){return s.node_over_stroke(a,b)})}function m(a){a.style("fill-opacity",.8).style("stroke-opacity",.8)}function n(a){a.style("fill-opacity",.65).style("stroke-opacity",.8).style("fill",function(a,b){return s.arc_over_fill(a,b)})}function o(){a.selection().selectAll(".vz-halo-arc").style("fill-opacity",null).style("stroke-opacity",null).style("fill",function(a,b){return s.arc_fill(a,b)}),a.selection().selectAll(".vz-halo-node").style("fill-opacity",null).style("stroke-opacity",null).style("stroke",function(a,b){return s.node_stroke(a,b)}),a.selection().selectAll(".vz-halo-link-node").style("fill-opacity",s.link_node_fill_opacity).style("stroke",null),a.selection().selectAll(".vz-halo-link-path").style("fill-opacity",s.link_fill_opacity).style("stroke-opacity",null),a.selection().selectAll(".vz-halo-arc-slice").style("fill-opacity",null).style("stroke-opacity",null)}function p(){var b=Math.min(a.width(),a.height()/2);u.domain([0,b/20]),u.range([0,b/80])}function q(){a.selection().selectAll(".vz-background").style("fill-opacity",1),t.selectAll("stop").transition().duration(500).attr("stop-color",function(a,b){return 0==b?s.grad0:s.grad1})}function r(){v.forEach(function(b){a.on(b.on,b.callback)})}var a=a,s=null,t=vizuly.svg.gradient.blend(a,"#000","#000"),u=d3.scale.linear(),v=[{on:"measure.theme",callback:p},{on:"update.theme",callback:c},{on:"nodeover.theme",callback:f},{on:"nodeout.theme",callback:g},{on:"arcover.theme",callback:d},{on:"arcout.theme",callback:g},{on:"linkover.theme",callback:e},{on:"linkout.theme",callback:g}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),v.forEach(function(b){a.on(b.on,null)}),a=null)},b.viz=function(b){return arguments.length?(a=b,void r()):a},b.skin=function(a){if(0==arguments.length)return s;if(!w[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return s=w[a],b},b.skins=function(){return w};var w={Fire:{name:"Fire",labelColor:"#FFF",labelFill:"#C50A0A",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:q,link_stroke:function(a,b){return this.stroke_colors[b%5]},link_fill:function(a,b){return this.fill_colors[b%5]},link_fill_opacity:.1,link_node_fill_opacity:.1,node_stroke:function(a,b){return this.stroke_colors[b%5]},node_over_stroke:function(a,b){return"#FFF"},node_fill:function(a,b){return this.fill_colors[b%5]},arc_stroke:function(a,b){return"#FFF"},arc_fill:function(a,b){return this.fill_colors[b%5]},arc_over_fill:function(a,b){return"#FFEB3B"},"class":"vz-skin-fire"},Sunset:{name:"Sunset",labelColor:"#FFF",labelFill:"#00236C",stroke_colors:["#CD57A4","#B236A3","#FA6F7F","#FA7C3B","#E96B6B"],fill_colors:["#89208F","#C02690","#D93256","#DB3D0C","#B2180E"],grad0:"#220910",grad1:"#571825",background_transition:q,link_stroke:function(a,b){return this.stroke_colors[b%5]},link_fill:function(a,b){return this.fill_colors[b%5]},link_fill_opacity:.2,link_node_fill_opacity:.5,node_stroke:function(a,b){return this.stroke_colors[b%5]},node_over_stroke:function(a,b){return"#FFF"},node_fill:function(a,b){return this.fill_colors[b%5]},arc_stroke:function(a,b){return"#FFF"},arc_fill:function(a,b){return this.fill_colors[b%5]},arc_over_fill:function(a,b){return"#00236C"},"class":"vz-skin-sunset"},Neon:{name:"Neon",labelColor:"#FFF",labelFill:"#005",grad0:"#000000",grad1:"#474747",background_transition:q,link_stroke:function(a,b){return"#D1F704"},link_fill:function(a,b){return"#D1F704"},link_fill_opacity:.1,link_node_fill_opacity:.1,node_stroke:function(a,b){return"#D1F704"},node_over_stroke:function(a,b){return"#FFF"},node_fill:function(a,b){return"#FFF"},arc_stroke:function(a,b){return"#FFF"},arc_fill:function(a,b){return"#D1F704"},arc_over_fill:function(a,b){return"#03F"},"class":"vz-skin-neon"},Ocean:{name:"Ocean",labelColor:"#FFF",labelFill:"#000",background_transition:function(b){a.selection().select(".vz-background").transition(1e3).style("fill-opacity",0)},link_stroke:function(a,b){return"#FFF"},link_fill:function(a,b){return"#FFF"},link_fill_opacity:.075,link_node_fill_opacity:.075,node_stroke:function(a,b){return"#FFF"},node_over_stroke:function(a,b){return"#FFF"},node_fill:function(a,b){return"#FFF"},arc_stroke:function(a,b){return"#FFF"},arc_fill:function(a,b){return"#FFF"},arc_over_fill:function(a,b){return"#000"},"class":"vz-skin-ocean"}};return b},vizuly.skin.LINEAREA_AXIIS="Axiis",vizuly.skin.LINEAREA_NEON="Neon",vizuly.skin.LINEAREA_FIRE="Fire",vizuly.skin.LINEAREA_OCEAN="Ocean",vizuly.skin.LINEAREA_SUNSET="Sunset",vizuly.skin.LINEAREA_BUSINESS="Business",vizuly.theme.linearea=function(a){function b(){h()}function c(){if(i&&null!=i){var b=a.width(),c=a.height(),d=a.selection();d.attr("class",i["class"]),d.selectAll(".vz-background").attr("fill",function(){return"url(#"+j.attr("id")+")"}),d.selectAll(".vz-plot-background").style("opacity",0),d.selectAll(".vz-area").style("fill",function(a,b){return i.area_fill(a,b)}).style("fill-opacity",function(b,c){return i.area_fill_opacity.apply(a,[b,c])}),d.selectAll(".vz-line").style("stroke-width",function(){return c/450}).style("stroke",function(a,b){return i.line_stroke(a,b)}).style("opacity",function(b,c){return i.line_opacity.apply(a,[b,c])}),d.selectAll(".vz-data-point").style("opacity",0),d.selectAll(".vz-bottom-axis").style("font-weight",i.xAxis_font_weight).style("fill",i.labelColor).style("font-weight",300).style("fill-opacity",.8).style("font-size",Math.max(8,Math.round(b/65))+"px").style("opacity",function(){return b>399?1:0}),d.selectAll(".vz-left-axis line").style("stroke",i.yAxis_line_stroke).style("stroke-width",1).style("opacity",i.yAxis_line_opacity),d.selectAll(".vz-left-axis text").style("font-size",Math.max(8,Math.round(b/65))+"px").style("fill",i.labelColor).style("fill-opacity",.8),i.background_transition()}}function d(b,c,d){a.selection().selectAll(".vz-line").transition().style("stroke",function(a,b){return i.line_over_stroke(a,b)}).style("opacity",function(a,b){return b==d?1:0}),a.selection().selectAll(".vz-area").transition().style("opacity",function(a,b){return b==d?1:.35}),a.selection().selectAll(".vz-point-tip").remove();var e=d3.select(this);e.append("circle").attr("class","vz-point-tip").attr("r",4).style("fill","#000").style("stroke","#FFF").style("stroke-width",2).style("pointer-events","none")}function e(b,c,d){a.selection().selectAll(".vz-line").transition().style("stroke",function(a,b){return i.line_stroke(a,b)}).style("opacity",function(b,c){return i.line_opacity.apply(a,[b,c])}),a.selection().selectAll(".vz-area").transition().style("opacity",1),a.selection().selectAll(".vz-point-tip").remove()}function f(){a.yAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).width).ticks(5).orient("left"),a.xAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).width)}function g(){a.selection().selectAll(".vz-background").style("fill-opacity",1),j.selectAll("stop").transition().duration(500).attr("stop-color",function(a,b){return 0==b?i.grad0:i.grad1})}function h(){l.forEach(function(b){a.on(b.on,b.callback)})}var a=a,i=null,j=vizuly.svg.gradient.blend(a,"#000","#000"),k=d3.scale.category20(),l=[{on:"measure.theme",callback:f},{on:"update.theme",callback:c},{on:"mouseover.theme",callback:d},{on:"mouseout.theme",callback:e}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),l.forEach(function(b){a.on(b.on,null)}),a=null)},b.viz=function(b){return arguments.length?(a=b,void h()):a},b.skin=function(a){if(0==arguments.length)return i;if(!m[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return i=m[a],b},b.skins=function(){return m};var m={Fire:{name:"Fire",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:g,line_stroke:function(a,b){return this.stroke_colors[b%5]},line_over_stroke:function(a,b){return d3.rgb(this.stroke_colors[b%5]).brighter()},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.6:.8},area_fill:function(b,c){return"url(#"+vizuly.svg.gradient.fade(a,this.fill_colors[c%5],"vertical",[.35,1]).attr("id")+")"},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.7:.9},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,data_point_stroke:function(a,b){return this.stroke_colors[b%5]},data_point_fill:function(a,b){return"#FFF"},"class":"vz-skin-default"},Sunset:{name:"Sunset",labelColor:"#D8F433",color:"#02C3FF",stroke_colors:["#CD57A4","#B236A3","#FA6F7F","#FA7C3B","#E96B6B"],fill_colors:["#89208F","#C02690","#D93256","#DB3D0C","#B2180E"],grad1:"#390E1D",grad0:"#92203A",background_transition:g,line_stroke:function(a,b){return this.stroke_colors[b%5]},line_over_stroke:function(a,b){return d3.rgb(this.stroke_colors[b%5]).brighter()},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.4:.9},area_fill:function(b,c){return"url(#"+vizuly.svg.gradient.fade(a,this.fill_colors[c%5],"vertical",[.5,1]).attr("id")+")"},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.8:1},xAxis_font_weight:200,yAxis_line_stroke:"#D8F433",yAxis_line_opacity:.25,"class":"vz-skin-default"},Ocean:{name:"Ocean",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#001432","#001432","#001432","#001432","#001432"],grad1:"#390E1D",grad0:"#92203A",background_transition:function(b){a.selection().select(".vz-background").transition(1e3).style("fill-opacity",0)},line_stroke:function(a,b){return"#000"},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return.3},area_fill:function(a,b){return"#FFF"},area_fill_opacity:function(b,c){return(c+1)/a.data().length*(this.layout()==vizuly.viz.layout.OVERLAP?.8:.85)},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,"class":"vz-skin-ocean"},Neon:{name:"Neon",labelColor:"#FFF",color:"#02C3FF",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:g,line_stroke:function(a,b){return"#FFF"},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return this.layout()==vizuly.viz.layout.STREAM?.4:.6},area_fill:function(a,b){return"#D1F704"},area_fill_opacity:function(a,b){return(b+1)/this.data().length*(this.layout()==vizuly.viz.layout.OVERLAP?.6:.8)},xAxis_font_weight:200,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,"class":"vz-skin-default"},Business:{name:"Business",labelColor:"#000",color:"#000",stroke_colors:["#FFA000","#FF5722","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#CCC",grad1:"#EEE",background_transition:g,line_stroke:function(a,b){return d3.rgb(k(b)).darker()},line_over_stroke:function(a,b){return"#FFF"},line_opacity:function(a,b){return.7},area_fill:function(a,b){return k(b)},area_fill_opacity:function(a,b){return this.layout()==vizuly.viz.layout.OVERLAP?.8:.9},xAxis_font_weight:200,yAxis_line_stroke:"#000",yAxis_line_opacity:.25,"class":"vz-skin-default"}};return b},vizuly.theme.radial_progress=function(a){function b(){f()}function c(){if(j){var b=a.selection();b.attr("class",j["class"]),b.selectAll(".vz-radial_progress-arc").style("fill",function(a,b){return j.arc_fill(a,b)}).style("fill-opacity",function(a,b){return j.arc_fill_opacity(a,b)}).style("stroke",function(a,b){return j.arc_stroke(a,b)}),b.selectAll(".vz-radial_progress-track").style("fill",j.track_fill),b.selectAll(".vz-radial_progress-label").style("fill",j.label_color).style("stroke-opacity",0).style("font-size",.25*a.radius())}}function d(b,c,d){a.selection().selectAll(".vz-radial_progress-label").style("font-weight",700)}function e(b,c,d){a.selection().selectAll(".vz-radial_progress-label").style("font-weight",null)}function f(){i.forEach(function(b){a.on(b.on,b.callback)})}function g(){i.forEach(function(b){a.on(b.on,null)})}var h={Alert:{name:"Alert",label_color:"#CCC",track_fill:"#DDDDDD",progress_colors:["#4CAF50","#FFC107","#FF9800","#E64A19","#FFEB3B"],arc_fill:function(a,b){return this.progress_colors[b%5]},arc_fill_opacity:function(a,b){return 1},arc_stroke:function(a,b){return this.progress_colors[b%5]},"class":"vz-skin-alert"},Fire:{name:"Fire",label_color:"#F13870",track_fill:"#DDDDDD",progress_colors:["#C50A0A","#F57C00","#FF9800","#FFEB3B","#C2185B"],arc_fill:function(a,b){return this.progress_colors[b%5]},arc_fill_opacity:function(a,b){return 1},arc_stroke:function(a,b){return this.progress_colors[b%5]},"class":"vz-skin-fire"},White:{name:"White",label_color:"#FFF",track_fill:null,arc_fill:function(a,b){return"#FFF"},arc_fill_opacity:function(a,b){return.85/Math.exp(.75*b)},arc_stroke:function(a,b){return"#FFF"},"class":"vz-skin-white"},Neon:{name:"Neon",label_color:"#D1F704",track_fill:"#000",progress_colors:["#D1F704","#A8C102","#788A04","#566204","#383F04"],arc_fill:function(a,b){return this.progress_colors[b%5]},arc_fill_opacity:function(a,b){return 1},arc_stroke:function(a,b){return this.progress_colors[b%5]},"class":"vz-skin-neon"},Business:{name:"Business",label_color:"#EEE",track_fill:"#DDDDDD",progress_colors:d3.scale.category20(),arc_fill:function(a,b){return this.progress_colors(b)},arc_fill_opacity:function(a,b){return 1},arc_stroke:function(a,b){return this.progress_colors(b)},"class":"vz-skin-business"}},a=a,i=[{on:"update.theme",callback:c},{on:"mouseover.theme",callback:d},{on:"mouseout.theme",callback:e}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),g(),a=null)},b.viz=function(b){return arguments.length?(a&&g(),a=b,void f()):a},b.skin=function(a){if(0==arguments.length)return j;if(!h[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return j=h[a],b},b.skins=function(){return h};var j=h[vizuly.skin.RADIAL_PROGRESS_BUSINESS];return b},vizuly.skin.RADIAL_PROGRESS_FIRE="Fire",vizuly.skin.RADIAL_PROGRESS_MATERIAL="Material",vizuly.skin.RADIAL_PROGRESS_NEON="Neon",vizuly.skin.RADIAL_PROGRESS_OCEAN="Ocean",vizuly.skin.RADIAL_PROGRESS_ALERT="Alert",vizuly.skin.RADIAL_PROGRESS_BUSINESS="Business",vizuly.theme.range_input=function(a){function b(){f()}function c(){if(j){var b=a.selection();b.attr("class",j["class"]),b.selectAll(".vz-range_input-handle").style("cursor","pointer"),b.selectAll(".vz-range_input-centerpane").style("cursor","pointer"),b.selectAll(".vz-range_input-track").style("opacity",0)}}function d(a,b,c){}function e(a,b,c){}function f(){i.forEach(function(b){a.on(b.on,b.callback)})}function g(){i.forEach(function(b){a.on(b.on,null)})}var h={Default:{name:"Default",label_color:"#CCC"}},a=a,i=[{on:"update.theme",callback:c},{on:"mouseover.theme",callback:d},{on:"mouseout.theme",callback:e}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),g(),a=null)},b.viz=function(b){return arguments.length?(a&&g(),a=b,void f()):a},b.skin=function(a){if(0==arguments.length)return j;if(!h[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return j=h[a],b},b.skins=function(){return h};var j=h.Default;return b},vizuly.skin.SCATTER_NEON="Neon",vizuly.skin.SCATTER_FIRE="Fire",vizuly.skin.SCATTER_OCEAN="Ocean",vizuly.skin.SCATTER_SUNSET="Sunset",vizuly.skin.SCATTER_BUSINESS="Business",vizuly.theme.scatter=function(a){function b(){h()}function c(){if(i){var b=a.width(),c=Math.min(a.width(),a.height())/80,d=a.selection();d.attr("class",i["class"]),d.selectAll(".vz-background").attr("fill",function(){return"url(#"+j.attr("id")+")"}),d.selectAll(".vz-plot-background").style("opacity",0),d.selectAll(".vz-scatter-bottom-axis").style("font-weight",i.xAxis_font_weight).style("fill",i.labelColor).style("font-size",Math.max(8,Math.round(b/85))+"px").style("opacity",function(){return b>399?1:0}),d.selectAll(".vz-scatter-left-axis line").style("stroke",i.yAxis_line_stroke).style("stroke-width",1).style("opacity",i.yAxis_line_opacity),d.selectAll(".vz-scatter-left-axis text").style("font-size",Math.max(8,Math.round(b/85))+"px").style("fill",i.labelColor).style("fill-opacity",.6),d.selectAll(".vz-scatter-node").style("stroke-width",c).style("stroke-opacity",0).style("stroke",function(a,b){return i.node_stroke(a,b)}).style("fill",function(a,b){return i.node_fill(a,b)}).style("fill-opacity",function(a,b){return i.node_fill_opacity(a,b)}),i.background_transition()}}function d(){a.yAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).width).orient("left"),a.xAxis().tickSize(-vizuly.core.util.size(a.margin(),a.width(),a.height()).width)}function e(b,c,d){a.selection().selectAll(".vz-scatter-node").style("opacity",.15),d3.select(b).style("opacity",1).style("stroke-opacity",.5).style("fill-opacity",.9),l.mouseover(b,c,d)}function f(b,c,d){d3.select(b).style("opacity",1).style("fill-opacity",function(a,b){return i.node_fill_opacity(a,b)}),a.selection().selectAll(".vz-scatter-node").style("stroke-opacity",0).style("opacity",1)}function g(){a.selection().selectAll(".vz-background").style("fill-opacity",1),j.selectAll("stop").transition().duration(500).attr("stop-color",function(a,b){return 0==b?i.grad0:i.grad1})}function h(){k.forEach(function(b){a.on(b.on,b.callback)})}var a=a,i=null,j=vizuly.svg.gradient.blend(a,"#000","#000"),k=[{on:"measure.theme",callback:d},{on:"update.theme",callback:c},{on:"mouseover.theme",callback:e},{on:"mouseout.theme",callback:f}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(a.selection().attr("class",null),k.forEach(function(b){a.on(b.on,null)}),a=null)},b.viz=function(b){return arguments.length?(a=b,void h()):a},b.skin=function(a){if(0==arguments.length)return i;if(!m[a])throw new Error("theme/linearea.js - skin "+a+" does not exist.");return i=m[a],b},b.skins=function(){return m};var l=d3.dispatch("mouseover","mouseout");b.on=function(a,c){return l.on(a,c),b};var m={Fire:{name:"Fire",labelColor:"#FFF",labelFill:"#C50A0A",stroke_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],fill_colors:["#C50A0A","#C2185B","#F57C00","#FF9800","#FFEB3B"],grad0:"#000000",grad1:"#474747",background_transition:g,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,node_stroke:function(a,b){return this.stroke_colors[b%5]},node_fill:function(a,b){return this.fill_colors[b%5]},node_fill_opacity:function(a,b){return.5},"class":"vz-skin-fire"},Sunset:{name:"Sunset",labelColor:"#FFF",labelFill:"#00236C",stroke_colors:["#CD57A4","#B236A3","#FA6F7F","#FA7C3B","#E96B6B"],fill_colors:["#89208F","#C02690","#D93256","#DB3D0C","#B2180E"],grad1:"#390E1D",grad0:"#7C1B31",background_transition:g,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,node_stroke:function(a,b){return this.stroke_colors[b%5]},node_fill:function(a,b){return this.fill_colors[b%5]},node_fill_opacity:function(a,b){return.7},"class":"vz-skin-sunset"},Neon:{name:"Neon",labelColor:"#FFF",labelFill:"#005",grad0:"#000000",grad1:"#474747",background_transition:g,yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,node_stroke:function(a,b){return"#FFF"},node_fill:function(a,b){return"#D1F704"},node_fill_opacity:function(a,b){return.6},"class":"vz-skin-neon"},Ocean:{name:"Ocean",labelColor:"#FFF",labelFill:"#000",background_transition:function(b){a.selection().select(".vz-background").transition(1e3).style("fill-opacity",0)},yAxis_line_stroke:"#FFF",yAxis_line_opacity:.25,node_stroke:function(a,b){return"#00F"},node_fill:function(a,b){return"#FFF"},node_fill_opacity:function(a,b){return.4},"class":"vz-skin-ocean"}};return b},vizuly.theme.weighted_tree=function(a){function b(){h()}function c(){if(o){var b=a.selection();j=Math.max(8,Math.round(a.width()/75)),b.selectAll(".vz-weighted_tree-node circle").style("stroke",function(a){return o.node_stroke(a)}).style("stroke-opacity",function(a){return o.node_stroke_opacity(a)}).style("fill",function(a){return o.node_fill(a)}).style("fill-opacity",function(a){return o.node_fill_opacity(a)}),b.selectAll(".vz-weighted_tree-node text").style("font-size",o.font_size()).style("fill",o.label_color).style("fill-opacity",function(a){return o.text_fill_opacity(a)}),b.selectAll(".vz-weighted_tree-link").style("stroke",function(a){return o.link_stroke(a)}).style("stroke-opacity",function(a){return o.link_stroke_opacity(a)})}}function d(){if(o&&a.data()){var b=a.data();a.children()(b).forEach(function(a,b){a.vz_link_color=o.link_colors[b%o.link_colors.length],e(a)}),l=!1,m=!1}}function e(b){a.children()(b)&&a.children()(b).forEach(function(a){a.vz_link_color=b.vz_link_color,e(a)})}function f(b,c,d){var e=a.selection();e.selectAll(".vz-id-"+c.vz_tree_id+" circle").style("fill-opacity",.9),e.selectAll("path.vz-id-"+c.vz_tree_id).style("stroke-opacity",.8),e.selectAll(".vz-id-"+c.vz_tree_id+" text").transition().style("font-size",1.25*j).style("font-weight","bold")}function g(b,c,d){var e=a.selection();e.selectAll(".vz-weighted_tree-node circle").style("fill",function(a){return o.node_fill(a)}).style("fill-opacity",function(a){return o.node_fill_opacity(a)}),e.selectAll(".vz-weighted_tree-node text").transition().style("font-size",j).style("font-weight","normal"),e.selectAll(".vz-weighted_tree-link").style("stroke-opacity",function(a){return o.link_stroke_opacity(a)})}function h(){n.forEach(function(b){a.on(b.on,b.callback)})}function i(){n.forEach(function(b){a.on(b.on,null)})}var j,k={Axiis:{name:"Axiis",label_color:"#333",link_colors:["#bd0026","#fecc5c","#fd8d3c","#f03b20","#B02D5D","#9B2C67","#982B9A","#692DA7","#5725AA","#4823AF","#d7b5d8","#dd1c77","#5A0C7A","#5A0C7A"],link_stroke:function(a,b){return a.target.vz_link_color},link_stroke_opacity:function(b,c){return a.value()(b.target)<=0?.15:.35},node_fill:function(a,b){return a.vz_link_color},node_fill_opacity:function(b,c){return a.value()(b)<=0?.15:.4},node_stroke:function(a,b){return a.vz_link_color},node_stroke_opacity:function(a,b){return.6},text_fill_opacity:function(b,c){return a.value()(b)<=0?.35:1},font_size:function(){return j+"px"}},None:{name:"None",label_color:null,link_colors:["#bd0026","#fecc5c","#fd8d3c","#f03b20","#B02D5D","#9B2C67","#982B9A","#692DA7","#5725AA","#4823AF","#d7b5d8","#dd1c77","#5A0C7A","#5A0C7A"],link_stroke:function(a,b){return null},link_stroke_opacity:function(a,b){return null},node_fill:function(a,b){return null},node_fill_opacity:function(a,b){return null},node_stroke:function(a,b){return null},node_stroke_opacity:function(a,b){return null},text_fill_opacity:function(a,b){return null},font_size:function(){return null}}},a=a,l=!0,m=!0,n=[{on:"update.theme",callback:c},{on:"data_prepped.theme",callback:d},{on:"mouseover.theme",callback:f},{on:"mouseout.theme",callback:g}];b(),b.apply=function(a){return arguments.length>0&&b.skin(a),c(),b},b.release=function(){a&&(o=k.None,c(),i(),a=null)},b.viz=function(b){return arguments.length?(a&&i(),a=b,void h()):a},b.skin=function(a){if(0==arguments.length)return o;if(!k[a])throw new Error("theme/weightedtree.js - skin "+a+" does not exist.");return l=!0,o=k[a],b},b.skins=function(){return k};var o=k[vizuly.skin.WEIGHTED_TREE_AXIIS];return b},vizuly.skin.WEIGHTED_TREE_AXIIS="Axiis",vizuly.ui.range_input=function(a){function b(){l=h.selection.append("svg").attr("id",h.id).style("overflow","auto").attr("class","vizuly"),m=vizuly.core.util.getDefs(j),n=l.append("rect").attr("class","vz-background"),o=l.append("g").attr("class","vz-range_input"),p=o.append("g").attr("class","vz-plot"),v=p.append("rect").attr("class","vz-range_input-track"),s=p.append("rect").attr("class","vz-range_input-sidepane"),t=p.append("rect").attr("class","vz-range_input-centerpane"),u=p.append("rect").attr("class","vz-range_input-sidepane"),q=p.append("rect").attr("class","vz-range_input-handle"),r=p.append("rect").attr("class","vz-range_input-handle"),q.call(z),r.call(A),t.call(B),h.dispatch.initialize()}function c(){j.validate(),k=vizuly.core.util.size(h.margin,h.width,h.height),y.range([0,k.width]),y.domain(h.domain),w=Math.round(k.height*h.trackHeight),x=h.handleWidth,h.dispatch.measure()}function d(){c(),l.attr("width",h.width).attr("height",h.height),n.attr("width",h.width).attr("height",h.height),p.style("width",k.width).style("height",k.height).attr("transform","translate("+k.left+","+k.top+")"),v.attr("width",k.width).attr("height",w).attr("y",(k.height-w)/2),q.attr("width",x).attr("height",k.height).attr("x",y(h.data[0])),r.attr("width",x).attr("height",k.height).attr("x",y(h.data[1])),s.attr("width",y(h.data[0])).attr("height",k.height),u.attr("width",k.width-y(h.data[1])).attr("height",k.height).attr("x",y(h.data[1])),t.attr("width",y(h.data[1])-y(h.data[0])).attr("height",k.height).attr("x",y(h.data[0])),h.dispatch.update()}function e(){var a=y.invert(d3.event.x);a=Math.min(h.data[1]-y.invert(x),Math.max(a,h.domain[0])),h.data[0]=a,h.dispatch.change(j),d()}function f(){var a=y.invert(d3.event.x);a=Math.max(h.data[0]+y.invert(x),Math.min(a,h.domain[1])),h.data[1]=a,h.dispatch.change(j),d()}function g(){var a=y.invert(d3.event.dx)+h.data[0];a=Math.min(h.data[1],Math.max(a,h.domain[0]));var b=h.data[1]-h.data[0];a=Math.min(h.domain[1]-b,a),h.data[0]=a,h.data[1]=a+b,h.dispatch.change(j),d()}var h={},i={data:[.25,.75],margin:{top:"10%",bottom:"7%",left:"8%",right:"7%"},domain:[0,1],duration:500,width:300,height:300,handleWidth:3,trackHeight:.1},j=vizuly.core.component(a,h,i,["change","handleOver","handleOut"]);j.type="viz.ui.range_input";var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=d3.scale.linear(),z=d3.behavior.drag(),A=d3.behavior.drag(),B=d3.behavior.drag();return z.on("drag",e),A.on("drag",f),B.on("drag",g),b(),j.update=function(){return d(),j},j};var data=stm_data;var id_i=0;function createIDs(o){o.id=id_i;id_i=id_i+1;if(o.children){for(i in o.children){o.id=id_i;id_i=id_i+1;createIDs(o.children[i])}}}createIDs(data);
</script>
<script>
		function computeClustProportions(o) {
    if (o.this_root) {
        for (var i in o.children) {
            if (!o.children[i].proportion)
                computeClustProportions(o.children[i])
        }
    } else if (!o.proportion) {
        var clust_proportion = 0;
        for (var i in o.children) {
            clust_proportion += computeClustProportions(o.children[i])
        }
        o.proportion = clust_proportion;
        return clust_proportion
    } else if (o.proportion) {
        return Number(o.proportion)
    }
}

function combineMetrics(prob, frex, lift, score) {
    combined = [...frex.slice().split(', '), ...lift.slice().split(', '), ...prob.slice().split(', '), ...score.slice().split(', ')]
    result = {};
    for (var i = 0; i < combined.length; ++i) {
        if (!result[combined[i]])
            result[combined[i]] = 0;
        weight = 7 - i % 7 + 1
        result[combined[i]] += weight
    }
    return (Object.keys(result).sort(function(a, b) {
        return result[b] - result[a]
    }).join(', '))
}
var labels = {
    'topics': {},
    'clusters': {}
}
clustCount = 1;

function initLabels(o) {
    if (o.children) {
        if (!o.this_root) {
            labels.clusters[o.id.toString()] = {
                id: o.id,
                topics: o.topic_no,
                clustNum: clustCount,
                name: o.name.toString()
            };
            clustCount = clustCount + 1
        }
        for (var i in o.children) {
            initLabels(o.children[i])
        }
    } else {
        labels.topics[o.topic_no] = {
            name: o.name.toString(),
            combined: combineMetrics(o.prob[0], o.frex[0], o.lift[0], o.score[0]),
            prevalence: parseFloat(o.proportion[0])
        }
    }
}

function findWords(o) {
    if (o.children) {
        if (!o.this_root) {
            topic_prevalences = [];
            for (var i = 0; i < o.topic_no.length; i++) {
                topic_prevalences.push(labels.topics[o.topic_no[i]].prevalence)
            }
            sorted_prevs = topic_prevalences.slice().sort().reverse()
            duplicates = !0
            while (duplicates) {
                duplicates = !1
                for (var i = 0; i < sorted_prevs.length; i++) {
                    if (sorted_prevs[i] == sorted_prevs[i + 1]) {
                        to_add = 1
                        if (i > 0 && sorted_prevs[i] == Math.round(100 * sorted_prevs[i - 1]) / 100) {
                            to_add = (10000 * (sorted_prevs[i - 1] - sorted_prevs[i])) + 1
                        }
                        to_add *= 0.0001
                        topic_prevalences[topic_prevalences.indexOf(sorted_prevs[i])] = topic_prevalences[topic_prevalences.indexOf(sorted_prevs[i])] + to_add
                        sorted_prevs[i] = sorted_prevs[i] + to_add
                    }
                }
            }
            num_words_per_topic = Math.ceil(8 / o.topic_no.length)
            cluster_words = new Array(num_words_per_topic * o.topic_no.length)
            for (j = 0; j < num_words_per_topic; j++) {
                for (i = 0; i < o.topic_no.length; i++) {
                    ith_top_topic = topic_prevalences.indexOf(sorted_prevs[i])
                    cluster_words[i + j * o.topic_no.length] = labels.topics[o.topic_no[ith_top_topic]].combined.split(', ').slice(j, j + 1).toString()
                }
            }
            labels.clusters[o.id.toString()].words = cluster_words.slice(0, 8).join(', ')
        }
        for (var i in o.children) {
            findWords(o.children[i])
        }
    }
}
initLabels(data);
findWords(data);

function trimLabel(label) {
    return label
    // return (String(label).length >= 18) ? String(label).substr(0, 16).trim() + "…" : label
}
var width_left;
vizuly.viz.weighted_tree = function(parent) {
    var scope = {};
    var properties = {
        "data": null,
        "margin": {
            "top": "20%",
            "bottom": "25%",
            "left": "13%",
            "right": "30%"
        },
        "width": 1280,
        "height": 900,
        "key": null,
        "tree": d3.layout.tree(),
        "children": null,
        "duration": 500,
        "value": null,
        "label": labelFunction,
        "branchPadding": -1,
        "fixedSpan": -1
    };
    var labelFunction = function(d, i) {
        return d
    };
    var viz = vizuly.core.component(parent, scope, properties, ['node_refresh', 'data_prepped']);
    viz.type = "viz.chart.weighted_tree";
    var dataIsDirty = !0;
    var refreshNeeded = !1;
    viz.on("data_change.internal", onDataChanged);
    var size;
    var tree = scope.tree;
    var nodeScale = d3.scale.sqrt();
    var root, nodes;
    var depthSpan;
    var maxDepth;
    var maxValues = {};
    var minValues = {};
    var diagonal = d3.svg.diagonal().projection(function(d) {
        return [d.y, d.x]
    });
    var nodeRadius = function(node) {
        if (node.depth == 0) return 95;
        return (Math.max(scope.value(node) * 100, 10))
    }
    var svg, g, background, plot, plotBackground, linkPlot, nodePlot, defs;
    initialize();

    function initialize() {
        scope.selection.attr("class", "vz-weighted_tree-viz");
        svg = scope.selection.append("svg").attr("id", scope.id).style("overflow", "auto").attr("class", "vizuly vz-weighted_tree-viz");
        defs = vizuly.core.util.getDefs(viz);
        background = svg.append("g").attr("class", "vz-background");
        g = svg.append("g").attr("class", "vz-weighted_tree-viz");
        plot = g.append("g").attr("class", "vz-weighted_tree-plot");
        plotBackground = plot.append("rect").attr("class", "vz-plot-background");
        linkPlot = plot.append("g").attr("class", "vz-weighted_tree-link-plot");
        nodePlot = plot.append("g").attr("class", "vz-weighted_tree-node-plot");
        scope.dispatch.initialize()
    }

    function measure() {
        viz.validate();
        size = vizuly.core.util.size(scope.margin, scope.width, scope.height * 0.6);
        tree.size([size.height, size.width]);
        if (dataIsDirty == !0 || refreshNeeded) {
            refreshData();
            if (dataIsDirty == !0) {
                function collapse(d) {
                    if (d.children) {
                        d._children = d.children;
                        d._children.forEach(collapse);
                        d.children = null
                    }
                }
                root.children.forEach(collapse)
            }
            dataIsDirty = !1;
            refreshNeeded = !1
        }
        var scale;
        if (scope.branchPadding == -1) {
            scale = Math.min(size.height, size.width) / scope.children(scope.data).length
        } else {
            scale = Math.min(size.height, size.width) * scope.branchPadding
        }
        nodeScale.range([1.5, scale / 2]);
        tree.nodeSize([scale, 0]);
        depthSpan = (scope.fixedSpan > 0) ? scope.fixedSpan : size.width / (maxDepth + 1);
        for (var i = 1; i < maxDepth + 1; i++) {
            var vals = nodes.filter(function(d) {
                return d.depth == i
            });
            maxValues[i] = d3.max(vals, function(d) {
                return scope.value(d)
            });
            minValues[i] = d3.min(vals, function(d) {
                return scope.value(d)
            })
        }
        scope.dispatch.measure()
    }

    function refreshData() {
        function setChildren(node) {
            if (scope.children(node)) {
                if (!node._children) {
                    node.children = scope.children(node);
                    node.children.forEach(function(d) {
                        d.x0 = node.x;
                        d.y0 = node.y;
                        setChildren(d)
                    })
                }
            }
        }
        maxDepth = 0;
        setChildren(scope.data);
        root = scope.data;
        root.x0 = 0;
        root.y0 = 0;
        nodes = tree.nodes(root).reverse();
        nodes.forEach(function(node) {
            if (node.depth == 0) return;
            if (!maxValues[node.depth]) {
                maxValues[node.depth] = -Infinity;
                minValues[node.depth] = Infinity
            }
            maxDepth = Math.max(maxDepth, node.depth)
        })
        scope.dispatch.data_prepped()
    }

    function onDataChanged() {
        dataIsDirty = !0
    }

    function update(refresh) {
        measure();
        svg.attr("width", scope.width).attr("height", scope.height);
        background.attr("width", scope.width).attr("height", scope.height);
        plot.style("width", size.width).style("height", size.height).attr("transform", "translate(" + size.left * 1.5 + "," + (size.top + size.height / 1.8) + ")");
        width_left = size.left * 1.5
        updateNode(root)
    }

    function updateNode(rootNode) {
        var nodes = tree(root).reverse();
        var links = tree.links(nodes);
        positionNodes(rootNode, nodes);
        var node = nodePlot.selectAll(".vz-weighted_tree-node").data(nodes, function(d) {
            return d.vz_tree_id || (d.vz_tree_id = scope.key(d))
        });
        var nodeEnter = node.enter().append("g").attr("class", function(d) {
            return "vz-weighted_tree-node vz-id-" + d.vz_tree_id
        }).attr("transform", function(d) {
            var y = d.y0 ? d.y0 : rootNode.y0;
            var x = d.x0 ? d.x0 : rootNode.x0;
            return "translate(" + y + "," + x + ")"
        }).on("click", function(d, i) {
            scope.dispatch.click(this, d, i)
        }).on("dblclick", function(d, i) {
            scope.dispatch.dblclick(this, d, i)
        }).on("mouseover", function(d, i) {
            scope.dispatch.mouseover(this, d, i)
        }).on("mouseout", function(d, i) {
            scope.dispatch.mouseout(this, d, i)
        });
        nodeEnter.append("text").attr("x", function(d) {
            return -15
        }).attr("dy", function(d) {
            if (!scope.value(d))
                return (-1)
            if (scope.value(d) <= 0.1)
                return (-15);
            x = scope.value(d)
            t = -496.6646657 * Math.pow(x, 4) + 915.0415264 * Math.pow(x, 3) - 560.372921 * Math.pow(x, 2) + 29.462983 * x - 13.84740307
            return (t)
        }).attr("text-anchor", function(d) {
            return d.children || "start"
        }).attr("id", function(d) {
            return "node_" + scope.key(d) + '_text'
        }).style("pointer-events", "none").style("fill", "#222").text(function(d) {
            if (scope.value(d)) {
                if (d.topic_no.length == 1) {
                    return (scope.label(d))
                }
                if (labels.clusters[d.id].name.split(', ').length >= 6)
                    return (trimLabel(labels.clusters[d.id].words))
                return (trimLabel(labels.clusters[d.id].name))
            }
            return ('')
        });
        nodeEnter.append("circle").attr("class", "vz-weighted_tree-node-circle").attr("r", 10).style("cursor", "pointer");
        nodeEnter.append("text").attr("x", function(d) {
            if (!scope.value(d)) return -50;
            return scope.value(d) < 0.1 ? -5 : -11
        }).attr("dy", 6).style("fill", "white").style("stroke", "white").style("pointer-events", "none").text(function(d) {
            text = Math.round(scope.value(d) * 100).toString();
            return (scope.value(d) ? text : '')
        });
        var link = linkPlot.selectAll(".vz-weighted_tree-link").data(links, function(d) {
            return d.target.vz_tree_id
        });
        link.enter().append("path").attr("class", function(d) {
            return "vz-weighted_tree-link vz-id-" + d.target.vz_tree_id
        }).attr("d", function(d) {
            var y = d.target.y0 ? d.target.y0 : rootNode.y0;
            var x = d.target.x0 ? d.target.x0 : rootNode.x0;
            var o = {
                x: x,
                y: y
            };
            return diagonal({
                source: o,
                target: o
            })
        }).on("mouseover", function(d, i) {
            scope.dispatch.mouseover(this, d, i)
        }).on("mouseout", function(d, i) {
            scope.dispatch.mouseout(this, d, i)
        }).style("stroke-linecap", "round");
        scope.dispatch.update();
        var nodeUpdate = node.transition();
        endUpdate(nodeUpdate, function() {
            scope.dispatch.node_refresh()
        });
        nodeUpdate.duration(scope.duration).attr("transform", function(d) {
            return "translate(" + d.y + "," + d.x + ")"
        });
        nodeUpdate.select("circle").attr("r", function(d) {
            return nodeRadius(d)
        });
        var nodeExit = node.exit().transition().duration(scope.duration).attr("transform", function(d) {
            d.x0 = null;
            d.y0 = null;
            return "translate(" + rootNode.y + "," + rootNode.x + ")"
        }).remove();
        nodeExit.select("circle").attr("r", 1e-6);
        nodeExit.select("text");
        link.transition().duration(scope.duration).attr("d", diagonal).style("stroke-width", function(d) {
            return nodeRadius(d.target) * 2
        });
        link.exit().transition().duration(scope.duration).attr("d", function(d) {
            var o = {
                x: rootNode.x,
                y: rootNode.y
            };
            return diagonal({
                source: o,
                target: o
            })
        }).remove();
        nodes.forEach(function(d) {
            d.x0 = d.x;
            d.y0 = d.y
        })
    }

    function positionNodes(rootNode, nodes) {
        var minY = d3.min(nodes, function(d) {
            return d.x
        });
        var maxY = d3.max(nodes, function(d) {
            return d.x
        });
        var maxX = d3.max(nodes, function(d) {
            return d.depth
        }) * depthSpan;
        var h = Math.max(scope.height, maxY - minY + size.top);
        var w = Math.max(window.innerWidth);
        if (size.height / 2 + maxY > h) h = size.height / 2 + maxY + tree.nodeSize()[0];
        svg.transition().duration(scope.duration).style("height", h + "px").style("width", w + "px");
        var offsetY = Math.max(0, -minY - size.height / 2) + tree.nodeSize()[0] / 2;
        nodes.forEach(function(d) {
            d.y = d.depth * depthSpan;
            d.x = d.x + offsetY - tree.nodeSize()[0]
        });
        scrollTop(rootNode.x)
    }

    function endUpdate(transition, callback) {
        var n = 0;
        transition.each(function() {
            ++n
        }).each("end", function() {
            if (!--n) callback.apply(this, arguments)
        })
    }

    function scrollTop(top) {
        scope.selection.transition().duration(scope.duration).tween("scrolltween", scrollTopTween(top));

        function scrollTopTween(scrollTop) {
            return function() {
                var i = d3.interpolateNumber(this.scrollTop, scrollTop);
                return function(t) {
                    this.scrollTop = i(t)
                }
            }
        }
    }

    function toggleNode(d) {
        if (d.children) {
            d._children = d.children;
            d.children = null
        } else {
            d.children = d._children;
            d._children = null
        }
        updateNode(d)
    }
    viz.update = function(refresh) {
        if (refresh == !0) refreshNeeded = !0;
        update();
        return viz
    };
    viz.toggleNode = function(d) {
        toggleNode(d)
    };
    return viz
};
vizuly.theme.weighted_tree = function(viz) {
    var skins = {
        "Axiis": {
            name: "Axiis",
            label_color: "#222",
            node_colors: ["#09f"],
            link_colors: ["#09f"],
            link_stroke: function(d, i) {
                return d.target.vz_link_color
            },
            link_stroke_opacity: function(d, i) {
                if (viz.value()(d.target) <= 0) return .15;
                return 0.4
            },
            node_fill: function(d, i) {
                return d.vz_node_color
            },
            node_fill_opacity: function(d, i) {
                if (viz.value()(d) <= 0) return .15;
                return 1
            },
            node_stroke: function(d, i) {
                return d.vz_node_color
            },
            node_stroke_opacity: function(d, i) {
                return 1
            },
            text_fill_opacity: function(d, i) {
                if (viz.value()(d) <= 0) return .35;
                return 1
            },
            font_size: function() {
                return fontSize + "px"
            }
        }
    }
    var viz = viz;
    var fontSize;
    var skinDirty = !0;
    var dataDirty = !0;
    var callbacks = [{
        on: "update.theme",
        callback: applyTheme
    }, {
        on: "data_prepped.theme",
        callback: prepColorData
    }, {
        on: "mouseover.theme",
        callback: onMouseOver
    }, {
        on: "mouseout.theme",
        callback: onMouseOut
    }];
    theme();

    function theme() {
        applyCallbacks()
    }

    function applyTheme() {
        if (!skin) return;
        var selection = viz.selection();
        min_dim = (viz.width() < viz.height() ? viz.width : viz.height())
        fontSize = Math.max(8, Math.round(viz.width() / 90));
        selection.selectAll(".vz-weighted_tree-node circle").style("stroke", function(d) {
            return skin.node_stroke(d)
        }).style("stroke-opacity", function(d) {
            return skin.node_stroke_opacity(d)
        }).style("fill", function(d) {
            return skin.node_fill(d)
        }).style("fill-opacity", function(d) {
            return skin.node_fill_opacity(d)
        });
        selection.selectAll(".vz-weighted_tree-node text").style("font-size", skin.font_size()).style("fill-opacity", function(d) {
            return skin.text_fill_opacity(d)
        });
        selection.selectAll(".vz-weighted_tree-link").style("stroke", function(d) {
            return skin.link_stroke(d)
        }).style("stroke-opacity", function(d) {
            return skin.link_stroke_opacity(d)
        })
    }

    function prepColorData() {
        if (!skin || !viz.data()) return;
        var nodes = viz.data();
        viz.children()(nodes).forEach(function(node, i) {
            node.vz_link_color = skin.link_colors[i % skin.link_colors.length];
            node.vz_node_color = skin.node_colors[i % skin.node_colors.length];
            setLinkColor(node)
        });
        skinDirty = !1;
        dataDirty = !1
    }

    function setLinkColor(node) {
        if (!viz.children()(node)) return;
        viz.children()(node).forEach(function(child) {
            child.vz_link_color = node.vz_link_color;
            child.vz_node_color = node.vz_node_color;
            setLinkColor(child)
        })
    }

    function onMouseOver(e, d, i) {
        var selection = viz.selection();
        selection.selectAll(".vz-id-" + d.vz_tree_id + " circle").style("fill-opacity", .9);
        selection.selectAll("path.vz-id-" + d.vz_tree_id).style("stroke-opacity", .8);
        selection.selectAll(".vz-id-" + d.vz_tree_id + " text").transition().style("font-size", fontSize * 1.25).style("font-weight", "bold")
    }

    function onMouseOut(e, d, i) {
        var selection = viz.selection();
        selection.selectAll(".vz-weighted_tree-node circle").style("fill", function(d) {
            return skin.node_fill(d)
        }).style("fill-opacity", function(d) {
            return skin.node_fill_opacity(d)
        })
        selection.selectAll(".vz-weighted_tree-node text").transition().style("font-size", fontSize).style("font-weight", "normal");
        selection.selectAll(".vz-weighted_tree-link").style("stroke-opacity", function(d) {
            return skin.link_stroke_opacity(d)
        })
    }

    function applyCallbacks() {
        callbacks.forEach(function(d) {
            viz.on(d.on, d.callback)
        })
    }

    function removeCallbacks() {
        callbacks.forEach(function(d) {
            viz.on(d.on, null)
        })
    }
    theme.apply = function(skin) {
        if (arguments.length > 0)
            theme.skin(skin);
        applyTheme();
        return theme
    }
    theme.release = function() {
        if (!viz) return;
        skin = skins.None;
        applyTheme();
        removeCallbacks();
        viz = null
    };
    theme.viz = function(_) {
        if (!arguments.length) {
            return viz
        }
        if (viz) {
            removeCallbacks()
        }
        viz = _;
        applyCallbacks()
    }
    theme.skin = function(_) {
        if (arguments.length == 0) {
            return skin
        }
        if (skins[_]) {
            skinDirty = !0;
            skin = skins[_]
        } else throw new Error("theme/weightedtree.js - skin " + _ + " does not exist.");
        return theme
    }
    theme.skins = function() {
        return skins
    }
    var skin = skins[vizuly.skin.WEIGHTED_TREE_AXIIS];
    return theme
}
vizuly.skin.WEIGHTED_TREE_AXIIS = "Axiis";
var viz_container;
var viz;
var theme;
toolTipIdStack = [];

function openTree(o) {
    if (o.children) {
        for (i in o.children) {
            viz.toggleNode(o.children[i])
            openTree(o.children[i])
        }
    }
}

function initialize_graph(data) {
    computeClustProportions(data);
    viz = vizuly.viz.weighted_tree(document.getElementById("viz_container"));
    theme = vizuly.theme.weighted_tree(viz).skin(vizuly.skin.WEIGHTED_TREE_AXIIS);
    console.log(data);
    viz.data(data).width(600).height(600).children(function(d) {
        return d.children
    }).key(function(d) {
        return d.id
    }).value(function(d) {
        return Number(d.proportion)
    }).fixedSpan(-1).branchPadding(-1).label(function(d) {
        return trimLabel(d.name.toString())
    }).on("measure", onMeasure).on("click", click);
    changeSize();
    openTree(data)
    console.log(data.id)
    // createDataTipQuestion(20, 20, data.name.toString(), data.summary.toString(), data.id);
    // toolTipIdStack.push(-1)
    // d3.select("body").append("div").attr('id', 'labeler').style("position", "fixed").style("top", "0%").style("left", "0%").style("opacity", 0).html('<div class="sidebar" style="display: flex; position:fixed;flex-direction: column; justify-content:center;width: ' + (width_left * 1.1) + 'px; overflow-y:scroll;top:0;bottom:0;direction:rtl;height:' + window.innerHeight + ';background-opacity:0.5">' + '<div>' + '<div class="header1 sidebar-item" style="font-size:20px;font-weight:bold; padding: 15px 15px 10px 15px">' + data.name[0] + '</div>' + '<div class="header2 sidebar-item" style="font-size: 0.66em;padding:0px 4px 5px 4px">' + data.summary[0] + ' (after removing stop words).</div>' + '<button class="sidebar-item" type="button" onclick="download(\'labels\')" style="display: block; margin: 0 auto 0 auto; font-size: 15px">download labels</button>' + '</div>' + '<div style="padding:5px"></div>' + '<div class="sidebar-rule"></div>' + '<div style="padding:10px"></div>' + '<div>' + '<div class="header2 sidebar-item" style="font-size:18px;font-weight:bold;color:#444">STM Tree Overview</div>' + '<div class="thoughts sidebar-item" style="padding: 4px 4px 15px 4px; text-align:center;font-size:15px">This is a structural topic model visualization, with hierarchical topic clusters. The leaf nodes are topics, the branching nodes are topic clusters, and the numbers are the total prevalence of the topic or cluster as a percentage all the documents. The large partially obscured node represents the entire body of texts. The clusters signify that the connected topics are more likely to co-occur in a single response (each response contains a mixture of multiple topics). Click on any node for more information.</div>' + '</div>' + '</div>').transition().style("opacity", 1)
   // creates left hand sidebar
}

function checkAllDone(str) {
    done = !0
    if (str === 'topics') {
        for (i = 1; i <= labels.topics.length; i++) {
            if ((labels.topics[i].name.toString().split(",").length - 1) === 6)
                done = !1
        }
    } else {
        for (i in labels.clusters) {
            if ((labels.clusters[i].name.toString().split(",").length - 1) === 6)
                done = !1
        }
    }
    if (done)
        console.log('done with ' + str)
}

function createDataTipTopic(x, y, prop, name, prob, frex, lift, score, thoughts, proportions, id, d) {
    var datatip_topic = '<div class="tooltip" style="display: flex; flex-direction: column; width: 20em; min-height:16.1em;max-height:20em;background-opacity:0.5"><div style="display:flex; justify-content: space-between"> <div onclick="removeToolTip(<id>)" style="align-self:flex-start;cursor:pointer;color:#888;float:left;display:inline;" alt="close">&#10005;</div><div class="header1" style="font-weight:bold;margin-right:20px"> <name> </div><div></div></div><div class="scrollbox" style="overflow:auto;"><div class="header-rule" style="margin-top:0px; margin-bottom:10px"></div>'
    
    if (d.summary !== undefined) {
        datatip_topic += '<div class="header2" style="font-weight:bold;">Topic Summary</div><div class="header2"> <div style="margin: 0px 45px 0px 45px; text-align: left;"> ' + d.summary + ' </div></div><div class="header-rule" style="margin-top:0px; margin-bottom:10px"></div>'
    }
    
    datatip_topic += '<div class="header2" style="font-weight:bold;">Representative Words<sup style="color:#999" title="The most representative words calculated by various metrics (probability, frex, lift, score), then weighted and combined">?</sup></div><div class="header2"> <div style="margin: 0px 45px 0px 45px"> <words> </div></div><div class="header-rule"></div><div class="header2" style="font-weight:bold;">Representative Documents<sup style="color:#999" title="The documents containing the highest percentage of this topic (documents can contain multiple topics)">?</sup></div><div class="thought-container"> <div class="thoughts"> <doc1> </div><div class="overlay-text"> <proportion1> % representative of this topic </div></div>';

    for (i = 2; i < thoughts.length; i++) {
        datatip_topic += '<div class="header-rule-short"></div>' + '<div class="thought-container"><div class="thoughts"><doc' + i.toString() + '></div><div class="overlay-text"><proportion' + i.toString() + '>% representative of this topic</div></div>'
    }
    datatip_topic += '</div></div>';
    var html = datatip_topic.replace("<prop>", (prop * 100).toString().substr(0, 2) + '%');
    html = html.replace("<name>", name);
    html = html.replace("<id>", id);
    html = html.replace("<words>", labels.topics[d.topic_no].combined);
    for (var i = 0; i < thoughts.length; i++) {
        html = html.replace("<doc" + (i + 1).toString() + ">", thoughts[i]);
        html = html.replace("<proportion" + (i + 1).toString() + ">", (proportions[i] * 100).toFixed(1))
    }
    toolTipIdStack.push(id);

    d3.select("body").append("div").attr("class", "vz-weighted_tree-tip" + id.toString()).attr('id', 'labeler').style("position", "fixed").style("top", "15%").style("left", "40%").style("opacity", 0).html(html).transition().style("opacity", 1);
   //  var nameInput = document.getElementById('topicLabeler');
   //  document.querySelector('form.pure-form').addEventListener('submit', function(e) {
   //      e.preventDefault();
   //      labels.topics[d.topic_no].name = nameInput.value;
   //      d.name = labels.topics[d.topic_no].name;
   //      d3.select('#node_' + id + '_text').text(nameInput.value)
   //      checkAllDone('topics')
   //  })
}

function setY(y) {
    if (y > window.innerHeight - 350) {
        return (window.innerHeight - 350 + 'px')
    }
    return (y + 'px')
}

function createDataTipClust(x, y, name, words, topics, id, d) { 
    var datatip_cluster = '<div class="tooltip" style="display: flex; flex-direction: column; width: 20em; min-height:16.1em;max-height:20em;background-opacity:0.5"><div style="display:flex; justify-content: space-between"> <div onclick="removeToolTip(<id>)" style="align-self:flex-start;cursor:pointer;color:#888;float:left;display:inline;" alt="close">&#10005;</div><div class="header1" style="font-weight:bold;margin-right:20px"> <name> </div><div></div></div><div class="scrollbox" style="overflow:auto;"><div class="header-rule" style="margin-top:0px; margin-bottom:10px"></div>'    

    if (d.summary != null) {
        datatip_cluster += '<div class="header2" style="font-weight:bold;">Topic Cluster Summary</div><div class="header2"> <div style="margin: 0px 45px 0px 45px; text-align: left;"> ' + d.summary + ' </div></div><div class="header-rule" style="margin-top:0px; margin-bottom:10px"></div>'
    }
    //<div class="header-rule" style="margin-top:0px; margin-bottom:0px"></div>
    datatip_cluster += '<div class="header2" style="font-weight:bold;margin-top:10px">Cluster of Topics</div>' + '<div class="header2" id="clust_topics" style="margin-top:0px;margin-bottom:0px;list-style-type:none;display:flex;flex-direction:column;max-height:150px;overflow:auto;min-height:50px">'

    for (i in labels.clusters[id].topics)
        datatip_cluster += '<p class="header2 clust_topic" style="font-size:14px;margin:1px 0px 1px 0px">' + labels.topics[labels.clusters[id].topics[i]].name + '</p>';
    datatip_cluster = datatip_cluster.substr(0, datatip_cluster.length - 2);
    datatip_cluster += '</div></div>' + '<div class="header-rule" style="margin-top:0px"></div>' + '<div class="header2" style="font-weight:bold;">Representative Words<sup style="color:#999" title="The most representative words calculated by various metrics (probability, frex, lift, score), then weighted and combined">?</sup></div>' + '<div class="header2">' + '<div style="margin: 0px 45px 0px 45px"><words></div>' + '</div>' + '<div class="header-rule"></div>'
    if (d.thoughts != null && d.thoughts.length > 0) {
        // datatip_cluster += '<div class="header2" style="font-weight:bold;">Representative Documents<sup style="color:#999" title="The documents containing the highest percentage of this topic (documents can contain multiple topics)">?</sup></div><div class="thought-container"> <div class="thoughts"> <doc1> </div><div class="overlay-text"> <proportion1> % representative of this topic </div></div>'

        datatip_cluster += '<div class="header2" style="font-weight:bold;">Representative Documents<sup style="color:#999" title="The documents containing the highest percentage of this topic (documents can contain multiple topics)">?</sup></div><div style="max-height:17.5em;min-height:1.5em"><div class="thought-container"><div class="thoughts"><doc1></div><div class="overlay-text"><proportion1>% representative of this topic cluster, with <variance1>% total variance between topics</div></div>';
        for (i = 2; i <= d.thoughts.length; i++) {
            datatip_cluster += '<div class="header-rule-short"></div>' + '<div class="thought-container"><div class="thoughts"><doc' + i.toString() + '></div><div class="overlay-text"><proportion' + i.toString() + '>% representative of this topic cluster, with <variance' + i.toString() + '>% total variance between topics</div></div>'
        }
        for (var i = 0; i < d.thoughts.length; i++) {
            datatip_cluster = datatip_cluster.replace("<doc" + (i + 1).toString() + ">", d.thoughts[i]);
            datatip_cluster = datatip_cluster.replace("<proportion" + (i + 1).toString() + ">", (d.thought_proportions[i] * 100).toFixed(1));
            datatip_cluster = datatip_cluster.replace("<variance" + (i + 1).toString() + ">", (d.thought_variances[i] * 100).toFixed(1))
        }
    } else {
        datatip_cluster += '<div class="header2" style="font-weight:bold;">No Representative Documents Found<sup style="color:#999" title="The documents containing the highest percentage of this topic (documents can contain multiple topics)">?</sup></div>'
    }
    datatip_cluster += '</div>' + '</div>';
    datatip_cluster = datatip_cluster.replace("<name>", name);
    datatip_cluster = datatip_cluster.replace("<id>", id);
    datatip_cluster = datatip_cluster.replace("<words>", words);
    toolTipIdStack.push(id);
    d3.select("body").append("div").attr("class", "vz-weighted_tree-tip" + id.toString()).attr('id', 'labeler').style("position", "fixed").style("top", "15%").style("left", "40%").style("opacity", 0).html(datatip_cluster).transition().style("opacity", 1);

    function isOverflown(element) {
        return element.scrollHeight > element.clientHeight || element.scrollWidth > element.clientWidth
    }
    $.fn.overflown = function() {
        var e = this[0];
        return e.scrollHeight > e.clientHeight || e.scrollWidth > e.clientWidth
    }
    if ($("#clust_topics").overflown()) {
        $('.clust_topic').css('margin-left', '15px')
    }
   //  var nameInput = document.getElementById('topicLabeler');
   //  document.querySelector('form.pure-form').addEventListener('submit', function(e) {
   //      e.preventDefault();
   //      labels.clusters[id].name = nameInput.value;
   //      d3.select('#node_' + id + '_text').text(nameInput.value)
   //      d.name = labels.clusters[id].name
   //      checkAllDone('clusters')
   //  })
}

<!-- #raw -->
function createDataTipQuestion(x, y, question, summary, id) {
    var datatip_cluster = '<div class="tooltip" style="display: flex; flex-direction: column; width: 20em; min-height:16.1em;max-height:20em;background-opacity:0.5"><div style="display:flex; justify-content: space-between"> <div onclick="removeToolTip(<id>)" style="align-self:flex-start;cursor:pointer;color:#888;float:left;display:inline;" alt="close">&#10005;</div><div class="header1" style="font-weight:bold;margin-right:20px"> <name> </div><div></div></div><div class="scrollbox" style="overflow:auto;"><div class="header-rule" style="margin-top:0px; margin-bottom:10px"></div>'    

    var datatip_question = '<div class="tooltip" style="overflow:hidden; display: flex; flex-direction: column; width: 20em; min-height:16.1em;max-height:20em;background-opacity:0.5">' 
      + '<div style="display:flex; justify-content: space-between">' 
         + '<div onclick="removeToolTip(<id>)" style="align-self:flex-start;cursor:pointer;color:#888;float:left;display:inline;" alt="close">&#10005;</div>' 
         + '<div class="header1" style="font-weight:bold;margin-right:20px"><question></div>' 
         + '<div></div>'
      + '</div>' 
      + '<div class="header-rule" style="margin-top:0px; margin-bottom:10px"/><div class="header2" style="font-weight:bold;"></div>'
    //   + '<div class="scrollbox" style="max-height:20px;overflow:auto;display: flex; flex-direction: column;">'
        + '<div class="header2"><summary>' 
            + '<div style="margin: 0px 45px 0px 45px"><words></div>' 
        + '</div>' 
        + '<div class="header-rule" style="margin-bottom:20px;"></div>' 
        + '<div class="header2" style="font-weight:bold;"></div><p style="max-height:50px; overflow:auto; font-size:18px; margin-top:10px">This is a structural topic model visualization, with hierarchical topic clusters. The leaf nodes are topics, the branching nodes are topic clusters, and the numbers are the total prevalence of the topic or cluster as a percentage all the documents. The large partially obscured node represents the entire body of texts. The clusters signify that the connected topics are more likely to co-occur in a single response (each response contains a mixture of multiple topics). Click on any node for more information.</p>' 
    //   + '</div>'
   //  var datatip_question = '<div class="tooltip" style="display:flex;flex-direction:column;align-items:center;width: 20em; background-opacity:0.5">'
   //       + '<div class="header1"><question></div>' 
   //       + '<div class="header-rule-short"></div>' 
   //       + '<div class="header2" style="font-size: 0.66em;"><summary> (after removing stop words).</div>' 
   //       + '<div class="header-rule-short"></div>' 
   //       + '<button type="button" onclick="download(\'labels\')">download labels</button>' 
   //       + '</div>'
   summary = summary.substr(0, summary.length - 1)
   var datatip_question = datatip_question.replace("<id>", id);
   var datatip_question = datatip_question.replace("<question>", question);
   var datatip_question = datatip_question.replace("<summary>", summary)
   d3.select("body").append("div")
      .attr("class", "vz-weighted_tree-tip" + id
      .toString())
      .attr('id', 'labeler')
      .style("position", "fixed")
      .style("top", "15%")
      .style("left", "40%")
      .style("opacity", 0)
      .html(datatip_question)
      .transition()
      .style("opacity", 1);
}

function onMeasure() {
    viz.tree().nodeSize([60, 0])
}

function click(el, d, i) {
    onClick(el, d, i)
}
$(document).keyup(function(e) {
    if (e.keyCode == 27) {
        removeToolTip(toolTipIdStack[toolTipIdStack.length - 1])
    }
});

function removeToolTip(id) {
    val = ".vz-weighted_tree-tip" + id.toString()
    toolTipIdStack.pop()
    d3.selectAll(val).transition().style("opacity", 0).remove();
    tooltipPresent = !1
}

function onClick(e, d, i) {
    var rect = e.getBoundingClientRect();
    if (d == data) {
        createDataTipQuestion(rect.left, (rect.top + viz.height() * .05), data.name.toString(), d.summary.toString(), d.id);
        tooltipPresent = !0;
        return
    }
    if (d.target) d = d.target;
    if (d.topic_no.length === 1) {
        createDataTipTopic(rect.left, (rect.top + viz.height() * .05), d.proportion.toString(), d.name.toString(), 'Highest Probability: ' + d.prob.toString(), 'FREX: ' + d.frex.toString(), 'Lift: ' + d.lift.toString(), 'Score: ' + d.score.toString(), d.thoughts, d.thought_proportions, d.id, d)
    }
    if (d.topic_no.length !== 1 && d !== data) {
        createDataTipClust(rect.left, (rect.top + viz.height() * .05), labels.clusters[d.id].name, labels.clusters[d.id].words, d.topic_no, d.id, d)
    }
    tooltipPresent = !0
}

function download(content, fileName) {
    if (content === 'clusters')
        content = labels.clusters
    if (content === 'topics')
        content = labels.topics
    if (content === 'labels')
        content = labels
    if (content === 'data')
        content = data
    var a = document.createElement("a");
    var file = new Blob([JSON.stringify(content)], {
        type: 'application/json'
    });
    a.href = URL.createObjectURL(file);
    a.download = fileName;
    a.click()
}

function onDblClick(g, d, i) {
    viz.toggleNode(d)
}

function changeSkin(val) {
    if (val == "None") {
        theme.release()
    } else {
        theme.viz(viz);
        theme.skin(val)
    }
    viz().update()
}

function changeSize(width, height) {
    width = window.innerWidth
    height = window.innerHeight
    d3.selectAll("#viz_container").transition().duration(0).style('width').style('height');
    viz.width(width).height(height).update()
}
</script>
<div id="viz_container"></div>
<script>
   //Once the document is ready we set javascript and page settings
   var screenWidth;
   var screenHeight;

   $(document).ready(function () {
      d3.selectAll("footer > div.container").style("display", "contents")

      var rect;
      if (self==top) {
        rect = document.body.getBoundingClientRect();
      }
      else {
        rect =  parent.document.body.getBoundingClientRect();
      }

      // Set the size of our container element.
      viz_container = d3.selectAll("#viz_container")
               // .style("width", $(window).width().toString() + "px")
               // .style("height", $(window).height().toString() + "px")
               .style("width", ($("main").width()).toString() + "px")
               .style("height", $("main").height().toString() + "px")
               .style("display", "inline-block")
               // .on('click', removeToolTip());
      if(!stm_data.this_root)
        console.log('data loading error');
      initialize_graph(stm_data);
      
    //   $(".js-show-sidebar").css("width", "100%")
      $("main").css("width", "100%")
    //   $(".c-topbar").css("width", "100%")
      
    //   parent = document.getElementsByClassName("c-textbook__page")[0]
    //   parent.appendChild(document.getElementById('viz_container'))
    //   after_elts = document.getElementsByClassName("after-tree")
    //   for (let i = 0; i < after_elts.length; i++) {
    //      parent.appendChild(after_elts[i])
    //   }
    //   parent.appendChild(document.getElementById('textbook_footer'))
    //   $(".after-tree").css("width", "37.5%")

    //   var stm_info_p = document.getElementById("stm-info");
    //   var name_text = document.createTextNode(stm_data.name[0]);
    //   var summary_text = document.createTextNode(stm_data.summary[0].slice(1)); // removes leading "A"
    //   stm_info_p.appendChild(document.createTextNode("The stated question for these responses was \""));
    //   stm_info_p.appendChild(name_text); // stated question, eg. "What is the reason behind your anticipated change in arts involvement?"
    //   stm_info_p.appendChild(document.createTextNode("Our methods produced a"));
    //   stm_info_p.appendChild(summary_text); // stm stats, eg. "A topic model with 12 topics, 2271 documents and a 375 word dictionary."
   });

   window.addEventListener("resize", changeSize());
</script>
<p class="after-tree">
</p>
<!-- #endraw -->
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../feel.html" title="previous page">Emotional Impact</a>
    <a class='right-next' id="next-link" href="topics.html" title="next page">Summary of Topics</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Gabriel Harp<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../_static/js/index.js"></script>
    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-44678143-2', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    
  </body>
</html>